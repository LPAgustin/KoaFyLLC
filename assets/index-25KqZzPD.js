var uR=Object.defineProperty;var hR=(n,t,e)=>t in n?uR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var lt=(n,t,e)=>hR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function _y(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yp={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function fR(){if(Pb)return xc;Pb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return xc.Fragment=t,xc.jsx=e,xc.jsxs=e,xc}var Nb;function dR(){return Nb||(Nb=1,Yp.exports=fR()),Yp.exports}var G=dR(),$p={exports:{}},Ac={},Xp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function gR(){return Lb||(Lb=1,function(n){function t(st,ht){var dt=st.length;st.push(ht);t:for(;0<dt;){var wt=dt-1>>>1,z=st[wt];if(0<s(z,ht))st[wt]=ht,st[dt]=z,dt=wt;else break t}}function e(st){return st.length===0?null:st[0]}function i(st){if(st.length===0)return null;var ht=st[0],dt=st.pop();if(dt!==ht){st[0]=dt;t:for(var wt=0,z=st.length,rt=z>>>1;wt<rt;){var gt=2*(wt+1)-1,ut=st[gt],ct=gt+1,At=st[ct];if(0>s(ut,dt))ct<z&&0>s(At,ut)?(st[wt]=At,st[ct]=dt,wt=ct):(st[wt]=ut,st[gt]=dt,wt=gt);else if(ct<z&&0>s(At,dt))st[wt]=At,st[ct]=dt,wt=ct;else break t}}return ht}function s(st,ht){var dt=st.sortIndex-ht.sortIndex;return dt!==0?dt:st.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],d=[],m=1,_=null,b=3,E=!1,w=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function B(st){for(var ht=e(d);ht!==null;){if(ht.callback===null)i(d);else if(ht.startTime<=st)i(d),ht.sortIndex=ht.expirationTime,t(h,ht);else break;ht=e(d)}}function Y(st){if(x=!1,B(st),!w)if(e(h)!==null)w=!0,Gt();else{var ht=e(d);ht!==null&&Et(Y,ht.startTime-st)}}var H=!1,Z=-1,M=5,I=-1;function C(){return!(n.unstable_now()-I<M)}function k(){if(H){var st=n.unstable_now();I=st;var ht=!0;try{t:{w=!1,x&&(x=!1,O(Z),Z=-1),E=!0;var dt=b;try{e:{for(B(st),_=e(h);_!==null&&!(_.expirationTime>st&&C());){var wt=_.callback;if(typeof wt=="function"){_.callback=null,b=_.priorityLevel;var z=wt(_.expirationTime<=st);if(st=n.unstable_now(),typeof z=="function"){_.callback=z,B(st),ht=!0;break e}_===e(h)&&i(h),B(st)}else i(h);_=e(h)}if(_!==null)ht=!0;else{var rt=e(d);rt!==null&&Et(Y,rt.startTime-st),ht=!1}}break t}finally{_=null,b=dt,E=!1}ht=void 0}}finally{ht?L():H=!1}}}var L;if(typeof V=="function")L=function(){V(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,N=U.port2;U.port1.onmessage=k,L=function(){N.postMessage(null)}}else L=function(){A(k,0)};function Gt(){H||(H=!0,L())}function Et(st,ht){Z=A(function(){st(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_continueExecution=function(){w||E||(w=!0,Gt())},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(h)},n.unstable_next=function(st){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var dt=b;b=ht;try{return st()}finally{b=dt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(st,ht){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=b;b=st;try{return ht()}finally{b=dt}},n.unstable_scheduleCallback=function(st,ht,dt){var wt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?wt+dt:wt):dt=wt,st){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=dt+z,st={id:m++,callback:ht,priorityLevel:st,startTime:dt,expirationTime:z,sortIndex:-1},dt>wt?(st.sortIndex=dt,t(d,st),e(h)===null&&st===e(d)&&(x?(O(Z),Z=-1):x=!0,Et(Y,dt-wt))):(st.sortIndex=z,t(h,st),w||E||(w=!0,Gt())),st},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(st){var ht=b;return function(){var dt=b;b=ht;try{return st.apply(this,arguments)}finally{b=dt}}}}(Qp)),Qp}var Vb;function pR(){return Vb||(Vb=1,Xp.exports=gR()),Xp.exports}var Zp={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function mR(){if(zb)return Mt;zb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function A(z,rt,gt){this.props=z,this.context=rt,this.refs=x,this.updater=gt||E}A.prototype.isReactComponent={},A.prototype.setState=function(z,rt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,rt,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=A.prototype;function V(z,rt,gt){this.props=z,this.context=rt,this.refs=x,this.updater=gt||E}var B=V.prototype=new O;B.constructor=V,w(B,A.prototype),B.isPureReactComponent=!0;var Y=Array.isArray,H={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function M(z,rt,gt,ut,ct,At){return gt=At.ref,{$$typeof:n,type:z,key:rt,ref:gt!==void 0?gt:null,props:At}}function I(z,rt){return M(z.type,rt,void 0,void 0,void 0,z.props)}function C(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function k(z){var rt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(gt){return rt[gt]})}var L=/\/+/g;function U(z,rt){return typeof z=="object"&&z!==null&&z.key!=null?k(""+z.key):rt.toString(36)}function N(){}function Gt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(rt){z.status==="pending"&&(z.status="fulfilled",z.value=rt)},function(rt){z.status==="pending"&&(z.status="rejected",z.reason=rt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Et(z,rt,gt,ut,ct){var At=typeof z;(At==="undefined"||At==="boolean")&&(z=null);var Tt=!1;if(z===null)Tt=!0;else switch(At){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(z.$$typeof){case n:case t:Tt=!0;break;case m:return Tt=z._init,Et(Tt(z._payload),rt,gt,ut,ct)}}if(Tt)return ct=ct(z),Tt=ut===""?"."+U(z,0):ut,Y(ct)?(gt="",Tt!=null&&(gt=Tt.replace(L,"$&/")+"/"),Et(ct,rt,gt,"",function(pe){return pe})):ct!=null&&(C(ct)&&(ct=I(ct,gt+(ct.key==null||z&&z.key===ct.key?"":(""+ct.key).replace(L,"$&/")+"/")+Tt)),rt.push(ct)),1;Tt=0;var Ae=ut===""?".":ut+":";if(Y(z))for(var Wt=0;Wt<z.length;Wt++)ut=z[Wt],At=Ae+U(ut,Wt),Tt+=Et(ut,rt,gt,At,ct);else if(Wt=b(z),typeof Wt=="function")for(z=Wt.call(z),Wt=0;!(ut=z.next()).done;)ut=ut.value,At=Ae+U(ut,Wt++),Tt+=Et(ut,rt,gt,At,ct);else if(At==="object"){if(typeof z.then=="function")return Et(Gt(z),rt,gt,ut,ct);throw rt=String(z),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(z,rt,gt){if(z==null)return z;var ut=[],ct=0;return Et(z,ut,"","",function(At){return rt.call(gt,At,ct++)}),ut}function ht(z){if(z._status===-1){var rt=z._result;rt=rt(),rt.then(function(gt){(z._status===0||z._status===-1)&&(z._status=1,z._result=gt)},function(gt){(z._status===0||z._status===-1)&&(z._status=2,z._result=gt)}),z._status===-1&&(z._status=0,z._result=rt)}if(z._status===1)return z._result.default;throw z._result}var dt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function wt(){}return Mt.Children={map:st,forEach:function(z,rt,gt){st(z,function(){rt.apply(this,arguments)},gt)},count:function(z){var rt=0;return st(z,function(){rt++}),rt},toArray:function(z){return st(z,function(rt){return rt})||[]},only:function(z){if(!C(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Mt.Component=A,Mt.Fragment=e,Mt.Profiler=s,Mt.PureComponent=V,Mt.StrictMode=i,Mt.Suspense=h,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Mt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Mt.cache=function(z){return function(){return z.apply(null,arguments)}},Mt.cloneElement=function(z,rt,gt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=w({},z.props),ct=z.key,At=void 0;if(rt!=null)for(Tt in rt.ref!==void 0&&(At=void 0),rt.key!==void 0&&(ct=""+rt.key),rt)!Z.call(rt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&rt.ref===void 0||(ut[Tt]=rt[Tt]);var Tt=arguments.length-2;if(Tt===1)ut.children=gt;else if(1<Tt){for(var Ae=Array(Tt),Wt=0;Wt<Tt;Wt++)Ae[Wt]=arguments[Wt+2];ut.children=Ae}return M(z.type,ct,void 0,void 0,At,ut)},Mt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Mt.createElement=function(z,rt,gt){var ut,ct={},At=null;if(rt!=null)for(ut in rt.key!==void 0&&(At=""+rt.key),rt)Z.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ct[ut]=rt[ut]);var Tt=arguments.length-2;if(Tt===1)ct.children=gt;else if(1<Tt){for(var Ae=Array(Tt),Wt=0;Wt<Tt;Wt++)Ae[Wt]=arguments[Wt+2];ct.children=Ae}if(z&&z.defaultProps)for(ut in Tt=z.defaultProps,Tt)ct[ut]===void 0&&(ct[ut]=Tt[ut]);return M(z,At,void 0,void 0,null,ct)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(z){return{$$typeof:u,render:z}},Mt.isValidElement=C,Mt.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:ht}},Mt.memo=function(z,rt){return{$$typeof:d,type:z,compare:rt===void 0?null:rt}},Mt.startTransition=function(z){var rt=H.T,gt={};H.T=gt;try{var ut=z(),ct=H.S;ct!==null&&ct(gt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(wt,dt)}catch(At){dt(At)}finally{H.T=rt}},Mt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Mt.use=function(z){return H.H.use(z)},Mt.useActionState=function(z,rt,gt){return H.H.useActionState(z,rt,gt)},Mt.useCallback=function(z,rt){return H.H.useCallback(z,rt)},Mt.useContext=function(z){return H.H.useContext(z)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(z,rt){return H.H.useDeferredValue(z,rt)},Mt.useEffect=function(z,rt){return H.H.useEffect(z,rt)},Mt.useId=function(){return H.H.useId()},Mt.useImperativeHandle=function(z,rt,gt){return H.H.useImperativeHandle(z,rt,gt)},Mt.useInsertionEffect=function(z,rt){return H.H.useInsertionEffect(z,rt)},Mt.useLayoutEffect=function(z,rt){return H.H.useLayoutEffect(z,rt)},Mt.useMemo=function(z,rt){return H.H.useMemo(z,rt)},Mt.useOptimistic=function(z,rt){return H.H.useOptimistic(z,rt)},Mt.useReducer=function(z,rt,gt){return H.H.useReducer(z,rt,gt)},Mt.useRef=function(z){return H.H.useRef(z)},Mt.useState=function(z){return H.H.useState(z)},Mt.useSyncExternalStore=function(z,rt,gt){return H.H.useSyncExternalStore(z,rt,gt)},Mt.useTransition=function(){return H.H.useTransition()},Mt.version="19.0.0",Mt}var Ub;function vy(){return Ub||(Ub=1,Zp.exports=mR()),Zp.exports}var Jp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function yR(){if(Bb)return an;Bb=1;var n=vy();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,m)},an.flushSync=function(h){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=m,i.d.f()}},an.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},an.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},an.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):m==="script"&&i.d.X(h,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},an.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},an.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin);i.d.L(h,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},an.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},an.requestFormReset=function(h){i.d.r(h)},an.unstable_batchedUpdates=function(h,d){return h(d)},an.useFormState=function(h,d,m){return l.H.useFormState(h,d,m)},an.useFormStatus=function(){return l.H.useHostTransitionStatus()},an.version="19.0.0",an}var jb;function _R(){if(jb)return Jp.exports;jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jp.exports=yR(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function vR(){if(Fb)return Ac;Fb=1;var n=pR(),t=vy(),e=_R();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case E:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case w:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:I(r.type)||"Memo";case V:a=r._payload,r=r._init;try{return I(r(a))}catch{}}return null}var C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,L,U;function N(r){if(L===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||"",U=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+r+U}var Gt=!1;function Et(r,a){if(!r||Gt)return"";Gt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(J){var $=J}Reflect.construct(r,[],it)}else{try{it.call()}catch(J){$=J}r.call(it.prototype)}}else{try{throw Error()}catch(J){$=J}(it=r())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],R=y[1];if(S&&R){var P=S.split(`
`),F=R.split(`
`);for(p=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;if(f===P.length||p===F.length)for(f=P.length-1,p=F.length-1;1<=f&&0<=p&&P[f]!==F[p];)p--;for(;1<=f&&0<=p;f--,p--)if(P[f]!==F[p]){if(f!==1||p!==1)do if(f--,p--,0>p||P[f]!==F[p]){var tt=`
`+P[f].replace(" at new "," at ");return r.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",r.displayName)),tt}while(1<=f&&0<=p);break}}}finally{Gt=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?N(c):""}function st(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=Et(r.type,!1),r;case 11:return r=Et(r.type.render,!1),r;case 1:return r=Et(r.type,!0),r;default:return""}}function ht(r){try{var a="";do a+=st(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function dt(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function wt(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function z(r){if(dt(r)!==r)throw Error(i(188))}function rt(r){var a=r.alternate;if(!a){if(a=dt(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,f=a;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return z(p),r;if(y===f)return z(p),a;y=y.sibling}throw Error(i(188))}if(c.return!==f.return)c=p,f=y;else{for(var S=!1,R=p.child;R;){if(R===c){S=!0,c=p,f=y;break}if(R===f){S=!0,f=p,c=y;break}R=R.sibling}if(!S){for(R=y.child;R;){if(R===c){S=!0,c=y,f=p;break}if(R===f){S=!0,f=y,c=p;break}R=R.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function gt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=gt(r),a!==null)return a;r=r.sibling}return null}var ut=Array.isArray,ct=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},Tt=[],Ae=-1;function Wt(r){return{current:r}}function pe(r){0>Ae||(r.current=Tt[Ae],Tt[Ae]=null,Ae--)}function Zt(r,a){Ae++,Tt[Ae]=r.current,r.current=a}var gn=Wt(null),Hi=Wt(null),Ln=Wt(null),Vs=Wt(null);function zs(r,a){switch(Zt(Ln,a),Zt(Hi,r),Zt(gn,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?cb(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=cb(r),a=ub(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}pe(gn),Zt(gn,a)}function qi(){pe(gn),pe(Hi),pe(Ln)}function bl(r){r.memoizedState!==null&&Zt(Vs,r);var a=gn.current,c=ub(a,r.type);a!==c&&(Zt(Hi,r),Zt(gn,c))}function Za(r){Hi.current===r&&(pe(gn),pe(Hi)),Vs.current===r&&(pe(Vs),bc._currentValue=At)}var Ja=Object.prototype.hasOwnProperty,$r=n.unstable_scheduleCallback,to=n.unstable_cancelCallback,Xd=n.unstable_shouldYield,El=n.unstable_requestPaint,bn=n.unstable_now,Uu=n.unstable_getCurrentPriorityLevel,Me=n.unstable_ImmediatePriority,je=n.unstable_UserBlockingPriority,Gi=n.unstable_NormalPriority,Bu=n.unstable_LowPriority,Tl=n.unstable_IdlePriority,Qd=n.log,Xr=n.unstable_setDisableYieldValue,Us=null,sn=null;function Sl(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Us,r,void 0,(r.current.flags&128)===128)}catch{}}function pi(r){if(typeof Qd=="function"&&Xr(r),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Us,r)}catch{}}var pn=Math.clz32?Math.clz32:Fu,wl=Math.log,ju=Math.LN2;function Fu(r){return r>>>=0,r===0?32:31-(wl(r)/ju|0)|0}var mi=128,Bs=4194304;function ii(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Vn(r,a){var c=r.pendingLanes;if(c===0)return 0;var f=0,p=r.suspendedLanes,y=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var R=c&134217727;return R!==0?(c=R&~p,c!==0?f=ii(c):(y&=R,y!==0?f=ii(y):r||(S=R&~S,S!==0&&(f=ii(S))))):(R=c&~p,R!==0?f=ii(R):y!==0?f=ii(y):r||(S=c&~S,S!==0&&(f=ii(S)))),f===0?0:a!==0&&a!==f&&!(a&p)&&(p=f&-f,S=a&-a,p>=S||p===32&&(S&4194176)!==0)?a:f}function js(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function eo(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var r=mi;return mi<<=1,!(mi&4194176)&&(mi=128),r}function Fs(){var r=Bs;return Bs<<=1,!(Bs&62914560)&&(Bs=4194304),r}function no(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Te(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hu(r,a,c,f,p,y){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var R=r.entanglements,P=r.expirationTimes,F=r.hiddenUpdates;for(c=S&~c;0<c;){var tt=31-pn(c),it=1<<tt;R[tt]=0,P[tt]=-1;var $=F[tt];if($!==null)for(F[tt]=null,tt=0;tt<$.length;tt++){var J=$[tt];J!==null&&(J.lane&=-536870913)}c&=~it}f!==0&&Hs(r,f,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~a))}function Hs(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-pn(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194218}function qs(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-pn(c),p=1<<f;p&a|r[f]&a&&(r[f]|=a),c&=~p}}function qu(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Gu(){var r=ct.p;return r!==0?r:(r=window.event,r===void 0?32:Cb(r.type))}function Gs(r,a){var c=ct.p;try{return ct.p=r,a()}finally{ct.p=c}}var yi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+yi,Oe="__reactProps$"+yi,Wi="__reactContainer$"+yi,Qr="__reactEvents$"+yi,io="__reactListeners$"+yi,_i="__reactHandles$"+yi,Al="__reactResources$"+yi,Ws="__reactMarker$"+yi;function Zr(r){delete r[Fe],delete r[Oe],delete r[Qr],delete r[io],delete r[_i]}function si(r){var a=r[Fe];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Wi]||c[Fe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=db(r);r!==null;){if(c=r[Fe])return c;r=db(r)}return a}r=c,c=r.parentNode}return null}function Ki(r){if(r=r[Fe]||r[Wi]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ks(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Ys(r){var a=r[Al];return a||(a=r[Al]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ue(r){r[Ws]=!0}var Rl=new Set,so={};function An(r,a){En(r,a),En(r+"Capture",a)}function En(r,a){for(so[r]=a,r=0;r<a.length;r++)Rl.add(a[r])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function Wu(r){return Ja.call(Il,r)?!0:Ja.call(Cl,r)?!1:Zd.test(r)?Il[r]=!0:(Cl[r]=!0,!1)}function $s(r,a,c){if(Wu(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Xs(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function zn(r,a,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+f)}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ku(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Jd(r){var a=Ku(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Jr(r){r._valueTracker||(r._valueTracker=Jd(r))}function Dl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=Ku(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function ro(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Yi=/[\n"\\]/g;function me(r){return r.replace(Yi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qs(r,a,c,f,p,y,S,R){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+mn(a)):r.value!==""+mn(a)&&(r.value=""+mn(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?ao(r,S,mn(a)):c!=null?ao(r,S,mn(c)):f!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+mn(R):r.removeAttribute("name")}function ta(r,a,c,f,p,y,S,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+mn(c):"",a=a!=null?""+mn(a):c,R||a===r.value||(r.value=a),r.defaultValue=a}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=R?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function ao(r,a,c){a==="number"&&ro(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Kt(r,a,c,f){if(r=r.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=a.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&f&&(r[c].defaultSelected=!0)}else{for(c=""+mn(c),a=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function ea(r,a,c){if(a!=null&&(a=""+mn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+mn(c):""}function Zs(r,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(i(92));if(ut(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=mn(a),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function Un(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var tg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(r,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,c):typeof c!="number"||c===0||tg.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Yu(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in a)f=a[p],a.hasOwnProperty(p)&&c[p]!==f&&Ml(r,p,f)}else for(var y in a)a.hasOwnProperty(y)&&Ml(r,y,a[y])}function Ol(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(r){return ng.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Bn=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $i=null,Xi=null;function Qi(r){var a=Ki(r);if(a&&(r=a.stateNode)){var c=r[Oe]||null;t:switch(r=a.stateNode,a.type){case"input":if(Qs(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+me(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var p=f[Oe]||null;if(!p)throw Error(i(90));Qs(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===r.form&&Dl(f)}break t;case"textarea":ea(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Kt(r,!!c.multiple,a,!1)}}}var kl=!1;function $u(r,a,c){if(kl)return r(a,c);kl=!0;try{var f=r(a);return f}finally{if(kl=!1,($i!==null||Xi!==null)&&(Bh(),$i&&(a=$i,r=Xi,Xi=$i=null,Qi(a),r)))for(a=0;a<r.length;a++)Qi(r[a])}}function na(r,a){var c=r.stateNode;if(c===null)return null;var f=c[Oe]||null;if(f===null)return null;c=f[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var jn=!1;if(Rn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){jn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{jn=!1}var bi=null,Js=null,Zi=null;function Pl(){if(Zi)return Zi;var r,a=Js,c=a.length,f,p="value"in bi?bi.value:bi.textContent,y=p.length;for(r=0;r<c&&a[r]===p[r];r++);var S=c-r;for(f=1;f<=S&&a[c-f]===p[y-f];f++);return Zi=p.slice(r,1<f?1-f:void 0)}function Ei(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ti(){return!0}function Nl(){return!1}function He(r){function a(c,f,p,y,S){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ti:Nl,this.isPropagationStopped=Nl,this}return k(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),a}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=He(Xt),sa=k({},Xt,{view:0,detail:0}),Xu=He(sa),co,uo,Si,ra=k({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Si&&(Si&&r.type==="mousemove"?(co=r.screenX-Si.screenX,uo=r.screenY-Si.screenY):uo=co=0,Si=r),co)},movementY:function(r){return"movementY"in r?r.movementY:uo}}),Fn=He(ra),Qu=k({},ra,{dataTransfer:0}),ig=He(Qu),aa=k({},sa,{relatedTarget:0}),ho=He(aa),Ll=k({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=He(Ll),Zu=k({},Xt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=He(Zu),sg=k({},Xt,{data:0}),Vl=He(sg),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=th[r])?!!a[r]:!1}function la(){return zl}var eh=k({},sa,{key:function(r){if(r.key){var a=oa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ei(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ju[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(r){return r.type==="keypress"?Ei(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ei(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=He(eh),nh=k({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=He(nh),Ji=k({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),ih=He(Ji),sh=k({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=He(sh),ah=k({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=He(ah),yn=k({},Xt,{newState:0,oldState:0}),oh=He(yn),lh=[9,13,27,32],wi=Rn&&"CompositionEvent"in window,g=null;Rn&&"documentMode"in document&&(g=document.documentMode);var v=Rn&&"TextEvent"in window&&!g,T=Rn&&(!wi||g&&8<g&&11>=g),D=" ",W=!1;function Q(r,a){switch(r){case"keyup":return lh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jt=!1;function ke(r,a){switch(r){case"compositionend":return ot(a);case"keypress":return a.which!==32?null:(W=!0,D);case"textInput":return r=a.data,r===D&&W?null:r;default:return null}}function Ft(r,a){if(jt)return r==="compositionend"||!wi&&Q(r,a)?(r=Pl(),Zi=Js=bi=null,jt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!qe[r.type]:a==="textarea"}function ts(r,a,c,f){$i?Xi?Xi.push(f):Xi=[f]:$i=f,a=Gh(a,"onChange"),0<a.length&&(c=new lo("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var Xe=null,xi=null;function Bl(r){sb(r,0)}function ch(r){var a=Ks(r);if(Dl(a))return r}function k_(r,a){if(r==="change")return a}var P_=!1;if(Rn){var rg;if(Rn){var ag="oninput"in document;if(!ag){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),ag=typeof N_.oninput=="function"}rg=ag}else rg=!1;P_=rg&&(!document.documentMode||9<document.documentMode)}function L_(){Xe&&(Xe.detachEvent("onpropertychange",V_),xi=Xe=null)}function V_(r){if(r.propertyName==="value"&&ch(xi)){var a=[];ts(a,xi,r,oo(r)),$u(Bl,a)}}function BA(r,a,c){r==="focusin"?(L_(),Xe=a,xi=c,Xe.attachEvent("onpropertychange",V_)):r==="focusout"&&L_()}function jA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ch(xi)}function FA(r,a){if(r==="click")return ch(a)}function HA(r,a){if(r==="input"||r==="change")return ch(a)}function qA(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Cn=typeof Object.is=="function"?Object.is:qA;function jl(r,a){if(Cn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!Ja.call(a,p)||!Cn(r[p],a[p]))return!1}return!0}function z_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function U_(r,a){var c=z_(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=z_(c)}}function B_(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?B_(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function j_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ro(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=ro(r.document)}return a}function og(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function GA(r,a){var c=j_(a);a=r.focusedElem;var f=r.selectionRange;if(c!==a&&a&&a.ownerDocument&&B_(a.ownerDocument.documentElement,a)){if(f!==null&&og(a)){if(r=f.start,c=f.end,c===void 0&&(c=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(c,a.value.length);else if(c=(r=a.ownerDocument||document)&&r.defaultView||window,c.getSelection){c=c.getSelection();var p=a.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!c.extend&&y>f&&(p=f,f=y,y=p),p=U_(a,y);var S=U_(a,f);p&&S&&(c.rangeCount!==1||c.anchorNode!==p.node||c.anchorOffset!==p.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),c.removeAllRanges(),y>f?(c.addRange(r),c.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),c.addRange(r)))}}for(r=[],c=a;c=c.parentNode;)c.nodeType===1&&r.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)c=r[a],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var WA=Rn&&"documentMode"in document&&11>=document.documentMode,yo=null,lg=null,Fl=null,cg=!1;function F_(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;cg||yo==null||yo!==ro(f)||(f=yo,"selectionStart"in f&&og(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fl&&jl(Fl,f)||(Fl=f,f=Gh(lg,"onSelect"),0<f.length&&(a=new lo("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=yo)))}function ca(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var _o={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},ug={},H_={};Rn&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function ua(r){if(ug[r])return ug[r];if(!_o[r])return r;var a=_o[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in H_)return ug[r]=a[c];return r}var q_=ua("animationend"),G_=ua("animationiteration"),W_=ua("animationstart"),KA=ua("transitionrun"),YA=ua("transitionstart"),$A=ua("transitioncancel"),K_=ua("transitionend"),Y_=new Map,$_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(r,a){Y_.set(r,a),An(a,[r])}var Hn=[],vo=0,hg=0;function uh(){for(var r=vo,a=hg=vo=0;a<r;){var c=Hn[a];Hn[a++]=null;var f=Hn[a];Hn[a++]=null;var p=Hn[a];Hn[a++]=null;var y=Hn[a];if(Hn[a++]=null,f!==null&&p!==null){var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}y!==0&&X_(c,p,y)}}function hh(r,a,c,f){Hn[vo++]=r,Hn[vo++]=a,Hn[vo++]=c,Hn[vo++]=f,hg|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function fg(r,a,c,f){return hh(r,a,c,f),fh(r)}function tr(r,a){return hh(r,null,null,a),fh(r)}function X_(r,a,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var p=!1,y=r.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;p&&a!==null&&r.tag===3&&(y=r.stateNode,p=31-pn(c),y=y.hiddenUpdates,r=y[p],r===null?y[p]=[a]:r.push(a),a.lane=c|536870912)}function fh(r){if(50<dc)throw dc=0,_p=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var bo={},Q_=new WeakMap;function qn(r,a){if(typeof r=="object"&&r!==null){var c=Q_.get(r);return c!==void 0?c:(a={value:r,source:a,stack:ht(a)},Q_.set(r,a),a)}return{value:r,source:a,stack:ht(a)}}var Eo=[],To=0,dh=null,gh=0,Gn=[],Wn=0,ha=null,es=1,ns="";function fa(r,a){Eo[To++]=gh,Eo[To++]=dh,dh=r,gh=a}function Z_(r,a,c){Gn[Wn++]=es,Gn[Wn++]=ns,Gn[Wn++]=ha,ha=r;var f=es;r=ns;var p=32-pn(f)-1;f&=~(1<<p),c+=1;var y=32-pn(a)+p;if(30<y){var S=p-p%5;y=(f&(1<<S)-1).toString(32),f>>=S,p-=S,es=1<<32-pn(a)+p|c<<p|f,ns=y+r}else es=1<<y|c<<p|f,ns=r}function dg(r){r.return!==null&&(fa(r,1),Z_(r,1,0))}function gg(r){for(;r===dh;)dh=Eo[--To],Eo[To]=null,gh=Eo[--To],Eo[To]=null;for(;r===ha;)ha=Gn[--Wn],Gn[Wn]=null,ns=Gn[--Wn],Gn[Wn]=null,es=Gn[--Wn],Gn[Wn]=null}var _n=null,Qe=null,Yt=!1,ai=null,Ai=!1,pg=Error(i(519));function da(r){var a=Error(i(418,""));throw Gl(qn(a,r)),pg}function J_(r){var a=r.stateNode,c=r.type,f=r.memoizedProps;switch(a[Fe]=r,a[Oe]=f,c){case"dialog":Ut("cancel",a),Ut("close",a);break;case"iframe":case"object":case"embed":Ut("load",a);break;case"video":case"audio":for(c=0;c<pc.length;c++)Ut(pc[c],a);break;case"source":Ut("error",a);break;case"img":case"image":case"link":Ut("error",a),Ut("load",a);break;case"details":Ut("toggle",a);break;case"input":Ut("invalid",a),ta(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Jr(a);break;case"select":Ut("invalid",a);break;case"textarea":Ut("invalid",a),Zs(a,f.value,f.defaultValue,f.children),Jr(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||lb(a.textContent,c)?(f.popover!=null&&(Ut("beforetoggle",a),Ut("toggle",a)),f.onScroll!=null&&Ut("scroll",a),f.onScrollEnd!=null&&Ut("scrollend",a),f.onClick!=null&&(a.onclick=Wh),a=!0):a=!1,a||da(r)}function t0(r){for(_n=r.return;_n;)switch(_n.tag){case 3:case 27:Ai=!0;return;case 5:case 13:Ai=!1;return;default:_n=_n.return}}function Hl(r){if(r!==_n)return!1;if(!Yt)return t0(r),Yt=!0,!1;var a=!1,c;if((c=r.tag!==3&&r.tag!==27)&&((c=r.tag===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Np(r.type,r.memoizedProps)),c=!c),c&&(a=!0),a&&Qe&&da(r),t0(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Qe=li(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Qe=null}}else Qe=_n?li(r.stateNode.nextSibling):null;return!0}function ql(){Qe=_n=null,Yt=!1}function Gl(r){ai===null?ai=[r]:ai.push(r)}var Wl=Error(i(460)),e0=Error(i(474)),mg={then:function(){}};function n0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ph(){}function i0(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(ph,ph),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Wl?Error(i(483)):r;default:if(typeof a.status=="string")a.then(ph,ph);else{if(r=ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=f}},function(f){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===Wl?Error(i(483)):r}throw Kl=a,Wl}}var Kl=null;function s0(){if(Kl===null)throw Error(i(459));var r=Kl;return Kl=null,r}var So=null,Yl=0;function mh(r){var a=Yl;return Yl+=1,So===null&&(So=[]),i0(So,r,a)}function $l(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function yh(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function r0(r){var a=r._init;return a(r._payload)}function a0(r){function a(q,j){if(r){var K=q.deletions;K===null?(q.deletions=[j],q.flags|=16):K.push(j)}}function c(q,j){if(!r)return null;for(;j!==null;)a(q,j),j=j.sibling;return null}function f(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function p(q,j){return q=fr(q,j),q.index=0,q.sibling=null,q}function y(q,j,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<j?(q.flags|=33554434,j):K):(q.flags|=33554434,j)):(q.flags|=1048576,j)}function S(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function R(q,j,K,et){return j===null||j.tag!==6?(j=up(K,q.mode,et),j.return=q,j):(j=p(j,K),j.return=q,j)}function P(q,j,K,et){var pt=K.type;return pt===h?tt(q,j,K.props.children,et,K.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&r0(pt)===j.type)?(j=p(j,K.props),$l(j,K),j.return=q,j):(j=Nh(K.type,K.key,K.props,null,q.mode,et),$l(j,K),j.return=q,j)}function F(q,j,K,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=hp(K,q.mode,et),j.return=q,j):(j=p(j,K.children||[]),j.return=q,j)}function tt(q,j,K,et,pt){return j===null||j.tag!==7?(j=Sa(K,q.mode,et,pt),j.return=q,j):(j=p(j,K),j.return=q,j)}function it(q,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=up(""+j,q.mode,K),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case l:return K=Nh(j.type,j.key,j.props,null,q.mode,K),$l(K,j),K.return=q,K;case u:return j=hp(j,q.mode,K),j.return=q,j;case V:var et=j._init;return j=et(j._payload),it(q,j,K)}if(ut(j)||Z(j))return j=Sa(j,q.mode,K,null),j.return=q,j;if(typeof j.then=="function")return it(q,mh(j),K);if(j.$$typeof===E)return it(q,Oh(q,j),K);yh(q,j)}return null}function $(q,j,K,et){var pt=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pt!==null?null:R(q,j,""+K,et);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case l:return K.key===pt?P(q,j,K,et):null;case u:return K.key===pt?F(q,j,K,et):null;case V:return pt=K._init,K=pt(K._payload),$(q,j,K,et)}if(ut(K)||Z(K))return pt!==null?null:tt(q,j,K,et,null);if(typeof K.then=="function")return $(q,j,mh(K),et);if(K.$$typeof===E)return $(q,j,Oh(q,K),et);yh(q,K)}return null}function J(q,j,K,et,pt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return q=q.get(K)||null,R(j,q,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return q=q.get(et.key===null?K:et.key)||null,P(j,q,et,pt);case u:return q=q.get(et.key===null?K:et.key)||null,F(j,q,et,pt);case V:var kt=et._init;return et=kt(et._payload),J(q,j,K,et,pt)}if(ut(et)||Z(et))return q=q.get(K)||null,tt(j,q,et,pt,null);if(typeof et.then=="function")return J(q,j,K,mh(et),pt);if(et.$$typeof===E)return J(q,j,K,Oh(j,et),pt);yh(j,et)}return null}function mt(q,j,K,et){for(var pt=null,kt=null,yt=j,bt=j=0,Ke=null;yt!==null&&bt<K.length;bt++){yt.index>bt?(Ke=yt,yt=null):Ke=yt.sibling;var $t=$(q,yt,K[bt],et);if($t===null){yt===null&&(yt=Ke);break}r&&yt&&$t.alternate===null&&a(q,yt),j=y($t,j,bt),kt===null?pt=$t:kt.sibling=$t,kt=$t,yt=Ke}if(bt===K.length)return c(q,yt),Yt&&fa(q,bt),pt;if(yt===null){for(;bt<K.length;bt++)yt=it(q,K[bt],et),yt!==null&&(j=y(yt,j,bt),kt===null?pt=yt:kt.sibling=yt,kt=yt);return Yt&&fa(q,bt),pt}for(yt=f(yt);bt<K.length;bt++)Ke=J(yt,q,bt,K[bt],et),Ke!==null&&(r&&Ke.alternate!==null&&yt.delete(Ke.key===null?bt:Ke.key),j=y(Ke,j,bt),kt===null?pt=Ke:kt.sibling=Ke,kt=Ke);return r&&yt.forEach(function(vr){return a(q,vr)}),Yt&&fa(q,bt),pt}function Ct(q,j,K,et){if(K==null)throw Error(i(151));for(var pt=null,kt=null,yt=j,bt=j=0,Ke=null,$t=K.next();yt!==null&&!$t.done;bt++,$t=K.next()){yt.index>bt?(Ke=yt,yt=null):Ke=yt.sibling;var vr=$(q,yt,$t.value,et);if(vr===null){yt===null&&(yt=Ke);break}r&&yt&&vr.alternate===null&&a(q,yt),j=y(vr,j,bt),kt===null?pt=vr:kt.sibling=vr,kt=vr,yt=Ke}if($t.done)return c(q,yt),Yt&&fa(q,bt),pt;if(yt===null){for(;!$t.done;bt++,$t=K.next())$t=it(q,$t.value,et),$t!==null&&(j=y($t,j,bt),kt===null?pt=$t:kt.sibling=$t,kt=$t);return Yt&&fa(q,bt),pt}for(yt=f(yt);!$t.done;bt++,$t=K.next())$t=J(yt,q,bt,$t.value,et),$t!==null&&(r&&$t.alternate!==null&&yt.delete($t.key===null?bt:$t.key),j=y($t,j,bt),kt===null?pt=$t:kt.sibling=$t,kt=$t);return r&&yt.forEach(function(cR){return a(q,cR)}),Yt&&fa(q,bt),pt}function ve(q,j,K,et){if(typeof K=="object"&&K!==null&&K.type===h&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case l:t:{for(var pt=K.key;j!==null;){if(j.key===pt){if(pt=K.type,pt===h){if(j.tag===7){c(q,j.sibling),et=p(j,K.props.children),et.return=q,q=et;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&r0(pt)===j.type){c(q,j.sibling),et=p(j,K.props),$l(et,K),et.return=q,q=et;break t}c(q,j);break}else a(q,j);j=j.sibling}K.type===h?(et=Sa(K.props.children,q.mode,et,K.key),et.return=q,q=et):(et=Nh(K.type,K.key,K.props,null,q.mode,et),$l(et,K),et.return=q,q=et)}return S(q);case u:t:{for(pt=K.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){c(q,j.sibling),et=p(j,K.children||[]),et.return=q,q=et;break t}else{c(q,j);break}else a(q,j);j=j.sibling}et=hp(K,q.mode,et),et.return=q,q=et}return S(q);case V:return pt=K._init,K=pt(K._payload),ve(q,j,K,et)}if(ut(K))return mt(q,j,K,et);if(Z(K)){if(pt=Z(K),typeof pt!="function")throw Error(i(150));return K=pt.call(K),Ct(q,j,K,et)}if(typeof K.then=="function")return ve(q,j,mh(K),et);if(K.$$typeof===E)return ve(q,j,Oh(q,K),et);yh(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(c(q,j.sibling),et=p(j,K),et.return=q,q=et):(c(q,j),et=up(K,q.mode,et),et.return=q,q=et),S(q)):c(q,j)}return function(q,j,K,et){try{Yl=0;var pt=ve(q,j,K,et);return So=null,pt}catch(yt){if(yt===Wl)throw yt;var kt=Xn(29,yt,null,q.mode);return kt.lanes=et,kt.return=q,kt}finally{}}}var ga=a0(!0),o0=a0(!1),wo=Wt(null),_h=Wt(0);function l0(r,a){r=ds,Zt(_h,r),Zt(wo,a),ds=r|a.baseLanes}function yg(){Zt(_h,ds),Zt(wo,wo.current)}function _g(){ds=_h.current,pe(wo),pe(_h)}var Kn=Wt(null),Ri=null;function er(r){var a=r.alternate;Zt(Ne,Ne.current&1),Zt(Kn,r),Ri===null&&(a===null||wo.current!==null||a.memoizedState!==null)&&(Ri=r)}function c0(r){if(r.tag===22){if(Zt(Ne,Ne.current),Zt(Kn,r),Ri===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Ri=r)}}else nr()}function nr(){Zt(Ne,Ne.current),Zt(Kn,Kn.current)}function is(r){pe(Kn),Ri===r&&(Ri=null),pe(Ne)}var Ne=Wt(0);function vh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var XA=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},QA=n.unstable_scheduleCallback,ZA=n.unstable_NormalPriority,Le={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vg(){return{controller:new XA,data:new Map,refCount:0}}function Xl(r){r.refCount--,r.refCount===0&&QA(ZA,function(){r.controller.abort()})}var Ql=null,bg=0,xo=0,Ao=null;function JA(r,a){if(Ql===null){var c=Ql=[];bg=0,xo=Ap(),Ao={status:"pending",value:void 0,then:function(f){c.push(f)}}}return bg++,a.then(u0,u0),a}function u0(){if(--bg===0&&Ql!==null){Ao!==null&&(Ao.status="fulfilled");var r=Ql;Ql=null,xo=0,Ao=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function t2(r,a){var c=[],f={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(f.status="rejected",f.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),f}var h0=C.S;C.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&JA(r,a),h0!==null&&h0(r,a)};var pa=Wt(null);function Eg(){var r=pa.current;return r!==null?r:ie.pooledCache}function bh(r,a){a===null?Zt(pa,pa.current):Zt(pa,a.pool)}function f0(){var r=Eg();return r===null?null:{parent:Le._currentValue,pool:r}}var ir=0,Ot=null,te=null,Re=null,Eh=!1,Ro=!1,ma=!1,Th=0,Zl=0,Co=null,e2=0;function Se(){throw Error(i(321))}function Tg(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Cn(r[c],a[c]))return!1;return!0}function Sg(r,a,c,f,p,y){return ir=y,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=r===null||r.memoizedState===null?ya:sr,ma=!1,y=c(f,p),ma=!1,Ro&&(y=g0(a,c,f,p)),d0(r),y}function d0(r){C.H=Ci;var a=te!==null&&te.next!==null;if(ir=0,Re=te=Ot=null,Eh=!1,Zl=0,Co=null,a)throw Error(i(300));r===null||Ge||(r=r.dependencies,r!==null&&Mh(r)&&(Ge=!0))}function g0(r,a,c,f){Ot=r;var p=0;do{if(Ro&&(Co=null),Zl=0,Ro=!1,25<=p)throw Error(i(301));if(p+=1,Re=te=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=_a,y=a(c,f)}while(Ro);return y}function n2(){var r=C.H,a=r.useState()[0];return a=typeof a.then=="function"?Jl(a):a,r=r.useState()[0],(te!==null?te.memoizedState:null)!==r&&(Ot.flags|=1024),a}function wg(){var r=Th!==0;return Th=0,r}function xg(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Ag(r){if(Eh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Eh=!1}ir=0,Re=te=Ot=null,Ro=!1,Zl=Th=0,Co=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ot.memoizedState=Re=r:Re=Re.next=r,Re}function Ce(){if(te===null){var r=Ot.alternate;r=r!==null?r.memoizedState:null}else r=te.next;var a=Re===null?Ot.memoizedState:Re.next;if(a!==null)Re=a,te=r;else{if(r===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));te=r,r={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Ot.memoizedState=Re=r:Re=Re.next=r}return Re}var Sh;Sh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Jl(r){var a=Zl;return Zl+=1,Co===null&&(Co=[]),r=i0(Co,r,a),a=Ot,(Re===null?a.memoizedState:Re.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?ya:sr),r}function wh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Jl(r);if(r.$$typeof===E)return rn(r)}throw Error(i(438,String(r)))}function Rg(r){var a=null,c=Ot.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=Ot.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Sh(),Ot.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),f=0;f<r;f++)c[f]=Y;return a.index++,c}function ss(r,a){return typeof a=="function"?a(r):a}function xh(r){var a=Ce();return Cg(a,te,r)}function Cg(r,a,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var p=r.baseQueue,y=f.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}a.baseQueue=p=y,f.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var R=S=null,P=null,F=a,tt=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(Ht&it)===it:(ir&it)===it){var $=F.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===xo&&(tt=!0);else if((ir&$)===$){F=F.next,$===xo&&(tt=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=it,S=y):P=P.next=it,Ot.lanes|=$,dr|=$;it=F.action,ma&&c(y,it),y=F.hasEagerState?F.eagerState:c(y,it)}else $={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=$,S=y):P=P.next=$,Ot.lanes|=it,dr|=it;F=F.next}while(F!==null&&F!==a);if(P===null?S=y:P.next=R,!Cn(y,r.memoizedState)&&(Ge=!0,tt&&(c=Ao,c!==null)))throw c;r.memoizedState=y,r.baseState=S,r.baseQueue=P,f.lastRenderedState=y}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Ig(r){var a=Ce(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,p=c.pending,y=a.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do y=r(y,S.action),S=S.next;while(S!==p);Cn(y,a.memoizedState)||(Ge=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function p0(r,a,c){var f=Ot,p=Ce(),y=Yt;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var S=!Cn((te||p).memoizedState,c);if(S&&(p.memoizedState=c,Ge=!0),p=p.queue,Og(_0.bind(null,f,p,r),[r]),p.getSnapshot!==a||S||Re!==null&&Re.memoizedState.tag&1){if(f.flags|=2048,Io(9,y0.bind(null,f,p,c,a),{destroy:void 0},null),ie===null)throw Error(i(349));y||ir&60||m0(f,a,c)}return c}function m0(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Ot.updateQueue,a===null?(a=Sh(),Ot.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function y0(r,a,c,f){a.value=c,a.getSnapshot=f,v0(a)&&b0(r)}function _0(r,a,c){return c(function(){v0(a)&&b0(r)})}function v0(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Cn(r,c)}catch{return!0}}function b0(r){var a=tr(r,2);a!==null&&vn(a,r,2)}function Dg(r){var a=Tn();if(typeof r=="function"){var c=r;if(r=c(),ma){pi(!0);try{c()}finally{pi(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},a}function E0(r,a,c,f){return r.baseState=c,Cg(r,te,typeof f=="function"?f:ss)}function i2(r,a,c,f,p){if(Ch(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};C.T!==null?c(!0):y.isTransition=!1,f(y),c=a.pending,c===null?(y.next=a.pending=y,T0(a,y)):(y.next=c.next,a.pending=c.next=y)}}function T0(r,a){var c=a.action,f=a.payload,p=r.state;if(a.isTransition){var y=C.T,S={};C.T=S;try{var R=c(p,f),P=C.S;P!==null&&P(S,R),S0(r,a,R)}catch(F){Mg(r,a,F)}finally{C.T=y}}else try{y=c(p,f),S0(r,a,y)}catch(F){Mg(r,a,F)}}function S0(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){w0(r,a,f)},function(f){return Mg(r,a,f)}):w0(r,a,c)}function w0(r,a,c){a.status="fulfilled",a.value=c,x0(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,T0(r,c)))}function Mg(r,a,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,x0(a),a=a.next;while(a!==f)}r.action=null}function x0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function A0(r,a){return a}function R0(r,a){if(Yt){var c=ie.formState;if(c!==null){t:{var f=Ot;if(Yt){if(Qe){e:{for(var p=Qe,y=Ai;p.nodeType!==8;){if(!y){p=null;break e}if(p=li(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Qe=li(p.nextSibling),f=p.data==="F!";break t}}da(f)}f=!1}f&&(a=c[0])}}return c=Tn(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:a},c.queue=f,c=G0.bind(null,Ot,f),f.dispatch=c,f=Dg(!1),y=Vg.bind(null,Ot,!1,f.queue),f=Tn(),p={state:a,dispatch:null,action:r,pending:null},f.queue=p,c=i2.bind(null,Ot,p,y,c),p.dispatch=c,f.memoizedState=r,[a,c,!1]}function C0(r){var a=Ce();return I0(a,te,r)}function I0(r,a,c){a=Cg(r,a,A0)[0],r=xh(ss)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Jl(a):a;var f=Ce(),p=f.queue,y=p.dispatch;return c!==f.memoizedState&&(Ot.flags|=2048,Io(9,s2.bind(null,p,c),{destroy:void 0},null)),[a,y,r]}function s2(r,a){r.action=a}function D0(r){var a=Ce(),c=te;if(c!==null)return I0(a,c,r);Ce(),a=a.memoizedState,c=Ce();var f=c.queue.dispatch;return c.memoizedState=r,[a,f,!1]}function Io(r,a,c,f){return r={tag:r,create:a,inst:c,deps:f,next:null},a=Ot.updateQueue,a===null&&(a=Sh(),Ot.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r),r}function M0(){return Ce().memoizedState}function Ah(r,a,c,f){var p=Tn();Ot.flags|=r,p.memoizedState=Io(1|a,c,{destroy:void 0},f===void 0?null:f)}function Rh(r,a,c,f){var p=Ce();f=f===void 0?null:f;var y=p.memoizedState.inst;te!==null&&f!==null&&Tg(f,te.memoizedState.deps)?p.memoizedState=Io(a,c,y,f):(Ot.flags|=r,p.memoizedState=Io(1|a,c,y,f))}function O0(r,a){Ah(8390656,8,r,a)}function Og(r,a){Rh(2048,8,r,a)}function k0(r,a){return Rh(4,2,r,a)}function P0(r,a){return Rh(4,4,r,a)}function N0(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function L0(r,a,c){c=c!=null?c.concat([r]):null,Rh(4,4,N0.bind(null,a,r),c)}function kg(){}function V0(r,a){var c=Ce();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&Tg(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function z0(r,a){var c=Ce();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&Tg(a,f[1]))return f[0];if(f=r(),ma){pi(!0);try{r()}finally{pi(!1)}}return c.memoizedState=[f,a],f}function Pg(r,a,c){return c===void 0||ir&1073741824?r.memoizedState=a:(r.memoizedState=c,r=Bv(),Ot.lanes|=r,dr|=r,c)}function U0(r,a,c,f){return Cn(c,a)?c:wo.current!==null?(r=Pg(r,c,f),Cn(r,a)||(Ge=!0),r):ir&42?(r=Bv(),Ot.lanes|=r,dr|=r,a):(Ge=!0,r.memoizedState=c)}function B0(r,a,c,f,p){var y=ct.p;ct.p=y!==0&&8>y?y:8;var S=C.T,R={};C.T=R,Vg(r,!1,a,c);try{var P=p(),F=C.S;if(F!==null&&F(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var tt=t2(P,f);tc(r,a,tt,On(r))}else tc(r,a,f,On(r))}catch(it){tc(r,a,{then:function(){},status:"rejected",reason:it},On())}finally{ct.p=y,C.T=S}}function r2(){}function Ng(r,a,c,f){if(r.tag!==5)throw Error(i(476));var p=j0(r).queue;B0(r,p,a,At,c===null?r2:function(){return F0(r),c(f)})}function j0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:At},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function F0(r){var a=j0(r).next.queue;tc(r,a,{},On())}function Lg(){return rn(bc)}function H0(){return Ce().memoizedState}function q0(){return Ce().memoizedState}function a2(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=On();r=or(c);var f=lr(a,r,c);f!==null&&(vn(f,a,c),ic(f,a,c)),a={cache:vg()},r.payload=a;return}a=a.return}}function o2(r,a,c){var f=On();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Ch(r)?W0(a,c):(c=fg(r,a,c,f),c!==null&&(vn(c,r,f),K0(c,a,f)))}function G0(r,a,c){var f=On();tc(r,a,c,f)}function tc(r,a,c,f){var p={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ch(r))W0(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,R=y(S,c);if(p.hasEagerState=!0,p.eagerState=R,Cn(R,S))return hh(r,a,p,0),ie===null&&uh(),!1}catch{}finally{}if(c=fg(r,a,p,f),c!==null)return vn(c,r,f),K0(c,a,f),!0}return!1}function Vg(r,a,c,f){if(f={lane:2,revertLane:Ap(),action:f,hasEagerState:!1,eagerState:null,next:null},Ch(r)){if(a)throw Error(i(479))}else a=fg(r,c,f,2),a!==null&&vn(a,r,2)}function Ch(r){var a=r.alternate;return r===Ot||a!==null&&a===Ot}function W0(r,a){Ro=Eh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function K0(r,a,c){if(c&4194176){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,qs(r,c)}}var Ci={readContext:rn,use:wh,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se};Ci.useCacheRefresh=Se,Ci.useMemoCache=Se,Ci.useHostTransitionStatus=Se,Ci.useFormState=Se,Ci.useActionState=Se,Ci.useOptimistic=Se;var ya={readContext:rn,use:wh,useCallback:function(r,a){return Tn().memoizedState=[r,a===void 0?null:a],r},useContext:rn,useEffect:O0,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Ah(4194308,4,N0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Ah(4194308,4,r,a)},useInsertionEffect:function(r,a){Ah(4,2,r,a)},useMemo:function(r,a){var c=Tn();a=a===void 0?null:a;var f=r();if(ma){pi(!0);try{r()}finally{pi(!1)}}return c.memoizedState=[f,a],f},useReducer:function(r,a,c){var f=Tn();if(c!==void 0){var p=c(a);if(ma){pi(!0);try{c(a)}finally{pi(!1)}}}else p=a;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=o2.bind(null,Ot,r),[f.memoizedState,r]},useRef:function(r){var a=Tn();return r={current:r},a.memoizedState=r},useState:function(r){r=Dg(r);var a=r.queue,c=G0.bind(null,Ot,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:kg,useDeferredValue:function(r,a){var c=Tn();return Pg(c,r,a)},useTransition:function(){var r=Dg(!1);return r=B0.bind(null,Ot,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var f=Ot,p=Tn();if(Yt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),ie===null)throw Error(i(349));Ht&60||m0(f,a,c)}p.memoizedState=c;var y={value:c,getSnapshot:a};return p.queue=y,O0(_0.bind(null,f,y,r),[r]),f.flags|=2048,Io(9,y0.bind(null,f,y,c,a),{destroy:void 0},null),c},useId:function(){var r=Tn(),a=ie.identifierPrefix;if(Yt){var c=ns,f=es;c=(f&~(1<<32-pn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=Th++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=e2++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return Tn().memoizedState=a2.bind(null,Ot)}};ya.useMemoCache=Rg,ya.useHostTransitionStatus=Lg,ya.useFormState=R0,ya.useActionState=R0,ya.useOptimistic=function(r){var a=Tn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Vg.bind(null,Ot,!0,c),c.dispatch=a,[r,a]};var sr={readContext:rn,use:wh,useCallback:V0,useContext:rn,useEffect:Og,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:z0,useReducer:xh,useRef:M0,useState:function(){return xh(ss)},useDebugValue:kg,useDeferredValue:function(r,a){var c=Ce();return U0(c,te.memoizedState,r,a)},useTransition:function(){var r=xh(ss)[0],a=Ce().memoizedState;return[typeof r=="boolean"?r:Jl(r),a]},useSyncExternalStore:p0,useId:H0};sr.useCacheRefresh=q0,sr.useMemoCache=Rg,sr.useHostTransitionStatus=Lg,sr.useFormState=C0,sr.useActionState=C0,sr.useOptimistic=function(r,a){var c=Ce();return E0(c,te,r,a)};var _a={readContext:rn,use:wh,useCallback:V0,useContext:rn,useEffect:Og,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:P0,useMemo:z0,useReducer:Ig,useRef:M0,useState:function(){return Ig(ss)},useDebugValue:kg,useDeferredValue:function(r,a){var c=Ce();return te===null?Pg(c,r,a):U0(c,te.memoizedState,r,a)},useTransition:function(){var r=Ig(ss)[0],a=Ce().memoizedState;return[typeof r=="boolean"?r:Jl(r),a]},useSyncExternalStore:p0,useId:H0};_a.useCacheRefresh=q0,_a.useMemoCache=Rg,_a.useHostTransitionStatus=Lg,_a.useFormState=D0,_a.useActionState=D0,_a.useOptimistic=function(r,a){var c=Ce();return te!==null?E0(c,te,r,a):(c.baseState=r,[r,c.queue.dispatch])};function zg(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:k({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ug={isMounted:function(r){return(r=r._reactInternals)?dt(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var f=On(),p=or(f);p.payload=a,c!=null&&(p.callback=c),a=lr(r,p,f),a!==null&&(vn(a,r,f),ic(a,r,f))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=On(),p=or(f);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=lr(r,p,f),a!==null&&(vn(a,r,f),ic(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=On(),f=or(c);f.tag=2,a!=null&&(f.callback=a),a=lr(r,f,c),a!==null&&(vn(a,r,c),ic(a,r,c))}};function Y0(r,a,c,f,p,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,S):a.prototype&&a.prototype.isPureReactComponent?!jl(c,f)||!jl(p,y):!0}function $0(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&Ug.enqueueReplaceState(a,a.state,null)}function va(r,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(r=r.defaultProps){c===a&&(c=k({},c));for(var p in r)c[p]===void 0&&(c[p]=r[p])}return c}var Ih=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function X0(r){Ih(r)}function Q0(r){console.error(r)}function Z0(r){Ih(r)}function Dh(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function J0(r,a,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Bg(r,a,c){return c=or(c),c.tag=3,c.payload={element:null},c.callback=function(){Dh(r,a)},c}function tv(r){return r=or(r),r.tag=3,r}function ev(r,a,c,f){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;r.payload=function(){return p(y)},r.callback=function(){J0(a,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){J0(a,c,f),typeof p!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function l2(r,a,c,f,p){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&nc(a,c,p,!0),c=Kn.current,c!==null){switch(c.tag){case 13:return Ri===null?Ep():c.alternate===null&&_e===0&&(_e=3),c.flags&=-257,c.flags|=65536,c.lanes=p,f===mg?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),Sp(r,f,p)),!1;case 22:return c.flags|=65536,f===mg?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),Sp(r,f,p)),!1}throw Error(i(435,c.tag))}return Sp(r,f,p),Ep(),!1}if(Yt)return a=Kn.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=p,f!==pg&&(r=Error(i(422),{cause:f}),Gl(qn(r,c)))):(f!==pg&&(a=Error(i(423),{cause:f}),Gl(qn(a,c))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=qn(f,c),p=Bg(r.stateNode,f,p),ep(r,p),_e!==4&&(_e=2)),!1;var y=Error(i(520),{cause:f});if(y=qn(y,c),hc===null?hc=[y]:hc.push(y),_e!==4&&(_e=2),a===null)return!0;f=qn(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=p&-p,c.lanes|=r,r=Bg(c.stateNode,f,r),ep(c,r),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=tv(p),ev(p,r,c,f),ep(c,p),!1}c=c.return}while(c!==null);return!1}var nv=Error(i(461)),Ge=!1;function Ze(r,a,c,f){a.child=r===null?o0(a,null,c,f):ga(a,r.child,c,f)}function iv(r,a,c,f,p){c=c.render;var y=a.ref;if("ref"in f){var S={};for(var R in f)R!=="ref"&&(S[R]=f[R])}else S=f;return Ea(a),f=Sg(r,a,c,S,y,p),R=wg(),r!==null&&!Ge?(xg(r,a,p),rs(r,a,p)):(Yt&&R&&dg(a),a.flags|=1,Ze(r,a,f,p),a.child)}function sv(r,a,c,f,p){if(r===null){var y=c.type;return typeof y=="function"&&!cp(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,rv(r,a,y,f,p)):(r=Nh(c.type,null,f,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!$g(r,p)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:jl,c(S,f)&&r.ref===a.ref)return rs(r,a,p)}return a.flags|=1,r=fr(y,f),r.ref=a.ref,r.return=a,a.child=r}function rv(r,a,c,f,p){if(r!==null){var y=r.memoizedProps;if(jl(y,f)&&r.ref===a.ref)if(Ge=!1,a.pendingProps=f=y,$g(r,p))r.flags&131072&&(Ge=!0);else return a.lanes=r.lanes,rs(r,a,p)}return jg(r,a,c,f,p)}function av(r,a,c){var f=a.pendingProps,p=f.children,y=(a.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(ec(r,a),f.mode==="hidden"||y){if(a.flags&128){if(f=S!==null?S.baseLanes|c:c,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~f}else a.childLanes=0,a.child=null;return ov(r,a,f,c)}if(c&536870912)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&bh(a,S!==null?S.cachePool:null),S!==null?l0(a,S):yg(),c0(a);else return a.lanes=a.childLanes=536870912,ov(r,a,S!==null?S.baseLanes|c:c,c)}else S!==null?(bh(a,S.cachePool),l0(a,S),nr(),a.memoizedState=null):(r!==null&&bh(a,null),yg(),nr());return Ze(r,a,p,c),a.child}function ov(r,a,c,f){var p=Eg();return p=p===null?null:{parent:Le._currentValue,pool:p},a.memoizedState={baseLanes:c,cachePool:p},r!==null&&bh(a,null),yg(),c0(a),r!==null&&nc(r,a,f,!0),null}function ec(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=2097664)}}function jg(r,a,c,f,p){return Ea(a),c=Sg(r,a,c,f,void 0,p),f=wg(),r!==null&&!Ge?(xg(r,a,p),rs(r,a,p)):(Yt&&f&&dg(a),a.flags|=1,Ze(r,a,c,p),a.child)}function lv(r,a,c,f,p,y){return Ea(a),a.updateQueue=null,c=g0(a,f,c,p),d0(r),f=wg(),r!==null&&!Ge?(xg(r,a,y),rs(r,a,y)):(Yt&&f&&dg(a),a.flags|=1,Ze(r,a,c,y),a.child)}function cv(r,a,c,f,p){if(Ea(a),a.stateNode===null){var y=bo,S=c.contextType;typeof S=="object"&&S!==null&&(y=rn(S)),y=new c(f,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ug,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=f,y.state=a.memoizedState,y.refs={},Jg(a),S=c.contextType,y.context=typeof S=="object"&&S!==null?rn(S):bo,y.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(zg(a,c,S,f),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Ug.enqueueReplaceState(y,y.state,null),rc(a,f,y,p),sc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){y=a.stateNode;var R=a.memoizedProps,P=va(c,R);y.props=P;var F=y.context,tt=c.contextType;S=bo,typeof tt=="object"&&tt!==null&&(S=rn(tt));var it=c.getDerivedStateFromProps;tt=typeof it=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,tt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||F!==S)&&$0(a,y,f,S),ar=!1;var $=a.memoizedState;y.state=$,rc(a,f,y,p),sc(),F=a.memoizedState,R||$!==F||ar?(typeof it=="function"&&(zg(a,c,it,f),F=a.memoizedState),(P=ar||Y0(a,c,P,f,$,F,S))?(tt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=F),y.props=f,y.state=F,y.context=S,f=P):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{y=a.stateNode,tp(r,a),S=a.memoizedProps,tt=va(c,S),y.props=tt,it=a.pendingProps,$=y.context,F=c.contextType,P=bo,typeof F=="object"&&F!==null&&(P=rn(F)),R=c.getDerivedStateFromProps,(F=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==it||$!==P)&&$0(a,y,f,P),ar=!1,$=a.memoizedState,y.state=$,rc(a,f,y,p),sc();var J=a.memoizedState;S!==it||$!==J||ar||r!==null&&r.dependencies!==null&&Mh(r.dependencies)?(typeof R=="function"&&(zg(a,c,R,f),J=a.memoizedState),(tt=ar||Y0(a,c,tt,f,$,J,P)||r!==null&&r.dependencies!==null&&Mh(r.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,J,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,J,P)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=J),y.props=f,y.state=J,y.context=P,f=tt):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&$===r.memoizedState||(a.flags|=1024),f=!1)}return y=f,ec(r,a),f=(a.flags&128)!==0,y||f?(y=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&f?(a.child=ga(a,r.child,null,p),a.child=ga(a,null,c,p)):Ze(r,a,c,p),a.memoizedState=y.state,r=a.child):r=rs(r,a,p),r}function uv(r,a,c,f){return ql(),a.flags|=256,Ze(r,a,c,f),a.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function Hg(r){return{baseLanes:r,cachePool:f0()}}function qg(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Qn),r}function hv(r,a,c){var f=a.pendingProps,p=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(Ne.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(Yt){if(p?er(a):nr(),Yt){var R=Qe,P;if(P=R){t:{for(P=R,R=Ai;P.nodeType!==8;){if(!R){R=null;break t}if(P=li(P.nextSibling),P===null){R=null;break t}}R=P}R!==null?(a.memoizedState={dehydrated:R,treeContext:ha!==null?{id:es,overflow:ns}:null,retryLane:536870912},P=Xn(18,null,null,0),P.stateNode=R,P.return=a,a.child=P,_n=a,Qe=null,P=!0):P=!1}P||da(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?a.lanes=16:a.lanes=536870912,null;is(a)}return R=f.children,f=f.fallback,p?(nr(),p=a.mode,R=Wg({mode:"hidden",children:R},p),f=Sa(f,p,c,null),R.return=a,f.return=a,R.sibling=f,a.child=R,p=a.child,p.memoizedState=Hg(c),p.childLanes=qg(r,S,c),a.memoizedState=Fg,f):(er(a),Gg(a,R))}if(P=r.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(y)a.flags&256?(er(a),a.flags&=-257,a=Kg(r,a,c)):a.memoizedState!==null?(nr(),a.child=r.child,a.flags|=128,a=null):(nr(),p=f.fallback,R=a.mode,f=Wg({mode:"visible",children:f.children},R),p=Sa(p,R,c,null),p.flags|=2,f.return=a,p.return=a,f.sibling=p,a.child=f,ga(a,r.child,null,c),f=a.child,f.memoizedState=Hg(c),f.childLanes=qg(r,S,c),a.memoizedState=Fg,a=p);else if(er(a),R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var F=S.dgst;S=F,f=Error(i(419)),f.stack="",f.digest=S,Gl({value:f,source:null,stack:null}),a=Kg(r,a,c)}else if(Ge||nc(r,a,c,!1),S=(c&r.childLanes)!==0,Ge||S){if(S=ie,S!==null){if(f=c&-c,f&42)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=f&(S.suspendedLanes|c)?0:f,f!==0&&f!==P.retryLane)throw P.retryLane=f,tr(r,f),vn(S,r,f),nv}R.data==="$?"||Ep(),a=Kg(r,a,c)}else R.data==="$?"?(a.flags|=128,a.child=r.child,a=S2.bind(null,r),R._reactRetry=a,a=null):(r=P.treeContext,Qe=li(R.nextSibling),_n=a,Yt=!0,ai=null,Ai=!1,r!==null&&(Gn[Wn++]=es,Gn[Wn++]=ns,Gn[Wn++]=ha,es=r.id,ns=r.overflow,ha=a),a=Gg(a,f.children),a.flags|=4096);return a}return p?(nr(),p=f.fallback,R=a.mode,P=r.child,F=P.sibling,f=fr(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&31457280,F!==null?p=fr(F,p):(p=Sa(p,R,c,null),p.flags|=2),p.return=a,f.return=a,f.sibling=p,a.child=f,f=p,p=a.child,R=r.child.memoizedState,R===null?R=Hg(c):(P=R.cachePool,P!==null?(F=Le._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=f0(),R={baseLanes:R.baseLanes|c,cachePool:P}),p.memoizedState=R,p.childLanes=qg(r,S,c),a.memoizedState=Fg,f):(er(a),c=r.child,r=c.sibling,c=fr(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=c,a.memoizedState=null,c)}function Gg(r,a){return a=Wg({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Wg(r,a){return Vv(r,a,0,null)}function Kg(r,a,c){return ga(a,r.child,null,c),r=Gg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function fv(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),Qg(r.return,a,c)}function Yg(r,a,c,f,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=p)}function dv(r,a,c){var f=a.pendingProps,p=f.revealOrder,y=f.tail;if(Ze(r,a,f.children,c),f=Ne.current,f&2)f=f&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fv(r,c,a);else if(r.tag===19)fv(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(Zt(Ne,f),p){case"forwards":for(c=a.child,p=null;c!==null;)r=c.alternate,r!==null&&vh(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),Yg(a,!1,p,c,y);break;case"backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&vh(r)===null){a.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}Yg(a,!0,c,null,y);break;case"together":Yg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function rs(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),dr|=a.lanes,!(c&a.childLanes))if(r!==null){if(nc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=fr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=fr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function $g(r,a){return r.lanes&a?!0:(r=r.dependencies,!!(r!==null&&Mh(r)))}function c2(r,a,c){switch(a.tag){case 3:zs(a,a.stateNode.containerInfo),rr(a,Le,r.memoizedState.cache),ql();break;case 27:case 5:bl(a);break;case 4:zs(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(er(a),a.flags|=128,null):c&a.child.childLanes?hv(r,a,c):(er(a),r=rs(r,a,c),r!==null?r.sibling:null);er(a);break;case 19:var p=(r.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(nc(r,a,c,!1),f=(c&a.childLanes)!==0),p){if(f)return dv(r,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Zt(Ne,Ne.current),f)break;return null;case 22:case 23:return a.lanes=0,av(r,a,c);case 24:rr(a,Le,r.memoizedState.cache)}return rs(r,a,c)}function gv(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ge=!0;else{if(!$g(r,c)&&!(a.flags&128))return Ge=!1,c2(r,a,c);Ge=!!(r.flags&131072)}else Ge=!1,Yt&&a.flags&1048576&&Z_(a,gh,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var f=a.elementType,p=f._init;if(f=p(f._payload),a.type=f,typeof f=="function")cp(f)?(r=va(f,r),a.tag=1,a=cv(null,a,f,r,c)):(a.tag=0,a=jg(null,a,f,r,c));else{if(f!=null){if(p=f.$$typeof,p===w){a.tag=11,a=iv(null,a,f,r,c);break t}else if(p===O){a.tag=14,a=sv(null,a,f,r,c);break t}}throw a=I(f)||f,Error(i(306,a,""))}}return a;case 0:return jg(r,a,a.type,a.pendingProps,c);case 1:return f=a.type,p=va(f,a.pendingProps),cv(r,a,f,p,c);case 3:t:{if(zs(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var y=a.pendingProps;p=a.memoizedState,f=p.element,tp(r,a),rc(a,y,null,c);var S=a.memoizedState;if(y=S.cache,rr(a,Le,y),y!==p.cache&&Zg(a,[Le],c,!0),sc(),y=S.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=uv(r,a,y,c);break t}else if(y!==f){f=qn(Error(i(424)),a),Gl(f),a=uv(r,a,y,c);break t}else for(Qe=li(a.stateNode.containerInfo.firstChild),_n=a,Yt=!0,ai=null,Ai=!0,c=o0(a,null,y,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ql(),y===f){a=rs(r,a,c);break t}Ze(r,a,y,c)}a=a.child}return a;case 26:return ec(r,a),r===null?(c=yb(a.type,null,a.pendingProps,null))?a.memoizedState=c:Yt||(c=a.type,r=a.pendingProps,f=Kh(Ln.current).createElement(c),f[Fe]=a,f[Oe]=r,Je(f,c,r),ue(f),a.stateNode=f):a.memoizedState=yb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return bl(a),r===null&&Yt&&(f=a.stateNode=gb(a.type,a.pendingProps,Ln.current),_n=a,Ai=!0,Qe=li(f.firstChild)),f=a.pendingProps.children,r!==null||Yt?Ze(r,a,f,c):a.child=ga(a,null,f,c),ec(r,a),a.child;case 5:return r===null&&Yt&&((p=f=Qe)&&(f=U2(f,a.type,a.pendingProps,Ai),f!==null?(a.stateNode=f,_n=a,Qe=li(f.firstChild),Ai=!1,p=!0):p=!1),p||da(a)),bl(a),p=a.type,y=a.pendingProps,S=r!==null?r.memoizedProps:null,f=y.children,Np(p,y)?f=null:S!==null&&Np(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=Sg(r,a,n2,null,null,c),bc._currentValue=p),ec(r,a),Ze(r,a,f,c),a.child;case 6:return r===null&&Yt&&((r=c=Qe)&&(c=B2(c,a.pendingProps,Ai),c!==null?(a.stateNode=c,_n=a,Qe=null,r=!0):r=!1),r||da(a)),null;case 13:return hv(r,a,c);case 4:return zs(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=ga(a,null,f,c):Ze(r,a,f,c),a.child;case 11:return iv(r,a,a.type,a.pendingProps,c);case 7:return Ze(r,a,a.pendingProps,c),a.child;case 8:return Ze(r,a,a.pendingProps.children,c),a.child;case 12:return Ze(r,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,rr(a,a.type,f.value),Ze(r,a,f.children,c),a.child;case 9:return p=a.type._context,f=a.pendingProps.children,Ea(a),p=rn(p),f=f(p),a.flags|=1,Ze(r,a,f,c),a.child;case 14:return sv(r,a,a.type,a.pendingProps,c);case 15:return rv(r,a,a.type,a.pendingProps,c);case 19:return dv(r,a,c);case 22:return av(r,a,c);case 24:return Ea(a),f=rn(Le),r===null?(p=Eg(),p===null&&(p=ie,y=vg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),a.memoizedState={parent:f,cache:p},Jg(a),rr(a,Le,p)):(r.lanes&c&&(tp(r,a),rc(a,null,null,c),sc()),p=r.memoizedState,y=a.memoizedState,p.parent!==f?(p={parent:f,cache:f},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),rr(a,Le,f)):(f=y.cache,rr(a,Le,f),f!==p.cache&&Zg(a,[Le],c,!0))),Ze(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Xg=Wt(null),ba=null,as=null;function rr(r,a,c){Zt(Xg,a._currentValue),a._currentValue=c}function os(r){r._currentValue=Xg.current,pe(Xg)}function Qg(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function Zg(r,a,c,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=p;for(var P=0;P<a.length;P++)if(R.context===a[P]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),Qg(y.return,c,r),f||(S=null);break t}y=R.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),Qg(S,c,r),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===r){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function nc(r,a,c,f){r=null;for(var p=a,y=!1;p!==null;){if(!y){if(p.flags&524288)y=!0;else if(p.flags&262144)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=p.type;Cn(p.pendingProps.value,S.value)||(r!==null?r.push(R):r=[R])}}else if(p===Vs.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(bc):r=[bc])}p=p.return}r!==null&&Zg(a,r,c,f),a.flags|=262144}function Mh(r){for(r=r.firstContext;r!==null;){if(!Cn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ea(r){ba=r,as=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return pv(ba,r)}function Oh(r,a){return ba===null&&Ea(r),pv(r,a)}function pv(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},as===null){if(r===null)throw Error(i(308));as=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else as=as.next=a;return c}var ar=!1;function Jg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function or(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function lr(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,fe&2){var p=f.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),f.pending=a,a=fh(r),X_(r,null,c),a}return hh(r,f,a,c),fh(r)}function ic(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194176)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,qs(r,c)}}function ep(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?p=y=a:y=y.next=a}else p=y=a;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var np=!1;function sc(){if(np){var r=Ao;if(r!==null)throw r}}function rc(r,a,c,f){np=!1;var p=r.updateQueue;ar=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var P=R,F=P.next;P.next=null,S===null?y=F:S.next=F,S=P;var tt=r.alternate;tt!==null&&(tt=tt.updateQueue,R=tt.lastBaseUpdate,R!==S&&(R===null?tt.firstBaseUpdate=F:R.next=F,tt.lastBaseUpdate=P))}if(y!==null){var it=p.baseState;S=0,tt=F=P=null,R=y;do{var $=R.lane&-536870913,J=$!==R.lane;if(J?(Ht&$)===$:(f&$)===$){$!==0&&$===xo&&(np=!0),tt!==null&&(tt=tt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var mt=r,Ct=R;$=a;var ve=c;switch(Ct.tag){case 1:if(mt=Ct.payload,typeof mt=="function"){it=mt.call(ve,it,$);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Ct.payload,$=typeof mt=="function"?mt.call(ve,it,$):mt,$==null)break t;it=k({},it,$);break t;case 2:ar=!0}}$=R.callback,$!==null&&(r.flags|=64,J&&(r.flags|=8192),J=p.callbacks,J===null?p.callbacks=[$]:J.push($))}else J={lane:$,tag:R.tag,payload:R.payload,callback:R.callback,next:null},tt===null?(F=tt=J,P=it):tt=tt.next=J,S|=$;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;J=R,R=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);tt===null&&(P=it),p.baseState=P,p.firstBaseUpdate=F,p.lastBaseUpdate=tt,y===null&&(p.shared.lanes=0),dr|=S,r.lanes=S,r.memoizedState=it}}function mv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function yv(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)mv(c[r],a)}function ac(r,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&r)===r){f=void 0;var y=c.create,S=c.inst;f=y(),S.destroy=f}c=c.next}while(c!==p)}}catch(R){ne(a,a.return,R)}}function cr(r,a,c){try{var f=a.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&r)===r){var S=f.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,p=a;var P=c;try{R()}catch(F){ne(p,P,F)}}}f=f.next}while(f!==y)}}catch(F){ne(a,a.return,F)}}function _v(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{yv(a,c)}catch(f){ne(r,r.return,f)}}}function vv(r,a,c){c.props=va(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){ne(r,a,f)}}function Ta(r,a){try{var c=r.ref;if(c!==null){var f=r.stateNode;switch(r.tag){case 26:case 27:case 5:var p=f;break;default:p=f}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(y){ne(r,a,y)}}function In(r,a){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(p){ne(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ne(r,a,p)}else c.current=null}function bv(r){var a=r.type,c=r.memoizedProps,f=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break t;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(p){ne(r,r.return,p)}}function Ev(r,a,c){try{var f=r.stateNode;P2(f,r.type,c,a),f[Oe]=a}catch(p){ne(r,r.return,p)}}function Tv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ip(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Tv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sp(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Wh));else if(f!==4&&f!==27&&(r=r.child,r!==null))for(sp(r,a,c),r=r.sibling;r!==null;)sp(r,a,c),r=r.sibling}function kh(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&f!==27&&(r=r.child,r!==null))for(kh(r,a,c),r=r.sibling;r!==null;)kh(r,a,c),r=r.sibling}var ls=!1,ye=!1,rp=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,We=null,wv=!1;function u2(r,a){if(r=r.containerInfo,kp=Jh,r=j_(r),og(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var S=0,R=-1,P=-1,F=0,tt=0,it=r,$=null;e:for(;;){for(var J;it!==c||p!==0&&it.nodeType!==3||(R=S+p),it!==y||f!==0&&it.nodeType!==3||(P=S+f),it.nodeType===3&&(S+=it.nodeValue.length),(J=it.firstChild)!==null;)$=it,it=J;for(;;){if(it===r)break e;if($===c&&++F===p&&(R=S),$===y&&++tt===f&&(P=S),(J=it.nextSibling)!==null)break;it=$,$=it.parentNode}it=J}c=R===-1||P===-1?null:{start:R,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pp={focusedElem:r,selectionRange:c},Jh=!1,We=a;We!==null;)if(a=We,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,We=r;else for(;We!==null;){switch(a=We,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&y!==null){r=void 0,c=a,p=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var mt=va(c.type,p,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(mt,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ct){ne(c,c.return,Ct)}}break;case 3:if(r&1024){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)zp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,We=r;break}We=a.return}return mt=wv,wv=!1,mt}function xv(r,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:us(r,c),f&4&&ac(5,c);break;case 1:if(us(r,c),f&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(R){ne(c,c.return,R)}else{var p=va(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(R){ne(c,c.return,R)}}f&64&&_v(c),f&512&&Ta(c,c.return);break;case 3:if(us(r,c),f&64&&(f=c.updateQueue,f!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{yv(f,r)}catch(R){ne(c,c.return,R)}}break;case 26:us(r,c),f&512&&Ta(c,c.return);break;case 27:case 5:us(r,c),a===null&&f&4&&bv(c),f&512&&Ta(c,c.return);break;case 12:us(r,c);break;case 13:us(r,c),f&4&&Cv(r,c);break;case 22:if(p=c.memoizedState!==null||ls,!p){a=a!==null&&a.memoizedState!==null||ye;var y=ls,S=ye;ls=p,(ye=a)&&!S?ur(r,c,(c.subtreeFlags&8772)!==0):us(r,c),ls=y,ye=S}f&512&&(c.memoizedProps.mode==="manual"?Ta(c,c.return):In(c,c.return));break;default:us(r,c)}}function Av(r){var a=r.alternate;a!==null&&(r.alternate=null,Av(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Zr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ie=null,Dn=!1;function cs(r,a,c){for(c=c.child;c!==null;)Rv(r,a,c),c=c.sibling}function Rv(r,a,c){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Us,c)}catch{}switch(c.tag){case 26:ye||In(c,a),cs(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ye||In(c,a);var f=Ie,p=Dn;for(Ie=c.stateNode,cs(r,a,c),c=c.stateNode,a=c.attributes;a.length;)c.removeAttributeNode(a[0]);Zr(c),Ie=f,Dn=p;break;case 5:ye||In(c,a);case 6:p=Ie;var y=Dn;if(Ie=null,cs(r,a,c),Ie=p,Dn=y,Ie!==null)if(Dn)try{r=Ie,f=c.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)}catch(S){ne(c,a,S)}else try{Ie.removeChild(c.stateNode)}catch(S){ne(c,a,S)}break;case 18:Ie!==null&&(Dn?(a=Ie,c=c.stateNode,a.nodeType===8?Vp(a.parentNode,c):a.nodeType===1&&Vp(a,c),wc(a)):Vp(Ie,c.stateNode));break;case 4:f=Ie,p=Dn,Ie=c.stateNode.containerInfo,Dn=!0,cs(r,a,c),Ie=f,Dn=p;break;case 0:case 11:case 14:case 15:ye||cr(2,c,a),ye||cr(4,c,a),cs(r,a,c);break;case 1:ye||(In(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&vv(c,a,f)),cs(r,a,c);break;case 21:cs(r,a,c);break;case 22:ye||In(c,a),ye=(f=ye)||c.memoizedState!==null,cs(r,a,c),ye=f;break;default:cs(r,a,c)}}function Cv(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wc(r)}catch(c){ne(a,a.return,c)}}function h2(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Sv),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Sv),a;default:throw Error(i(435,r.tag))}}function ap(r,a){var c=h2(r);a.forEach(function(f){var p=w2.bind(null,r,f);c.has(f)||(c.add(f),f.then(p,p))})}function Yn(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f],y=r,S=a,R=S;t:for(;R!==null;){switch(R.tag){case 27:case 5:Ie=R.stateNode,Dn=!1;break t;case 3:Ie=R.stateNode.containerInfo,Dn=!0;break t;case 4:Ie=R.stateNode.containerInfo,Dn=!0;break t}R=R.return}if(Ie===null)throw Error(i(160));Rv(y,S,p),Ie=null,Dn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Iv(a,r),a=a.sibling}var oi=null;function Iv(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(a,r),$n(r),f&4&&(cr(3,r,r.return),ac(3,r),cr(5,r,r.return));break;case 1:Yn(a,r),$n(r),f&512&&(ye||c===null||In(c,c.return)),f&64&&ls&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var p=oi;if(Yn(a,r),$n(r),f&512&&(ye||c===null||In(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){t:{f=r.type,c=r.memoizedProps,p=p.ownerDocument||p;e:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ws]||y[Fe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Je(y,f,c),y[Fe]=r,ue(y),f=y;break t;case"link":var S=bb("link","href",p).get(f+(c.href||""));if(S){for(var R=0;R<S.length;R++)if(y=S[R],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(R,1);break e}}y=p.createElement(f),Je(y,f,c),p.head.appendChild(y);break;case"meta":if(S=bb("meta","content",p).get(f+(c.content||""))){for(R=0;R<S.length;R++)if(y=S[R],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(R,1);break e}}y=p.createElement(f),Je(y,f,c),p.head.appendChild(y);break;default:throw Error(i(468,f))}y[Fe]=r,ue(y),f=y}r.stateNode=f}else Eb(p,r.type,r.stateNode);else r.stateNode=vb(p,f,r.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?Eb(p,r.type,r.stateNode):vb(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Ev(r,r.memoizedProps,c.memoizedProps)}break;case 27:if(f&4&&r.alternate===null){p=r.stateNode,y=r.memoizedProps;try{for(var P=p.firstChild;P;){var F=P.nextSibling,tt=P.nodeName;P[Ws]||tt==="HEAD"||tt==="BODY"||tt==="SCRIPT"||tt==="STYLE"||tt==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=F}for(var it=r.type,$=p.attributes;$.length;)p.removeAttributeNode($[0]);Je(p,it,y),p[Fe]=r,p[Oe]=y}catch(mt){ne(r,r.return,mt)}}case 5:if(Yn(a,r),$n(r),f&512&&(ye||c===null||In(c,c.return)),r.flags&32){p=r.stateNode;try{Un(p,"")}catch(mt){ne(r,r.return,mt)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,Ev(r,p,c!==null?c.memoizedProps:p)),f&1024&&(rp=!0);break;case 6:if(Yn(a,r),$n(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(mt){ne(r,r.return,mt)}}break;case 3:if(Xh=null,p=oi,oi=Yh(a.containerInfo),Yn(a,r),oi=p,$n(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{wc(a.containerInfo)}catch(mt){ne(r,r.return,mt)}rp&&(rp=!1,Dv(r));break;case 4:f=oi,oi=Yh(r.stateNode.containerInfo),Yn(a,r),$n(r),oi=f;break;case 12:Yn(a,r),$n(r);break;case 13:Yn(a,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pp=bn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ap(r,f)));break;case 22:if(f&512&&(ye||c===null||In(c,c.return)),P=r.memoizedState!==null,F=c!==null&&c.memoizedState!==null,tt=ls,it=ye,ls=tt||P,ye=it||F,Yn(a,r),ye=it,ls=tt,$n(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,f&8192&&(a._visibility=P?a._visibility&-2:a._visibility|1,P&&(a=ls||ye,c===null||F||a||Do(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(c=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(c===null){F=c=a;try{if(p=F.stateNode,P)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=F.stateNode,R=F.memoizedProps.style;var J=R!=null&&R.hasOwnProperty("display")?R.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(mt){ne(F,F.return,mt)}}}else if(a.tag===6){if(c===null){F=a;try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(mt){ne(F,F.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,ap(r,c))));break;case 19:Yn(a,r),$n(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ap(r,f)));break;case 21:break;default:Yn(a,r),$n(r)}}function $n(r){var a=r.flags;if(a&2){try{if(r.tag!==27){t:{for(var c=r.return;c!==null;){if(Tv(c)){var f=c;break t}c=c.return}throw Error(i(160))}switch(f.tag){case 27:var p=f.stateNode,y=ip(r);kh(r,y,p);break;case 5:var S=f.stateNode;f.flags&32&&(Un(S,""),f.flags&=-33);var R=ip(r);kh(r,R,S);break;case 3:case 4:var P=f.stateNode.containerInfo,F=ip(r);sp(r,F,P);break;default:throw Error(i(161))}}}catch(tt){ne(r,r.return,tt)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Dv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Dv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function us(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xv(r,a.alternate,a),a=a.sibling}function Do(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:cr(4,a,a.return),Do(a);break;case 1:In(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&vv(a,a.return,c),Do(a);break;case 26:case 27:case 5:In(a,a.return),Do(a);break;case 22:In(a,a.return),a.memoizedState===null&&Do(a);break;default:Do(a)}r=r.sibling}}function ur(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,p=r,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:ur(p,y,c),ac(4,y);break;case 1:if(ur(p,y,c),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(F){ne(f,f.return,F)}if(f=y,p=f.updateQueue,p!==null){var R=f.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)mv(P[p],R)}catch(F){ne(f,f.return,F)}}c&&S&64&&_v(y),Ta(y,y.return);break;case 26:case 27:case 5:ur(p,y,c),c&&f===null&&S&4&&bv(y),Ta(y,y.return);break;case 12:ur(p,y,c);break;case 13:ur(p,y,c),c&&S&4&&Cv(p,y);break;case 22:y.memoizedState===null&&ur(p,y,c),Ta(y,y.return);break;default:ur(p,y,c)}a=a.sibling}}function op(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Xl(c))}function lp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Xl(r))}function hr(r,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mv(r,a,c,f),a=a.sibling}function Mv(r,a,c,f){var p=a.flags;switch(a.tag){case 0:case 11:case 15:hr(r,a,c,f),p&2048&&ac(9,a);break;case 3:hr(r,a,c,f),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Xl(r)));break;case 12:if(p&2048){hr(r,a,c,f),r=a.stateNode;try{var y=a.memoizedProps,S=y.id,R=y.onPostCommit;typeof R=="function"&&R(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){ne(a,a.return,P)}}else hr(r,a,c,f);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?hr(r,a,c,f):oc(r,a):y._visibility&4?hr(r,a,c,f):(y._visibility|=4,Mo(r,a,c,f,(a.subtreeFlags&10256)!==0)),p&2048&&op(a.alternate,a);break;case 24:hr(r,a,c,f),p&2048&&lp(a.alternate,a);break;default:hr(r,a,c,f)}}function Mo(r,a,c,f,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,S=a,R=c,P=f,F=S.flags;switch(S.tag){case 0:case 11:case 15:Mo(y,S,R,P,p),ac(8,S);break;case 23:break;case 22:var tt=S.stateNode;S.memoizedState!==null?tt._visibility&4?Mo(y,S,R,P,p):oc(y,S):(tt._visibility|=4,Mo(y,S,R,P,p)),p&&F&2048&&op(S.alternate,S);break;case 24:Mo(y,S,R,P,p),p&&F&2048&&lp(S.alternate,S);break;default:Mo(y,S,R,P,p)}a=a.sibling}}function oc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,f=a,p=f.flags;switch(f.tag){case 22:oc(c,f),p&2048&&op(f.alternate,f);break;case 24:oc(c,f),p&2048&&lp(f.alternate,f);break;default:oc(c,f)}a=a.sibling}}var lc=8192;function Oo(r){if(r.subtreeFlags&lc)for(r=r.child;r!==null;)Ov(r),r=r.sibling}function Ov(r){switch(r.tag){case 26:Oo(r),r.flags&lc&&r.memoizedState!==null&&J2(oi,r.memoizedState,r.memoizedProps);break;case 5:Oo(r);break;case 3:case 4:var a=oi;oi=Yh(r.stateNode.containerInfo),Oo(r),oi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=lc,lc=16777216,Oo(r),lc=a):Oo(r));break;default:Oo(r)}}function kv(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function cc(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];We=f,Nv(f,r)}kv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pv(r),r=r.sibling}function Pv(r){switch(r.tag){case 0:case 11:case 15:cc(r),r.flags&2048&&cr(9,r,r.return);break;case 3:cc(r);break;case 12:cc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,Ph(r)):cc(r);break;default:cc(r)}}function Ph(r){var a=r.deletions;if(r.flags&16){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];We=f,Nv(f,r)}kv(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:cr(8,a,a.return),Ph(a);break;case 22:c=a.stateNode,c._visibility&4&&(c._visibility&=-5,Ph(a));break;default:Ph(a)}r=r.sibling}}function Nv(r,a){for(;We!==null;){var c=We;switch(c.tag){case 0:case 11:case 15:cr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Xl(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,We=f;else t:for(c=r;We!==null;){f=We;var p=f.sibling,y=f.return;if(Av(f),f===c){We=null;break t}if(p!==null){p.return=y,We=p;break t}We=y}}}function f2(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,a,c,f){return new f2(r,a,c,f)}function cp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fr(r,a){var c=r.alternate;return c===null?(c=Xn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&31457280,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Lv(r,a){r.flags&=31457282;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Nh(r,a,c,f,p,y){var S=0;if(f=r,typeof r=="function")cp(r)&&(S=1);else if(typeof r=="string")S=Q2(r,c,gn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case h:return Sa(c.children,p,y,a);case d:S=8,p|=24;break;case m:return r=Xn(12,c,a,p|2),r.elementType=m,r.lanes=y,r;case x:return r=Xn(13,c,a,p),r.elementType=x,r.lanes=y,r;case A:return r=Xn(19,c,a,p),r.elementType=A,r.lanes=y,r;case B:return Vv(c,p,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case E:S=10;break t;case b:S=9;break t;case w:S=11;break t;case O:S=14;break t;case V:S=16,f=null;break t}S=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=Xn(S,c,a,p),a.elementType=r,a.type=f,a.lanes=y,a}function Sa(r,a,c,f){return r=Xn(7,r,f,a),r.lanes=c,r}function Vv(r,a,c,f){r=Xn(22,r,f,a),r.elementType=B,r.lanes=c;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if(!(p._pendingVisibility&2)){var S=tr(y,2);S!==null&&(p._pendingVisibility|=2,vn(S,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if(p._pendingVisibility&2){var S=tr(y,2);S!==null&&(p._pendingVisibility&=-3,vn(S,y,2))}}};return r.stateNode=p,r}function up(r,a,c){return r=Xn(6,r,null,a),r.lanes=c,r}function hp(r,a,c){return a=Xn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function hs(r){r.flags|=4}function zv(r,a){if(a.type!=="stylesheet"||a.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!Tb(a)){if(a=Kn.current,a!==null&&((Ht&4194176)===Ht?Ri!==null:(Ht&62914560)!==Ht&&!(Ht&536870912)||a!==Ri))throw Kl=mg,e0;r.flags|=8192}}function Lh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Fs():536870912,r.lanes|=a,Po|=a)}function uc(r,a){if(!Yt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function he(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&31457280,f|=p.flags&31457280,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function d2(r,a,c){var f=a.pendingProps;switch(gg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(a),null;case 1:return he(a),null;case 3:return c=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),os(Le),qi(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Hl(a)?hs(a):r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ai!==null&&(vp(ai),ai=null))),he(a),null;case 26:return c=a.memoizedState,r===null?(hs(a),c!==null?(he(a),zv(a,c)):(he(a),a.flags&=-16777217)):c?c!==r.memoizedState?(hs(a),he(a),zv(a,c)):(he(a),a.flags&=-16777217):(r.memoizedProps!==f&&hs(a),he(a),a.flags&=-16777217),null;case 27:Za(a),c=Ln.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&hs(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return he(a),null}r=gn.current,Hl(a)?J_(a):(r=gb(p,f,c),a.stateNode=r,hs(a))}return he(a),null;case 5:if(Za(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&hs(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return he(a),null}if(r=gn.current,Hl(a))J_(a);else{switch(p=Kh(Ln.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?p.createElement(c,{is:f.is}):p.createElement(c)}}r[Fe]=a,r[Oe]=f;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;t:switch(Je(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&hs(a)}}return he(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&hs(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ln.current,Hl(a)){if(r=a.stateNode,c=a.memoizedProps,f=null,p=_n,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[Fe]=a,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||lb(r.nodeValue,c)),r||da(a)}else r=Kh(r).createTextNode(f),r[Fe]=a,a.stateNode=r}return he(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Hl(a),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Fe]=a}else ql(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;he(a),p=!1}else ai!==null&&(vp(ai),ai=null),p=!0;if(!p)return a.flags&256?(is(a),a):(is(a),null)}if(is(a),a.flags&128)return a.lanes=c,a;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=a.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),Lh(a,a.updateQueue),he(a),null;case 4:return qi(),r===null&&Dp(a.stateNode.containerInfo),he(a),null;case 10:return os(a.type),he(a),null;case 19:if(pe(Ne),p=a.memoizedState,p===null)return he(a),null;if(f=(a.flags&128)!==0,y=p.rendering,y===null)if(f)uc(p,!1);else{if(_e!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(y=vh(r),y!==null){for(a.flags|=128,uc(p,!1),r=y.updateQueue,a.updateQueue=r,Lh(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)Lv(c,r),c=c.sibling;return Zt(Ne,Ne.current&1|2),a.child}r=r.sibling}p.tail!==null&&bn()>Vh&&(a.flags|=128,f=!0,uc(p,!1),a.lanes=4194304)}else{if(!f)if(r=vh(y),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,Lh(a,r),uc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Yt)return he(a),null}else 2*bn()-p.renderingStartTime>Vh&&c!==536870912&&(a.flags|=128,f=!0,uc(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=bn(),a.sibling=null,r=Ne.current,Zt(Ne,f?r&1|2:r&1),a):(he(a),null);case 22:case 23:return is(a),_g(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?c&536870912&&!(a.flags&128)&&(he(a),a.subtreeFlags&6&&(a.flags|=8192)):he(a),c=a.updateQueue,c!==null&&Lh(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),r!==null&&pe(pa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),os(Le),he(a),null;case 25:return null}throw Error(i(156,a.tag))}function g2(r,a){switch(gg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return os(Le),qi(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Za(a),null;case 13:if(is(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ql()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return pe(Ne),null;case 4:return qi(),null;case 10:return os(a.type),null;case 22:case 23:return is(a),_g(),r!==null&&pe(pa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return os(Le),null;case 25:return null;default:return null}}function Uv(r,a){switch(gg(a),a.tag){case 3:os(Le),qi();break;case 26:case 27:case 5:Za(a);break;case 4:qi();break;case 13:is(a);break;case 19:pe(Ne);break;case 10:os(a.type);break;case 22:case 23:is(a),_g(),r!==null&&pe(pa);break;case 24:os(Le)}}var p2={getCacheForType:function(r){var a=rn(Le),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},m2=typeof WeakMap=="function"?WeakMap:Map,fe=0,ie=null,Pt=null,Ht=0,se=0,Mn=null,fs=!1,ko=!1,fp=!1,ds=0,_e=0,dr=0,wa=0,dp=0,Qn=0,Po=0,hc=null,Ii=null,gp=!1,pp=0,Vh=1/0,zh=null,gr=null,Uh=!1,xa=null,fc=0,mp=0,yp=null,dc=0,_p=null;function On(){if(fe&2&&Ht!==0)return Ht&-Ht;if(C.T!==null){var r=xo;return r!==0?r:Ap()}return Gu()}function Bv(){Qn===0&&(Qn=!(Ht&536870912)||Yt?xl():536870912);var r=Kn.current;return r!==null&&(r.flags|=32),Qn}function vn(r,a,c){(r===ie&&se===2||r.cancelPendingCommit!==null)&&(No(r,0),gs(r,Ht,Qn,!1)),Te(r,c),(!(fe&2)||r!==ie)&&(r===ie&&(!(fe&2)&&(wa|=c),_e===4&&gs(r,Ht,Qn,!1)),Di(r))}function jv(r,a,c){if(fe&6)throw Error(i(327));var f=!c&&(a&60)===0&&(a&r.expiredLanes)===0||js(r,a),p=f?v2(r,a):Tp(r,a,!0),y=f;do{if(p===0){ko&&!f&&gs(r,a,0,!1);break}else if(p===6)gs(r,a,0,!fs);else{if(c=r.current.alternate,y&&!y2(c)){p=Tp(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var R=r;p=hc;var P=R.current.memoizedState.isDehydrated;if(P&&(No(R,S).flags|=256),S=Tp(R,S,!1),S!==2){if(fp&&!P){R.errorRecoveryDisabledLanes|=y,wa|=y,p=4;break t}y=Ii,Ii=p,y!==null&&vp(y)}p=S}if(y=!1,p!==2)continue}}if(p===1){No(r,0),gs(r,a,0,!0);break}t:{switch(f=r,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){gs(f,a,Qn,!fs);break t}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(i(329))}if(f.finishedWork=c,f.finishedLanes=a,(a&62914560)===a&&(y=pp+300-bn(),10<y)){if(gs(f,a,Qn,!fs),Vn(f,0)!==0)break t;f.timeoutHandle=hb(Fv.bind(null,f,c,Ii,zh,gp,a,Qn,wa,Po,fs,2,-0,0),y);break t}Fv(f,c,Ii,zh,gp,a,Qn,wa,Po,fs,0,-0,0)}}break}while(!0);Di(r)}function vp(r){Ii===null?Ii=r:Ii.push.apply(Ii,r)}function Fv(r,a,c,f,p,y,S,R,P,F,tt,it,$){var J=a.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:Z2},Ov(a),a=tR(),a!==null)){r.cancelPendingCommit=a($v.bind(null,r,c,f,p,S,R,P,1,it,$)),gs(r,y,S,!F);return}$v(r,c,f,p,S,R,P,tt,it,$)}function y2(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var p=c[f],y=p.getSnapshot;p=p.value;try{if(!Cn(y(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gs(r,a,c,f){a&=~dp,a&=~wa,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var p=a;0<p;){var y=31-pn(p),S=1<<y;f[y]=-1,p&=~S}c!==0&&Hs(r,c,a)}function Bh(){return fe&6?!0:(gc(0),!1)}function bp(){if(Pt!==null){if(se===0)var r=Pt.return;else r=Pt,as=ba=null,Ag(r),So=null,Yl=0,r=Pt;for(;r!==null;)Uv(r.alternate,r),r=r.return;Pt=null}}function No(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,L2(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),bp(),ie=r,Pt=c=fr(r.current,null),Ht=a,se=0,Mn=null,fs=!1,ko=js(r,a),fp=!1,Po=Qn=dp=wa=dr=_e=0,Ii=hc=null,gp=!1,a&8&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var p=31-pn(f),y=1<<p;a|=r[p],f&=~y}return ds=a,uh(),c}function Hv(r,a){Ot=null,C.H=Ci,a===Wl?(a=s0(),se=3):a===e0?(a=s0(),se=4):se=a===nv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Mn=a,Pt===null&&(_e=1,Dh(r,qn(a,r.current)))}function qv(){var r=C.H;return C.H=Ci,r===null?Ci:r}function Gv(){var r=C.A;return C.A=p2,r}function Ep(){_e=4,fs||(Ht&4194176)!==Ht&&Kn.current!==null||(ko=!0),!(dr&134217727)&&!(wa&134217727)||ie===null||gs(ie,Ht,Qn,!1)}function Tp(r,a,c){var f=fe;fe|=2;var p=qv(),y=Gv();(ie!==r||Ht!==a)&&(zh=null,No(r,a)),a=!1;var S=_e;t:do try{if(se!==0&&Pt!==null){var R=Pt,P=Mn;switch(se){case 8:bp(),S=6;break t;case 3:case 2:case 6:Kn.current===null&&(a=!0);var F=se;if(se=0,Mn=null,Lo(r,R,P,F),c&&ko){S=0;break t}break;default:F=se,se=0,Mn=null,Lo(r,R,P,F)}}_2(),S=_e;break}catch(tt){Hv(r,tt)}while(!0);return a&&r.shellSuspendCounter++,as=ba=null,fe=f,C.H=p,C.A=y,Pt===null&&(ie=null,Ht=0,uh()),S}function _2(){for(;Pt!==null;)Wv(Pt)}function v2(r,a){var c=fe;fe|=2;var f=qv(),p=Gv();ie!==r||Ht!==a?(zh=null,Vh=bn()+500,No(r,a)):ko=js(r,a);t:do try{if(se!==0&&Pt!==null){a=Pt;var y=Mn;e:switch(se){case 1:se=0,Mn=null,Lo(r,a,y,1);break;case 2:if(n0(y)){se=0,Mn=null,Kv(a);break}a=function(){se===2&&ie===r&&(se=7),Di(r)},y.then(a,a);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:n0(y)?(se=0,Mn=null,Kv(a)):(se=0,Mn=null,Lo(r,a,y,7));break;case 5:var S=null;switch(Pt.tag){case 26:S=Pt.memoizedState;case 5:case 27:var R=Pt;if(!S||Tb(S)){se=0,Mn=null;var P=R.sibling;if(P!==null)Pt=P;else{var F=R.return;F!==null?(Pt=F,jh(F)):Pt=null}break e}}se=0,Mn=null,Lo(r,a,y,5);break;case 6:se=0,Mn=null,Lo(r,a,y,6);break;case 8:bp(),_e=6;break t;default:throw Error(i(462))}}b2();break}catch(tt){Hv(r,tt)}while(!0);return as=ba=null,C.H=f,C.A=p,fe=c,Pt!==null?0:(ie=null,Ht=0,uh(),_e)}function b2(){for(;Pt!==null&&!Xd();)Wv(Pt)}function Wv(r){var a=gv(r.alternate,r,ds);r.memoizedProps=r.pendingProps,a===null?jh(r):Pt=a}function Kv(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=lv(c,a,a.pendingProps,a.type,void 0,Ht);break;case 11:a=lv(c,a,a.pendingProps,a.type.render,a.ref,Ht);break;case 5:Ag(a);default:Uv(c,a),a=Pt=Lv(a,ds),a=gv(c,a,ds)}r.memoizedProps=r.pendingProps,a===null?jh(r):Pt=a}function Lo(r,a,c,f){as=ba=null,Ag(a),So=null,Yl=0;var p=a.return;try{if(l2(r,p,a,c,Ht)){_e=1,Dh(r,qn(c,r.current)),Pt=null;return}}catch(y){if(p!==null)throw Pt=p,y;_e=1,Dh(r,qn(c,r.current)),Pt=null;return}a.flags&32768?(Yt||f===1?r=!0:ko||Ht&536870912?r=!1:(fs=r=!0,(f===2||f===3||f===6)&&(f=Kn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Yv(a,r)):jh(a)}function jh(r){var a=r;do{if(a.flags&32768){Yv(a,fs);return}r=a.return;var c=d2(a.alternate,a,ds);if(c!==null){Pt=c;return}if(a=a.sibling,a!==null){Pt=a;return}Pt=a=r}while(a!==null);_e===0&&(_e=5)}function Yv(r,a){do{var c=g2(r.alternate,r);if(c!==null){c.flags&=32767,Pt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Pt=r;return}Pt=r=c}while(r!==null);_e=6,Pt=null}function $v(r,a,c,f,p,y,S,R,P,F){var tt=C.T,it=ct.p;try{ct.p=2,C.T=null,E2(r,a,c,f,it,p,y,S,R,P,F)}finally{C.T=tt,ct.p=it}}function E2(r,a,c,f,p,y,S,R){do Vo();while(xa!==null);if(fe&6)throw Error(i(327));var P=r.finishedWork;if(f=r.finishedLanes,P===null)return null;if(r.finishedWork=null,r.finishedLanes=0,P===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var F=P.lanes|P.childLanes;if(F|=hg,Hu(r,f,F,y,S,R),r===ie&&(Pt=ie=null,Ht=0),!(P.subtreeFlags&10256)&&!(P.flags&10256)||Uh||(Uh=!0,mp=F,yp=c,x2(Gi,function(){return Vo(),null})),c=(P.flags&15990)!==0,P.subtreeFlags&15990||c?(c=C.T,C.T=null,y=ct.p,ct.p=2,S=fe,fe|=4,u2(r,P),Iv(P,r),GA(Pp,r.containerInfo),Jh=!!kp,Pp=kp=null,r.current=P,xv(r,P.alternate,P),El(),fe=S,ct.p=y,C.T=c):r.current=P,Uh?(Uh=!1,xa=r,fc=f):Xv(r,F),F=r.pendingLanes,F===0&&(gr=null),Sl(P.stateNode),Di(r),a!==null)for(p=r.onRecoverableError,P=0;P<a.length;P++)F=a[P],p(F.value,{componentStack:F.stack});return fc&3&&Vo(),F=r.pendingLanes,f&4194218&&F&42?r===_p?dc++:(dc=0,_p=r):dc=0,gc(0),null}function Xv(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Xl(a)))}function Vo(){if(xa!==null){var r=xa,a=mp;mp=0;var c=qu(fc),f=C.T,p=ct.p;try{if(ct.p=32>c?32:c,C.T=null,xa===null)var y=!1;else{c=yp,yp=null;var S=xa,R=fc;if(xa=null,fc=0,fe&6)throw Error(i(331));var P=fe;if(fe|=4,Pv(S.current),Mv(S,S.current,R,c),fe=P,gc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Us,S)}catch{}y=!0}return y}finally{ct.p=p,C.T=f,Xv(r,a)}}return!1}function Qv(r,a,c){a=qn(c,a),a=Bg(r.stateNode,a,2),r=lr(r,a,2),r!==null&&(Te(r,2),Di(r))}function ne(r,a,c){if(r.tag===3)Qv(r,r,c);else for(;a!==null;){if(a.tag===3){Qv(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(gr===null||!gr.has(f))){r=qn(c,r),c=tv(2),f=lr(a,c,2),f!==null&&(ev(c,f,a,r),Te(f,2),Di(f));break}}a=a.return}}function Sp(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new m2;var p=new Set;f.set(a,p)}else p=f.get(a),p===void 0&&(p=new Set,f.set(a,p));p.has(c)||(fp=!0,p.add(c),r=T2.bind(null,r,a,c),a.then(r,r))}function T2(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,ie===r&&(Ht&c)===c&&(_e===4||_e===3&&(Ht&62914560)===Ht&&300>bn()-pp?!(fe&2)&&No(r,0):dp|=c,Po===Ht&&(Po=0)),Di(r)}function Zv(r,a){a===0&&(a=Fs()),r=tr(r,a),r!==null&&(Te(r,a),Di(r))}function S2(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Zv(r,c)}function w2(r,a){var c=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),Zv(r,c)}function x2(r,a){return $r(r,a)}var Fh=null,zo=null,wp=!1,Hh=!1,xp=!1,Aa=0;function Di(r){r!==zo&&r.next===null&&(zo===null?Fh=zo=r:zo=zo.next=r),Hh=!0,wp||(wp=!0,R2(A2))}function gc(r,a){if(!xp&&Hh){xp=!0;do for(var c=!1,f=Fh;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var S=f.suspendedLanes,R=f.pingedLanes;y=(1<<31-pn(42|r)+1)-1,y&=p&~(S&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,eb(f,y))}else y=Ht,y=Vn(f,f===ie?y:0),!(y&3)||js(f,y)||(c=!0,eb(f,y));f=f.next}while(c);xp=!1}}function A2(){Hh=wp=!1;var r=0;Aa!==0&&(N2()&&(r=Aa),Aa=0);for(var a=bn(),c=null,f=Fh;f!==null;){var p=f.next,y=Jv(f,a);y===0?(f.next=null,c===null?Fh=p:c.next=p,p===null&&(zo=c)):(c=f,(r!==0||y&3)&&(Hh=!0)),f=p}gc(r)}function Jv(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-pn(y),R=1<<S,P=p[S];P===-1?(!(R&c)||R&f)&&(p[S]=eo(R,a)):P<=a&&(r.expiredLanes|=R),y&=~R}if(a=ie,c=Ht,c=Vn(r,r===a?c:0),f=r.callbackNode,c===0||r===a&&se===2||r.cancelPendingCommit!==null)return f!==null&&f!==null&&to(f),r.callbackNode=null,r.callbackPriority=0;if(!(c&3)||js(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(f!==null&&to(f),qu(c)){case 2:case 8:c=je;break;case 32:c=Gi;break;case 268435456:c=Tl;break;default:c=Gi}return f=tb.bind(null,r),c=$r(c,f),r.callbackPriority=a,r.callbackNode=c,a}return f!==null&&f!==null&&to(f),r.callbackPriority=2,r.callbackNode=null,2}function tb(r,a){var c=r.callbackNode;if(Vo()&&r.callbackNode!==c)return null;var f=Ht;return f=Vn(r,r===ie?f:0),f===0?null:(jv(r,f,a),Jv(r,bn()),r.callbackNode!=null&&r.callbackNode===c?tb.bind(null,r):null)}function eb(r,a){if(Vo())return null;jv(r,a,!0)}function R2(r){V2(function(){fe&6?$r(Me,r):r()})}function Ap(){return Aa===0&&(Aa=xl()),Aa}function nb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vi(""+r)}function ib(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function C2(r,a,c,f,p){if(a==="submit"&&c&&c.stateNode===p){var y=nb((p[Oe]||null).action),S=f.submitter;S&&(a=(a=S[Oe]||null)?nb(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var R=new lo("action","action",null,f,p);r.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Aa!==0){var P=S?ib(p,S):new FormData(p);Ng(c,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(R.preventDefault(),P=S?ib(p,S):new FormData(p),Ng(c,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Rp=0;Rp<$_.length;Rp++){var Cp=$_[Rp],I2=Cp.toLowerCase(),D2=Cp[0].toUpperCase()+Cp.slice(1);ri(I2,"on"+D2)}ri(q_,"onAnimationEnd"),ri(G_,"onAnimationIteration"),ri(W_,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(KA,"onTransitionRun"),ri(YA,"onTransitionStart"),ri($A,"onTransitionCancel"),ri(K_,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function sb(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],p=f.event;f=f.listeners;t:{var y=void 0;if(a)for(var S=f.length-1;0<=S;S--){var R=f[S],P=R.instance,F=R.currentTarget;if(R=R.listener,P!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=F;try{y(p)}catch(tt){Ih(tt)}p.currentTarget=null,y=P}else for(S=0;S<f.length;S++){if(R=f[S],P=R.instance,F=R.currentTarget,R=R.listener,P!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=F;try{y(p)}catch(tt){Ih(tt)}p.currentTarget=null,y=P}}}}function Ut(r,a){var c=a[Qr];c===void 0&&(c=a[Qr]=new Set);var f=r+"__bubble";c.has(f)||(rb(a,r,2,!1),c.add(f))}function Ip(r,a,c){var f=0;a&&(f|=4),rb(c,r,f,a)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Dp(r){if(!r[qh]){r[qh]=!0,Rl.forEach(function(c){c!=="selectionchange"&&(M2.has(c)||Ip(c,!1,r),Ip(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[qh]||(a[qh]=!0,Ip("selectionchange",!1,a))}}function rb(r,a,c,f){switch(Cb(a)){case 2:var p=iR;break;case 8:p=sR;break;default:p=Hp}c=p.bind(null,a,c,r),p=void 0,!jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(a,c,{capture:!0,passive:p}):r.addEventListener(a,c,!0):p!==void 0?r.addEventListener(a,c,{passive:p}):r.addEventListener(a,c,!1)}function Mp(r,a,c,f,p){var y=f;if(!(a&1)&&!(a&2)&&f!==null)t:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var R=f.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(S===4)for(S=f.return;S!==null;){var P=S.tag;if((P===3||P===4)&&(P=S.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;S=S.return}for(;R!==null;){if(S=si(R),S===null)return;if(P=S.tag,P===5||P===6||P===26||P===27){f=y=S;continue t}R=R.parentNode}}f=f.return}$u(function(){var F=y,tt=oo(c),it=[];t:{var $=Y_.get(r);if($!==void 0){var J=lo,mt=r;switch(r){case"keypress":if(Ei(c)===0)break t;case"keydown":case"keyup":J=po;break;case"focusin":mt="focus",J=ho;break;case"focusout":mt="blur",J=ho;break;case"beforeblur":case"afterblur":J=ho;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ih;break;case q_:case G_:case W_:J=fo;break;case K_:J=rh;break;case"scroll":case"scrollend":J=Xu;break;case"wheel":J=mo;break;case"copy":case"cut":case"paste":J=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ul;break;case"toggle":case"beforetoggle":J=oh}var Ct=(a&4)!==0,ve=!Ct&&(r==="scroll"||r==="scrollend"),q=Ct?$!==null?$+"Capture":null:$;Ct=[];for(var j=F,K;j!==null;){var et=j;if(K=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||K===null||q===null||(et=na(j,q),et!=null&&Ct.push(mc(j,et,K))),ve)break;j=j.return}0<Ct.length&&($=new J($,mt,null,c,tt),it.push({event:$,listeners:Ct}))}}if(!(a&7)){t:{if($=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",$&&c!==Bn&&(mt=c.relatedTarget||c.fromElement)&&(si(mt)||mt[Wi]))break t;if((J||$)&&($=tt.window===tt?tt:($=tt.ownerDocument)?$.defaultView||$.parentWindow:window,J?(mt=c.relatedTarget||c.toElement,J=F,mt=mt?si(mt):null,mt!==null&&(ve=dt(mt),Ct=mt.tag,mt!==ve||Ct!==5&&Ct!==27&&Ct!==6)&&(mt=null)):(J=null,mt=F),J!==mt)){if(Ct=Fn,et="onMouseLeave",q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ct=Ul,et="onPointerLeave",q="onPointerEnter",j="pointer"),ve=J==null?$:Ks(J),K=mt==null?$:Ks(mt),$=new Ct(et,j+"leave",J,c,tt),$.target=ve,$.relatedTarget=K,et=null,si(tt)===F&&(Ct=new Ct(q,j+"enter",mt,c,tt),Ct.target=K,Ct.relatedTarget=ve,et=Ct),ve=et,J&&mt)e:{for(Ct=J,q=mt,j=0,K=Ct;K;K=Uo(K))j++;for(K=0,et=q;et;et=Uo(et))K++;for(;0<j-K;)Ct=Uo(Ct),j--;for(;0<K-j;)q=Uo(q),K--;for(;j--;){if(Ct===q||q!==null&&Ct===q.alternate)break e;Ct=Uo(Ct),q=Uo(q)}Ct=null}else Ct=null;J!==null&&ab(it,$,J,Ct,!1),mt!==null&&ve!==null&&ab(it,ve,mt,Ct,!0)}}t:{if($=F?Ks(F):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var pt=k_;else if(Pe($))if(P_)pt=HA;else{pt=jA;var kt=BA}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Ol(F.elementType)&&(pt=k_):pt=FA;if(pt&&(pt=pt(r,F))){ts(it,pt,c,tt);break t}kt&&kt(r,$,F),r==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&ao($,"number",$.value)}switch(kt=F?Ks(F):window,r){case"focusin":(Pe(kt)||kt.contentEditable==="true")&&(yo=kt,lg=F,Fl=null);break;case"focusout":Fl=lg=yo=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,F_(it,c,tt);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":F_(it,c,tt)}var yt;if(wi)t:{switch(r){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else jt?Q(r,c)&&(bt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(bt="onCompositionStart");bt&&(T&&c.locale!=="ko"&&(jt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&jt&&(yt=Pl()):(bi=tt,Js="value"in bi?bi.value:bi.textContent,jt=!0)),kt=Gh(F,bt),0<kt.length&&(bt=new Vl(bt,r,null,c,tt),it.push({event:bt,listeners:kt}),yt?bt.data=yt:(yt=ot(c),yt!==null&&(bt.data=yt)))),(yt=v?ke(r,c):Ft(r,c))&&(bt=Gh(F,"onBeforeInput"),0<bt.length&&(kt=new Vl("onBeforeInput","beforeinput",null,c,tt),it.push({event:kt,listeners:bt}),kt.data=yt)),C2(it,r,F,c,tt)}sb(it,a)})}function mc(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Gh(r,a){for(var c=a+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=na(r,c),p!=null&&f.unshift(mc(r,p,y)),p=na(r,a),p!=null&&f.push(mc(r,p,y))),r=r.return}return f}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ab(r,a,c,f,p){for(var y=a._reactName,S=[];c!==null&&c!==f;){var R=c,P=R.alternate,F=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||F===null||(P=F,p?(F=na(c,y),F!=null&&S.unshift(mc(c,F,P))):p||(F=na(c,y),F!=null&&S.push(mc(c,F,P)))),c=c.return}S.length!==0&&r.push({event:a,listeners:S})}var O2=/\r\n?/g,k2=/\u0000|\uFFFD/g;function ob(r){return(typeof r=="string"?r:""+r).replace(O2,`
`).replace(k2,"")}function lb(r,a){return a=ob(a),ob(r)===a}function Wh(){}function ee(r,a,c,f,p,y){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Un(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Un(r,""+f);break;case"className":Xs(r,"class",f);break;case"tabIndex":Xs(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Xs(r,c,f);break;case"style":Yu(r,f,y);break;case"data":if(a!=="object"){Xs(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=vi(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ee(r,a,"name",p.name,p,null),ee(r,a,"formEncType",p.formEncType,p,null),ee(r,a,"formMethod",p.formMethod,p,null),ee(r,a,"formTarget",p.formTarget,p,null)):(ee(r,a,"encType",p.encType,p,null),ee(r,a,"method",p.method,p,null),ee(r,a,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=vi(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=Wh);break;case"onScroll":f!=null&&Ut("scroll",r);break;case"onScrollEnd":f!=null&&Ut("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=vi(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Ut("beforetoggle",r),Ut("toggle",r),$s(r,"popover",f);break;case"xlinkActuate":zn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":zn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":zn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":zn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":zn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":zn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":zn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":zn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":zn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":$s(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=eg.get(c)||c,$s(r,c,f))}}function Op(r,a,c,f,p,y){switch(c){case"style":Yu(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?Un(r,f):(typeof f=="number"||typeof f=="bigint")&&Un(r,""+f);break;case"onScroll":f!=null&&Ut("scroll",r);break;case"onScrollEnd":f!=null&&Ut("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),y=r[Oe]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,f,p);break t}c in r?r[c]=f:f===!0?r.setAttribute(c,""):$s(r,c,f)}}}function Je(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",r),Ut("load",r);var f=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(r,a,y,S,c,null)}}p&&ee(r,a,"srcSet",c.srcSet,c,null),f&&ee(r,a,"src",c.src,c,null);return;case"input":Ut("invalid",r);var R=y=S=p=null,P=null,F=null;for(f in c)if(c.hasOwnProperty(f)){var tt=c[f];if(tt!=null)switch(f){case"name":p=tt;break;case"type":S=tt;break;case"checked":P=tt;break;case"defaultChecked":F=tt;break;case"value":y=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:ee(r,a,f,tt,c,null)}}ta(r,y,R,P,F,S,p,!1),Jr(r);return;case"select":Ut("invalid",r),f=S=y=null;for(p in c)if(c.hasOwnProperty(p)&&(R=c[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":S=R;break;case"multiple":f=R;default:ee(r,a,p,R,c,null)}a=y,c=S,r.multiple=!!f,a!=null?Kt(r,!!f,a,!1):c!=null&&Kt(r,!!f,c,!0);return;case"textarea":Ut("invalid",r),y=p=f=null;for(S in c)if(c.hasOwnProperty(S)&&(R=c[S],R!=null))switch(S){case"value":f=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ee(r,a,S,R,c,null)}Zs(r,f,p,y),Jr(r);return;case"option":for(P in c)if(c.hasOwnProperty(P)&&(f=c[P],f!=null))switch(P){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ee(r,a,P,f,c,null)}return;case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":Ut("load",r);break;case"video":case"audio":for(f=0;f<pc.length;f++)Ut(pc[f],r);break;case"image":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"embed":case"source":case"link":Ut("error",r),Ut("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in c)if(c.hasOwnProperty(F)&&(f=c[F],f!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(r,a,F,f,c,null)}return;default:if(Ol(a)){for(tt in c)c.hasOwnProperty(tt)&&(f=c[tt],f!==void 0&&Op(r,a,tt,f,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(f=c[R],f!=null&&ee(r,a,R,f,c,null))}function P2(r,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,R=null,P=null,F=null,tt=null;for(J in c){var it=c[J];if(c.hasOwnProperty(J)&&it!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=it;default:f.hasOwnProperty(J)||ee(r,a,J,null,f,it)}}for(var $ in f){var J=f[$];if(it=c[$],f.hasOwnProperty($)&&(J!=null||it!=null))switch($){case"type":y=J;break;case"name":p=J;break;case"checked":F=J;break;case"defaultChecked":tt=J;break;case"value":S=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==it&&ee(r,a,$,J,f,it)}}Qs(r,S,R,P,F,tt,y,p);return;case"select":J=S=R=$=null;for(y in c)if(P=c[y],c.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":J=P;default:f.hasOwnProperty(y)||ee(r,a,y,null,f,P)}for(p in f)if(y=f[p],P=c[p],f.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":$=y;break;case"defaultValue":R=y;break;case"multiple":S=y;default:y!==P&&ee(r,a,p,y,f,P)}a=R,c=S,f=J,$!=null?Kt(r,!!c,$,!1):!!f!=!!c&&(a!=null?Kt(r,!!c,a,!0):Kt(r,!!c,c?[]:"",!1));return;case"textarea":J=$=null;for(R in c)if(p=c[R],c.hasOwnProperty(R)&&p!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ee(r,a,R,null,f,p)}for(S in f)if(p=f[S],y=c[S],f.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":$=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ee(r,a,S,p,f,y)}ea(r,$,J);return;case"option":for(var mt in c)if($=c[mt],c.hasOwnProperty(mt)&&$!=null&&!f.hasOwnProperty(mt))switch(mt){case"selected":r.selected=!1;break;default:ee(r,a,mt,null,f,$)}for(P in f)if($=f[P],J=c[P],f.hasOwnProperty(P)&&$!==J&&($!=null||J!=null))switch(P){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ee(r,a,P,$,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in c)$=c[Ct],c.hasOwnProperty(Ct)&&$!=null&&!f.hasOwnProperty(Ct)&&ee(r,a,Ct,null,f,$);for(F in f)if($=f[F],J=c[F],f.hasOwnProperty(F)&&$!==J&&($!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:ee(r,a,F,$,f,J)}return;default:if(Ol(a)){for(var ve in c)$=c[ve],c.hasOwnProperty(ve)&&$!==void 0&&!f.hasOwnProperty(ve)&&Op(r,a,ve,void 0,f,$);for(tt in f)$=f[tt],J=c[tt],!f.hasOwnProperty(tt)||$===J||$===void 0&&J===void 0||Op(r,a,tt,$,f,J);return}}for(var q in c)$=c[q],c.hasOwnProperty(q)&&$!=null&&!f.hasOwnProperty(q)&&ee(r,a,q,null,f,$);for(it in f)$=f[it],J=c[it],!f.hasOwnProperty(it)||$===J||$==null&&J==null||ee(r,a,it,$,f,J)}var kp=null,Pp=null;function Kh(r){return r.nodeType===9?r:r.ownerDocument}function cb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ub(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Np(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=null;function N2(){var r=window.event;return r&&r.type==="popstate"?r===Lp?!1:(Lp=r,!0):(Lp=null,!1)}var hb=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,V2=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(r){return fb.resolve(null).then(r).catch(z2)}:hb;function z2(r){setTimeout(function(){throw r})}function Vp(r,a){var c=a,f=0;do{var p=c.nextSibling;if(r.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(f===0){r.removeChild(p),wc(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=p}while(c);wc(a)}function zp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":zp(c),Zr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function U2(r,a,c,f){for(;r.nodeType===1;){var p=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ws])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function B2(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=li(r.nextSibling),r===null))return null;return r}function li(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function db(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function gb(r,a,c){switch(a=Kh(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Zn=new Map,pb=new Set;function Yh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ps=ct.d;ct.d={f:j2,r:F2,D:H2,C:q2,L:G2,m:W2,X:Y2,S:K2,M:$2};function j2(){var r=ps.f(),a=Bh();return r||a}function F2(r){var a=Ki(r);a!==null&&a.tag===5&&a.type==="form"?F0(a):ps.r(r)}var Bo=typeof document>"u"?null:document;function mb(r,a,c){var f=Bo;if(f&&typeof a=="string"&&a){var p=me(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),pb.has(p)||(pb.add(p),r={rel:r,crossOrigin:c,href:a},f.querySelector(p)===null&&(a=f.createElement("link"),Je(a,"link",r),ue(a),f.head.appendChild(a)))}}function H2(r){ps.D(r),mb("dns-prefetch",r,null)}function q2(r,a){ps.C(r,a),mb("preconnect",r,a)}function G2(r,a,c){ps.L(r,a,c);var f=Bo;if(f&&r&&a){var p='link[rel="preload"][as="'+me(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+me(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+me(c.imageSizes)+'"]')):p+='[href="'+me(r)+'"]';var y=p;switch(a){case"style":y=jo(r);break;case"script":y=Fo(r)}Zn.has(y)||(r=k({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Zn.set(y,r),f.querySelector(p)!==null||a==="style"&&f.querySelector(yc(y))||a==="script"&&f.querySelector(_c(y))||(a=f.createElement("link"),Je(a,"link",r),ue(a),f.head.appendChild(a)))}}function W2(r,a){ps.m(r,a);var c=Bo;if(c&&r){var f=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+me(f)+'"][href="'+me(r)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fo(r)}if(!Zn.has(y)&&(r=k({rel:"modulepreload",href:r},a),Zn.set(y,r),c.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(_c(y)))return}f=c.createElement("link"),Je(f,"link",r),ue(f),c.head.appendChild(f)}}}function K2(r,a,c){ps.S(r,a,c);var f=Bo;if(f&&r){var p=Ys(f).hoistableStyles,y=jo(r);a=a||"default";var S=p.get(y);if(!S){var R={loading:0,preload:null};if(S=f.querySelector(yc(y)))R.loading=5;else{r=k({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Zn.get(y))&&Up(r,c);var P=S=f.createElement("link");ue(P),Je(P,"link",r),P._p=new Promise(function(F,tt){P.onload=F,P.onerror=tt}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,$h(S,a,f)}S={type:"stylesheet",instance:S,count:1,state:R},p.set(y,S)}}}function Y2(r,a){ps.X(r,a);var c=Bo;if(c&&r){var f=Ys(c).hoistableScripts,p=Fo(r),y=f.get(p);y||(y=c.querySelector(_c(p)),y||(r=k({src:r,async:!0},a),(a=Zn.get(p))&&Bp(r,a),y=c.createElement("script"),ue(y),Je(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function $2(r,a){ps.M(r,a);var c=Bo;if(c&&r){var f=Ys(c).hoistableScripts,p=Fo(r),y=f.get(p);y||(y=c.querySelector(_c(p)),y||(r=k({src:r,async:!0,type:"module"},a),(a=Zn.get(p))&&Bp(r,a),y=c.createElement("script"),ue(y),Je(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function yb(r,a,c,f){var p=(p=Ln.current)?Yh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=jo(c.href),c=Ys(p).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=jo(c.href);var y=Ys(p).hoistableStyles,S=y.get(r);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=p.querySelector(yc(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Zn.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Zn.set(r,c),y||X2(p,r,c,S.state))),a&&f===null)throw Error(i(528,""));return S}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fo(c),c=Ys(p).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function jo(r){return'href="'+me(r)+'"'}function yc(r){return'link[rel="stylesheet"]['+r+"]"}function _b(r){return k({},r,{"data-precedence":r.precedence,precedence:null})}function X2(r,a,c,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Je(a,"link",c),ue(a),r.head.appendChild(a))}function Fo(r){return'[src="'+me(r)+'"]'}function _c(r){return"script[async]"+r}function vb(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+me(c.href)+'"]');if(f)return a.instance=f,ue(f),f;var p=k({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),ue(f),Je(f,"style",p),$h(f,c.precedence,r),a.instance=f;case"stylesheet":p=jo(c.href);var y=r.querySelector(yc(p));if(y)return a.state.loading|=4,a.instance=y,ue(y),y;f=_b(c),(p=Zn.get(p))&&Up(f,p),y=(r.ownerDocument||r).createElement("link"),ue(y);var S=y;return S._p=new Promise(function(R,P){S.onload=R,S.onerror=P}),Je(y,"link",f),a.state.loading|=4,$h(y,c.precedence,r),a.instance=y;case"script":return y=Fo(c.src),(p=r.querySelector(_c(y)))?(a.instance=p,ue(p),p):(f=c,(p=Zn.get(y))&&(f=k({},c),Bp(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),ue(p),Je(p,"link",f),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(f=a.instance,a.state.loading|=4,$h(f,c.precedence,r));return a.instance}function $h(r,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,S=0;S<f.length;S++){var R=f[S];if(R.dataset.precedence===a)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Up(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Bp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Xh=null;function bb(r,a,c){if(Xh===null){var f=new Map,p=Xh=new Map;p.set(c,f)}else p=Xh,f=p.get(c),f||(f=new Map,p.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),p=0;p<c.length;p++){var y=c[p];if(!(y[Ws]||y[Fe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=r+S;var R=f.get(S);R?R.push(y):f.set(S,[y])}}return f}function Eb(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function Q2(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Tb(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var vc=null;function Z2(){}function J2(r,a,c){if(vc===null)throw Error(i(475));var f=vc;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var p=jo(c.href),y=r.querySelector(yc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Qh.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=y,ue(y);return}y=r.ownerDocument||r,c=_b(c),(p=Zn.get(p))&&Up(c,p),y=y.createElement("link"),ue(y);var S=y;S._p=new Promise(function(R,P){S.onload=R,S.onerror=P}),Je(y,"link",c),a.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&!(a.state.loading&3)&&(f.count++,a=Qh.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function tR(){if(vc===null)throw Error(i(475));var r=vc;return r.stylesheets&&r.count===0&&jp(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&jp(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zh=null;function jp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zh=new Map,a.forEach(eR,r),Zh=null,Qh.call(r))}function eR(r,a){if(!(a.state.loading&4)){var c=Zh.get(r);if(c)var f=c.get(null);else{c=new Map,Zh.set(r,c);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}p=a.instance,S=p.getAttribute("data-precedence"),y=c.get(S)||f,y===f&&c.set(null,p),c.set(S,p),this.count++,f=Qh.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var bc={$$typeof:E,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function nR(r,a,c,f,p,y,S,R){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sb(r,a,c,f,p,y,S,R,P,F,tt,it){return r=new nR(r,a,c,S,R,P,F,it),a=1,y===!0&&(a|=24),y=Xn(3,null,null,a),r.current=y,y.stateNode=r,a=vg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:a},Jg(y),r}function wb(r){return r?(r=bo,r):bo}function xb(r,a,c,f,p,y){p=wb(p),f.context===null?f.context=p:f.pendingContext=p,f=or(a),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=lr(r,f,a),c!==null&&(vn(c,r,a),ic(c,r,a))}function Ab(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Fp(r,a){Ab(r,a),(r=r.alternate)&&Ab(r,a)}function Rb(r){if(r.tag===13){var a=tr(r,67108864);a!==null&&vn(a,r,67108864),Fp(r,67108864)}}var Jh=!0;function iR(r,a,c,f){var p=C.T;C.T=null;var y=ct.p;try{ct.p=2,Hp(r,a,c,f)}finally{ct.p=y,C.T=p}}function sR(r,a,c,f){var p=C.T;C.T=null;var y=ct.p;try{ct.p=8,Hp(r,a,c,f)}finally{ct.p=y,C.T=p}}function Hp(r,a,c,f){if(Jh){var p=qp(f);if(p===null)Mp(r,a,f,tf,c),Ib(r,f);else if(aR(p,r,a,c,f))f.stopPropagation();else if(Ib(r,f),a&4&&-1<rR.indexOf(r)){for(;p!==null;){var y=Ki(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ii(y.pendingLanes);if(S!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var P=1<<31-pn(S);R.entanglements[1]|=P,S&=~P}Di(y),!(fe&6)&&(Vh=bn()+500,gc(0))}}break;case 13:R=tr(y,2),R!==null&&vn(R,y,2),Bh(),Fp(y,2)}if(y=qp(f),y===null&&Mp(r,a,f,tf,c),y===p)break;p=y}p!==null&&f.stopPropagation()}else Mp(r,a,f,null,c)}}function qp(r){return r=oo(r),Gp(r)}var tf=null;function Gp(r){if(tf=null,r=si(r),r!==null){var a=dt(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=wt(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return tf=r,null}function Cb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uu()){case Me:return 2;case je:return 8;case Gi:case Bu:return 32;case Tl:return 268435456;default:return 32}default:return 32}}var Wp=!1,pr=null,mr=null,yr=null,Ec=new Map,Tc=new Map,_r=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ib(r,a){switch(r){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Ec.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(a.pointerId)}}function Sc(r,a,c,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Ki(a),a!==null&&Rb(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function aR(r,a,c,f,p){switch(a){case"focusin":return pr=Sc(pr,r,a,c,f,p),!0;case"dragenter":return mr=Sc(mr,r,a,c,f,p),!0;case"mouseover":return yr=Sc(yr,r,a,c,f,p),!0;case"pointerover":var y=p.pointerId;return Ec.set(y,Sc(Ec.get(y)||null,r,a,c,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Tc.set(y,Sc(Tc.get(y)||null,r,a,c,f,p)),!0}return!1}function Db(r){var a=si(r.target);if(a!==null){var c=dt(a);if(c!==null){if(a=c.tag,a===13){if(a=wt(c),a!==null){r.blockedOn=a,Gs(r.priority,function(){if(c.tag===13){var f=On(),p=tr(c,f);p!==null&&vn(p,c,f),Fp(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ef(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=qp(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Bn=f,c.target.dispatchEvent(f),Bn=null}else return a=Ki(c),a!==null&&Rb(a),r.blockedOn=c,!1;a.shift()}return!0}function Mb(r,a,c){ef(r)&&c.delete(a)}function oR(){Wp=!1,pr!==null&&ef(pr)&&(pr=null),mr!==null&&ef(mr)&&(mr=null),yr!==null&&ef(yr)&&(yr=null),Ec.forEach(Mb),Tc.forEach(Mb)}function nf(r,a){r.blockedOn===a&&(r.blockedOn=null,Wp||(Wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oR)))}var sf=null;function Ob(r){sf!==r&&(sf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sf===r&&(sf=null);for(var a=0;a<r.length;a+=3){var c=r[a],f=r[a+1],p=r[a+2];if(typeof f!="function"){if(Gp(f||c)===null)continue;break}var y=Ki(c);y!==null&&(r.splice(a,3),a-=3,Ng(y,{pending:!0,data:p,method:c.method,action:f},f,p))}}))}function wc(r){function a(P){return nf(P,r)}pr!==null&&nf(pr,r),mr!==null&&nf(mr,r),yr!==null&&nf(yr,r),Ec.forEach(a),Tc.forEach(a);for(var c=0;c<_r.length;c++){var f=_r[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<_r.length&&(c=_r[0],c.blockedOn===null);)Db(c),c.blockedOn===null&&_r.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var p=c[f],y=c[f+1],S=p[Oe]||null;if(typeof y=="function")S||Ob(c);else if(S){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Oe]||null)R=S.formAction;else if(Gp(p)!==null)continue}else R=S.action;typeof R=="function"?c[f+1]=R:(c.splice(f,3),f-=3),Ob(c)}}}function Kp(r){this._internalRoot=r}rf.prototype.render=Kp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,f=On();xb(c,f,r,a,null,null)},rf.prototype.unmount=Kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&Vo(),xb(r.current,2,null,r,null,null),Bh(),a[Wi]=null}};function rf(r){this._internalRoot=r}rf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Gu();r={blockedOn:null,target:r,priority:a};for(var c=0;c<_r.length&&a!==0&&a<_r[c].priority;c++);_r.splice(c,0,r),c===0&&Db(r)}};var kb=t.version;if(kb!=="19.0.0")throw Error(i(527,kb,"19.0.0"));ct.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=rt(a),r=r!==null?gt(r):null,r=r===null?null:r.stateNode,r};var lR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:si,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Us=af.inject(lR),sn=af}catch{}}return Ac.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,f="",p=X0,y=Q0,S=Z0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=Sb(r,1,!1,null,null,c,f,p,y,S,R,null),r[Wi]=a.current,Dp(r.nodeType===8?r.parentNode:r),new Kp(a)},Ac.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var f=!1,p="",y=X0,S=Q0,R=Z0,P=null,F=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(P=c.unstable_transitionCallbacks),c.formState!==void 0&&(F=c.formState)),a=Sb(r,1,!0,a,c??null,f,p,y,S,R,P,F),a.context=wb(null),c=a.current,f=On(),p=or(f),p.callback=null,lr(c,p,f),a.current.lanes=f,Te(a,f),Di(a),r[Wi]=a.current,Dp(r),new rf(a)},Ac.version="19.0.0",Ac}var Hb;function bR(){if(Hb)return $p.exports;Hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$p.exports=vR(),$p.exports}var ER=bR();const TR=_y(ER);var X=vy();const Rs=_y(X);var Rc={},qb;function SR(){if(qb)return Rc;qb=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.parse=l,Rc.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,E){const w=new o,x=b.length;if(x<2)return w;const A=(E==null?void 0:E.decode)||m;let O=0;do{const V=b.indexOf("=",O);if(V===-1)break;const B=b.indexOf(";",O),Y=B===-1?x:B;if(V>Y){O=b.lastIndexOf(";",V-1)+1;continue}const H=u(b,O,V),Z=h(b,V,H),M=b.slice(H,Z);if(w[M]===void 0){let I=u(b,V+1,Y),C=h(b,Y,I);const k=A(b.slice(I,C));w[M]=k}O=Y+1}while(O<x);return w}function u(b,E,w){do{const x=b.charCodeAt(E);if(x!==32&&x!==9)return E}while(++E<w);return w}function h(b,E,w){for(;E>w;){const x=b.charCodeAt(--E);if(x!==32&&x!==9)return E+1}return w}function d(b,E,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=x(E);if(!t.test(A))throw new TypeError(`argument val is invalid: ${E}`);let O=b+"="+A;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!e.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return s.call(b)==="[object Date]"}return Rc}SR();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gb="popstate";function wR(n={}){function t(i,s){let{pathname:o,search:l,hash:u}=i.location;return Dm("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:nu(s)}return AR(t,e,null,n)}function de(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ui(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function Wb(n,t){return{usr:n.state,key:n.key,idx:t}}function Dm(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?fl(t):t,state:e,key:t&&t.key||i||xR()}}function nu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function fl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function AR(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",h=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function _(){u="POP";let A=m(),O=A==null?null:A-d;d=A,h&&h({action:u,location:x.location,delta:O})}function b(A,O){u="PUSH";let V=Dm(x.location,A,O);d=m()+1;let B=Wb(V,d),Y=x.createHref(V);try{l.pushState(B,"",Y)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(Y)}o&&h&&h({action:u,location:x.location,delta:1})}function E(A,O){u="REPLACE";let V=Dm(x.location,A,O);d=m();let B=Wb(V,d),Y=x.createHref(V);l.replaceState(B,"",Y),o&&h&&h({action:u,location:x.location,delta:0})}function w(A){let O=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof A=="string"?A:nu(A);return V=V.replace(/ $/,"%20"),de(O,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,O)}let x={get action(){return u},get location(){return n(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Gb,_),h=A,()=>{s.removeEventListener(Gb,_),h=null}},createHref(A){return t(s,A)},createURL:w,encodeLocation(A){let O=w(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:E,go(A){return l.go(A)}};return x}function Q1(n,t,e="/"){return RR(n,t,e,!1)}function RR(n,t,e,i){let s=typeof t=="string"?fl(t):t,o=Vr(s.pathname||"/",e);if(o==null)return null;let l=Z1(n);CR(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=UR(o);u=VR(l[h],d,i)}return u}function Z1(n,t=[],e=[],i=""){let s=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(de(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=Cs([i,h.relativePath]),m=e.concat(h);o.children&&o.children.length>0&&(de(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Z1(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:NR(d,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let h of J1(o.path))s(o,l,h)}),t}function J1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=J1(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function CR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:LR(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var IR=/^:[\w-]+$/,DR=3,MR=2,OR=1,kR=10,PR=-2,Kb=n=>n==="*";function NR(n,t){let e=n.split("/"),i=e.length;return e.some(Kb)&&(i+=PR),t&&(i+=MR),e.filter(s=>!Kb(s)).reduce((s,o)=>s+(IR.test(o)?DR:o===""?OR:kR),i)}function LR(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function VR(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=Yf({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),b=h.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=Yf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Cs([o,_.pathname]),pathnameBase:HR(Cs([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Cs([o,_.pathnameBase]))}return l}function Yf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=zR(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},b)=>{if(m==="*"){let w=u[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[b];return _&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function zR(n,t=!1,e=!0){Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function UR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Vr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function BR(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?fl(n):n;return{pathname:e?e.startsWith("/")?e:jR(e,t):t,search:qR(i),hash:GR(s)}}function jR(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function tm(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tS(n){let t=FR(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function eS(n,t,e,i=!1){let s;typeof n=="string"?s=fl(n):(s={...n},de(!s.pathname||!s.pathname.includes("?"),tm("?","pathname","search",s)),de(!s.pathname||!s.pathname.includes("#"),tm("#","pathname","hash",s)),de(!s.search||!s.search.includes("#"),tm("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),_-=1;s.pathname=b.join("/")}u=_>=0?t[_]:"/"}let h=BR(s,u),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Cs=n=>n.join("/").replace(/\/\/+/g,"/"),HR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var KR=["GET",...nS];new Set(KR);var dl=X.createContext(null);dl.displayName="DataRouter";var xd=X.createContext(null);xd.displayName="DataRouterState";var iS=X.createContext({isTransitioning:!1});iS.displayName="ViewTransition";var YR=X.createContext(new Map);YR.displayName="Fetchers";var $R=X.createContext(null);$R.displayName="Await";var Fi=X.createContext(null);Fi.displayName="Navigation";var Su=X.createContext(null);Su.displayName="Location";var Ns=X.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var by=X.createContext(null);by.displayName="RouteError";function XR(n,{relative:t}={}){de(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=X.useContext(Fi),{hash:s,pathname:o,search:l}=Au(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Cs([e,o])),i.createHref({pathname:u,search:l,hash:s})}function wu(){return X.useContext(Su)!=null}function Ga(){return de(wu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Su).location}var sS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rS(n){X.useContext(Fi).static||X.useLayoutEffect(n)}function xu(){let{isDataRoute:n}=X.useContext(Ns);return n?cC():QR()}function QR(){de(wu(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(dl),{basename:t,navigator:e}=X.useContext(Fi),{matches:i}=X.useContext(Ns),{pathname:s}=Ga(),o=JSON.stringify(tS(i)),l=X.useRef(!1);return rS(()=>{l.current=!0}),X.useCallback((h,d={})=>{if(Ui(l.current,sS),!l.current)return;if(typeof h=="number"){e.go(h);return}let m=eS(h,JSON.parse(o),s,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Cs([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,o,s,n])}X.createContext(null);function Au(n,{relative:t}={}){let{matches:e}=X.useContext(Ns),{pathname:i}=Ga(),s=JSON.stringify(tS(e));return X.useMemo(()=>eS(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function ZR(n,t){return aS(n,t)}function aS(n,t,e,i){var V;de(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=X.useContext(Fi),{matches:l}=X.useContext(Ns),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let B=_&&_.path||"";oS(d,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=Ga(),E;if(t){let B=typeof t=="string"?fl(t):t;de(m==="/"||((V=B.pathname)==null?void 0:V.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=b;let w=E.pathname||"/",x=w;if(m!=="/"){let B=m.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=!o&&e&&e.matches&&e.matches.length>0?e.matches:Q1(n,{pathname:x});Ui(_||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ui(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=iC(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Cs([m,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Cs([m,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,e,i);return t&&O?X.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function JR(){let n=lC(),t=WR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),e?X.createElement("pre",{style:s},e):null,l)}var tC=X.createElement(JR,null),eC=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?X.createElement(Ns.Provider,{value:this.props.routeContext},X.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nC({routeContext:n,match:t,children:e}){let i=X.useContext(dl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Ns.Provider,{value:n},e)}function iC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e==null?void 0:e.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);de(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:_}=e,b=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,d,m)=>{let _,b=!1,E=null,w=null;e&&(_=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||tC,l&&(u<0&&m===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):u===m&&(b=!0,w=d.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,m+1)),A=()=>{let O;return _?O=E:b?O=w:d.route.Component?O=X.createElement(d.route.Component,null):d.route.element?O=d.route.element:O=h,X.createElement(nC,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:e!=null},children:O})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?X.createElement(eC,{location:e.location,revalidation:e.revalidation,component:E,error:_,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function Ey(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(n){let t=X.useContext(dl);return de(t,Ey(n)),t}function rC(n){let t=X.useContext(xd);return de(t,Ey(n)),t}function aC(n){let t=X.useContext(Ns);return de(t,Ey(n)),t}function Ty(n){let t=aC(n),e=t.matches[t.matches.length-1];return de(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function oC(){return Ty("useRouteId")}function lC(){var i;let n=X.useContext(by),t=rC("useRouteError"),e=Ty("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function cC(){let{router:n}=sC("useNavigate"),t=Ty("useNavigate"),e=X.useRef(!1);return rS(()=>{e.current=!0}),X.useCallback(async(s,o={})=>{Ui(e.current,sS),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var Yb={};function oS(n,t,e){!t&&!Yb[n]&&(Yb[n]=!0,Ui(!1,e))}X.memo(uC);function uC({routes:n,future:t,state:e}){return aS(n,void 0,e,t)}function Cf(n){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){de(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=fl(e));let{pathname:h="/",search:d="",hash:m="",state:_=null,key:b="default"}=e,E=X.useMemo(()=>{let w=Vr(h,l);return w==null?null:{location:{pathname:w,search:d,hash:m,state:_,key:b},navigationType:i}},[l,h,d,m,_,b,i]);return Ui(E!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:X.createElement(Fi.Provider,{value:u},X.createElement(Su.Provider,{children:t,value:E}))}function fC({children:n,location:t}){return ZR(Mm(n),t)}function Mm(n,t=[]){let e=[];return X.Children.forEach(n,(i,s)=>{if(!X.isValidElement(i))return;let o=[...t,s];if(i.type===X.Fragment){e.push.apply(e,Mm(i.props.children,o));return}de(i.type===Cf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Mm(i.props.children,o)),e.push(l)}),e}var If="get",Df="application/x-www-form-urlencoded";function Ad(n){return n!=null&&typeof n.tagName=="string"}function dC(n){return Ad(n)&&n.tagName.toLowerCase()==="button"}function gC(n){return Ad(n)&&n.tagName.toLowerCase()==="form"}function pC(n){return Ad(n)&&n.tagName.toLowerCase()==="input"}function mC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yC(n,t){return n.button===0&&(!t||t==="_self")&&!mC(n)}var of=null;function _C(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var vC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(n){return n!=null&&!vC.has(n)?(Ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):n}function bC(n,t){let e,i,s,o,l;if(gC(n)){let u=n.getAttribute("action");i=u?Vr(u,t):null,e=n.getAttribute("method")||If,s=em(n.getAttribute("enctype"))||Df,o=new FormData(n)}else if(dC(n)||pC(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?Vr(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||If,s=em(n.getAttribute("formenctype"))||em(u.getAttribute("enctype"))||Df,o=new FormData(u,n),!_C()){let{name:d,type:m,value:_}=n;if(m==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,_)}}else{if(Ad(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=If,i=null,s=Df,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function Sy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function EC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SC(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await EC(o,e);return l.links?l.links():[]}return[]}));return RC(i.flat(1).filter(TC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $b(n,t,e,i,s,o){let l=(h,d)=>e[d]?h.route.id!==e[d].route.id:!0,u=(h,d)=>{var m;return e[d].pathname!==h.pathname||((m=e[d].route.path)==null?void 0:m.endsWith("*"))&&e[d].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,d)=>l(h,d)||u(h,d)):o==="data"?t.filter((h,d)=>{var _;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wC(n,t,{includeHydrateFallback:e}={}){return xC(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xC(n){return[...new Set(n)]}function AC(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function RC(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(AC(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}function CC(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function IC(){let n=X.useContext(dl);return Sy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DC(){let n=X.useContext(xd);return Sy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wy=X.createContext(void 0);wy.displayName="FrameworkContext";function lS(){let n=X.useContext(wy);return Sy(n,"You must render this element inside a <HydratedRouter> element"),n}function MC(n,t){let e=X.useContext(wy),[i,s]=X.useState(!1),[o,l]=X.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=t,b=X.useRef(null);X.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=O=>{O.forEach(V=>{l(V.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),X.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let E=()=>{s(!0)},w=()=>{s(!1),l(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Cc(u,E),onBlur:Cc(h,w),onMouseEnter:Cc(d,E),onMouseLeave:Cc(m,w),onTouchStart:Cc(_,E)}]:[!1,b,{}]}function Cc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function OC({page:n,...t}){let{router:e}=IC(),i=X.useMemo(()=>Q1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?X.createElement(PC,{page:n,matches:i,...t}):null}function kC(n){let{manifest:t,routeModules:e}=lS(),[i,s]=X.useState([]);return X.useEffect(()=>{let o=!1;return SC(n,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[n,t,e]),i}function PC({page:n,matches:t,...e}){let i=Ga(),{manifest:s,routeModules:o}=lS(),{loaderData:l,matches:u}=DC(),h=X.useMemo(()=>$b(n,t,u,s,i,"data"),[n,t,u,s,i]),d=X.useMemo(()=>$b(n,t,u,s,i,"assets"),[n,t,u,s,i]),m=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,w=!1;if(t.forEach(A=>{var V;let O=s.routes[A.route.id];!O||!O.hasLoader||(!h.some(B=>B.route.id===A.route.id)&&A.route.id in l&&((V=o[A.route.id])!=null&&V.shouldRevalidate)||O.hasClientLoader?w=!0:E.add(A.route.id))}),E.size===0)return[];let x=CC(n);return w&&E.size>0&&x.searchParams.set("_routes",t.filter(A=>E.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[l,i,s,h,t,n,o]),_=X.useMemo(()=>wC(d,s),[d,s]),b=kC(d);return X.createElement(X.Fragment,null,m.map(E=>X.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),_.map(E=>X.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),b.map(({key:E,link:w})=>X.createElement("link",{key:E,...w})))}function NC(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cS&&(window.__reactRouterVersion="7.2.0")}catch{}function LC({basename:n,children:t,window:e}){let i=X.useRef();i.current==null&&(i.current=wR({window:e,v5Compat:!0}));let s=i.current,[o,l]=X.useState({action:s.action,location:s.location}),u=X.useCallback(h=>{X.startTransition(()=>l(h))},[l]);return X.useLayoutEffect(()=>s.listen(u),[s,u]),X.createElement(hC,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hS=X.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:h,to:d,preventScrollReset:m,viewTransition:_,...b},E){let{basename:w}=X.useContext(Fi),x=typeof d=="string"&&uS.test(d),A,O=!1;if(typeof d=="string"&&x&&(A=d,cS))try{let C=new URL(window.location.href),k=d.startsWith("//")?new URL(C.protocol+d):new URL(d),L=Vr(k.pathname,w);k.origin===C.origin&&L!=null?d=L+k.search+k.hash:O=!0}catch{Ui(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=XR(d,{relative:s}),[B,Y,H]=MC(i,b),Z=BC(d,{replace:l,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:_});function M(C){t&&t(C),C.defaultPrevented||Z(C)}let I=X.createElement("a",{...b,...H,href:A||V,onClick:O||o?t:M,ref:NC(E,Y),target:h,"data-discover":!x&&e==="render"?"true":void 0});return B&&!x?X.createElement(X.Fragment,null,I,X.createElement(OC,{page:V})):I});hS.displayName="Link";var VC=X.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:h,...d},m){let _=Au(l,{relative:d.relative}),b=Ga(),E=X.useContext(xd),{navigator:w,basename:x}=X.useContext(Fi),A=E!=null&&GC(_)&&u===!0,O=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,V=b.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(V=V.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&x&&(B=Vr(B,x)||B);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let H=V===O||!s&&V.startsWith(O)&&V.charAt(Y)==="/",Z=B!=null&&(B===O||!s&&B.startsWith(O)&&B.charAt(O.length)==="/"),M={isActive:H,isPending:Z,isTransitioning:A},I=H?t:void 0,C;typeof i=="function"?C=i(M):C=[i,H?"active":null,Z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(M):o;return X.createElement(hS,{...d,"aria-current":I,className:C,ref:m,style:k,to:l,viewTransition:u},typeof h=="function"?h(M):h)});VC.displayName="NavLink";var zC=X.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=If,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:_,...b},E)=>{let w=HC(),x=qC(u,{relative:d}),A=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&uS.test(u),V=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let Y=B.nativeEvent.submitter,H=(Y==null?void 0:Y.getAttribute("formmethod"))||l;w(Y||B.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:s,state:o,relative:d,preventScrollReset:m,viewTransition:_})};return X.createElement("form",{ref:E,method:A,action:x,onSubmit:i?h:V,...b,"data-discover":!O&&n==="render"?"true":void 0})});zC.displayName="Form";function UC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(n){let t=X.useContext(dl);return de(t,UC(n)),t}function BC(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=xu(),h=Ga(),d=Au(n,{relative:o});return X.useCallback(m=>{if(yC(m,t)){m.preventDefault();let _=e!==void 0?e:nu(h)===nu(d);u(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,e,i,t,n,s,o,l])}var jC=0,FC=()=>`__${String(++jC)}__`;function HC(){let{router:n}=fS("useSubmit"),{basename:t}=X.useContext(Fi),e=oC();return X.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:h,body:d}=bC(i,t);if(s.navigate===!1){let m=s.fetcherKey||FC();await n.fetch(m,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function qC(n,{relative:t}={}){let{basename:e}=X.useContext(Fi),i=X.useContext(Ns);de(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Au(n||".",{relative:t})},l=Ga();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Cs([e,o.pathname])),nu(o)}function GC(n,t={}){let e=X.useContext(iS);de(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fS("useViewTransitionState"),s=Au(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Vr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Vr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Yf(s.pathname,l)!=null||Yf(s.pathname,o)!=null}new TextEncoder;var Xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},WC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],l=n[e++],u=n[e++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let b=(u&15)<<2|d>>6,E=d&63;h||(E=64,l||(b=64)),i.push(e[m],e[_],e[b],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(dS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):WC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const _=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||u==null||d==null||_==null)throw new KC;const b=o<<2|u>>4;if(i.push(b),d!==64){const E=u<<4&240|d>>2;if(i.push(E),_!==64){const w=d<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YC=function(n){const t=dS(n);return gS.encodeByteArray(t,!0)},$f=function(n){return YC(n).replace(/\./g,"")},pS=function(n){try{return gS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=()=>$C().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process>"u"||typeof Xb>"u")return;const n=Xb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&pS(n[1]);return t&&JSON.parse(t)},Rd=()=>{try{return XC()||QC()||ZC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mS=n=>{var t,e;return(e=(t=Rd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},JC=n=>{const t=mS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},yS=()=>{var n;return(n=Rd())===null||n===void 0?void 0:n.config},_S=n=>{var t;return(t=Rd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(e)),$f(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function iI(){var n;const t=(n=Rd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oI(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lI(){return!iI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cI(){try{return typeof indexedDB=="object"}catch{return!1}}function uI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="FirebaseError";class Ls extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=hI,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?fI(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Ls(s,u,i)}}function fI(n,t){return n.replace(dI,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const dI=/\{\$([^}]+)}/g;function gI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Xf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],l=t[s];if(Qb(o)&&Qb(l)){if(!Xf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Qb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Pc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function Nc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function pI(n,t){const e=new mI(n,t);return e.subscribe.bind(e)}class mI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");yI(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=nm),s.error===void 0&&(s.error=nm),s.complete===void 0&&(s.complete=nm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n){return n&&n._delegate?n._delegate:n}class za{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new tI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bI(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vI(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(n){return n===Ma?void 0:n}function bI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new _I(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const TI={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},SI=Lt.INFO,wI={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},xI=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=wI[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xy{constructor(t){this.name=t,this._logLevel=SI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const AI=(n,t)=>t.some(e=>n instanceof e);let Zb,Jb;function RI(){return Zb||(Zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,Om=new WeakMap,bS=new WeakMap,im=new WeakMap,Ay=new WeakMap;function II(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Mr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&vS.set(e,n)}).catch(()=>{}),Ay.set(t,n),t}function DI(n){if(Om.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Om.set(n,t)}let km={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Om.get(n);if(t==="objectStoreNames")return n.objectStoreNames||bS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Mr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function MI(n){km=n(km)}function OI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(sm(this),t,...e);return bS.set(i,t.sort?t.sort():[t]),Mr(i)}:CI().includes(n)?function(...t){return n.apply(sm(this),t),Mr(vS.get(this))}:function(...t){return Mr(n.apply(sm(this),t))}}function kI(n){return typeof n=="function"?OI(n):(n instanceof IDBTransaction&&DI(n),AI(n,RI())?new Proxy(n,km):n)}function Mr(n){if(n instanceof IDBRequest)return II(n);if(im.has(n))return im.get(n);const t=kI(n);return t!==n&&(im.set(n,t),Ay.set(t,n)),t}const sm=n=>Ay.get(n);function PI(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,t),u=Mr(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Mr(l.result),h.oldVersion,h.newVersion,Mr(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const NI=["get","getKey","getAll","getAllKeys","count"],LI=["put","add","delete","clear"],rm=new Map;function tE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(rm.get(t))return rm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=LI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||NI.includes(e)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),s&&h.done]))[0]};return rm.set(t,o),o}MI(n=>({...n,get:(t,e,i)=>tE(t,e)||n.get(t,e,i),has:(t,e)=>!!tE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(zI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function zI(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pm="@firebase/app",eE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new xy("@firebase/app"),UI="@firebase/app-compat",BI="@firebase/analytics-compat",jI="@firebase/analytics",FI="@firebase/app-check-compat",HI="@firebase/app-check",qI="@firebase/auth",GI="@firebase/auth-compat",WI="@firebase/database",KI="@firebase/data-connect",YI="@firebase/database-compat",$I="@firebase/functions",XI="@firebase/functions-compat",QI="@firebase/installations",ZI="@firebase/installations-compat",JI="@firebase/messaging",tD="@firebase/messaging-compat",eD="@firebase/performance",nD="@firebase/performance-compat",iD="@firebase/remote-config",sD="@firebase/remote-config-compat",rD="@firebase/storage",aD="@firebase/storage-compat",oD="@firebase/firestore",lD="@firebase/vertexai",cD="@firebase/firestore-compat",uD="firebase",hD="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",fD={[Pm]:"fire-core",[UI]:"fire-core-compat",[jI]:"fire-analytics",[BI]:"fire-analytics-compat",[HI]:"fire-app-check",[FI]:"fire-app-check-compat",[qI]:"fire-auth",[GI]:"fire-auth-compat",[WI]:"fire-rtdb",[KI]:"fire-data-connect",[YI]:"fire-rtdb-compat",[$I]:"fire-fn",[XI]:"fire-fn-compat",[QI]:"fire-iid",[ZI]:"fire-iid-compat",[JI]:"fire-fcm",[tD]:"fire-fcm-compat",[eD]:"fire-perf",[nD]:"fire-perf-compat",[iD]:"fire-rc",[sD]:"fire-rc-compat",[rD]:"fire-gcs",[aD]:"fire-gcs-compat",[oD]:"fire-fst",[cD]:"fire-fst-compat",[lD]:"fire-vertex","fire-js":"fire-js",[uD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,dD=new Map,Lm=new Map;function nE(n,t){try{n.container.addComponent(t)}catch(e){Ms.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function el(n){const t=n.name;if(Lm.has(t))return Ms.debug(`There were multiple attempts to register component ${t}.`),!1;Lm.set(t,n);for(const e of Qf.values())nE(e,n);for(const e of dD.values())nE(e,n);return!0}function Ry(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ti(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Ru("app","Firebase",gD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=hD;function ES(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Or.create("bad-app-name",{appName:String(s)});if(e||(e=yS()),!e)throw Or.create("no-options");const o=Qf.get(s);if(o){if(Xf(e,o.options)&&Xf(i,o.config))return o;throw Or.create("duplicate-app",{appName:s})}const l=new EI(s);for(const h of Lm.values())l.addComponent(h);const u=new pD(e,i,l);return Qf.set(s,u),u}function TS(n=Nm){const t=Qf.get(n);if(!t&&n===Nm&&yS())return ES();if(!t)throw Or.create("no-app",{appName:n});return t}function kr(n,t,e){var i;let s=(i=fD[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ms.warn(u.join(" "));return}el(new za(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="firebase-heartbeat-database",yD=1,iu="firebase-heartbeat-store";let am=null;function SS(){return am||(am=PI(mD,yD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(iu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Or.create("idb-open",{originalErrorMessage:n.message})})),am}async function _D(n){try{const e=(await SS()).transaction(iu),i=await e.objectStore(iu).get(wS(n));return await e.done,i}catch(t){if(t instanceof Ls)Ms.warn(t.message);else{const e=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(e.message)}}}async function iE(n,t){try{const i=(await SS()).transaction(iu,"readwrite");await i.objectStore(iu).put(t,wS(n)),await i.done}catch(e){if(e instanceof Ls)Ms.warn(e.message);else{const i=Or.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(i.message)}}}function wS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1024,bD=30;class ED{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new SD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>bD){const l=wD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ms.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:i,unsentEntries:s}=TD(this._heartbeatsCache.heartbeats),o=$f(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ms.warn(e),""}}}function sE(){return new Date().toISOString().substring(0,10)}function TD(n,t=vD){const e=[];let i=n.slice();for(const s of n){const o=e.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),rE(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),rE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class SD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cI()?uI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _D(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function rE(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function wD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){el(new za("platform-logger",t=>new VI(t),"PRIVATE")),el(new za("heartbeat",t=>new ED(t),"PRIVATE")),kr(Pm,eE,n),kr(Pm,eE,"esm2017"),kr("fire-js","")}xD("");function Cy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=xS,AS=new Ru("auth","Firebase",xS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new xy("@firebase/auth");function RD(n,...t){Zf.logLevel<=Lt.WARN&&Zf.warn(`Auth (${gl}): ${n}`,...t)}function Mf(n,...t){Zf.logLevel<=Lt.ERROR&&Zf.error(`Auth (${gl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...t){throw Iy(n,...t)}function Pi(n,...t){return Iy(n,...t)}function RS(n,t,e){const i=Object.assign(Object.assign({},AD()),{[t]:e});return new Ru("auth","Firebase",i).create(t,{appName:n.name})}function Is(n){return RS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return AS.create(n,...t)}function St(n,t,...e){if(!n)throw Iy(t,...e)}function Es(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Mf(t),new Error(t)}function Os(n,t){n||Es(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CD(){return aE()==="http:"||aE()==="https:"}function aE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||rI()||"connection"in navigator)?navigator.onLine:!0}function DD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=nI()||aI()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Iu(3e4,6e4);function Wr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Kr(n,t,e,i,s={}){return IS(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Cu(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:h},o);return sI()||(d.referrerPolicy="no-referrer"),CS.fetch()(DS(n,n.config.apiHost,e,u),d)})}async function IS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},MD),t);try{const s=new PD(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw lf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw lf(n,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw RS(n,m,d);di(n,m)}}catch(s){if(s instanceof Ls)throw s;di(n,"network-request-failed",{message:String(s)})}}async function Du(n,t,e,i,s={}){const o=await Kr(n,t,e,i,s);return"mfaPendingCredential"in o&&di(n,"multi-factor-auth-required",{_serverResponse:o}),o}function DS(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?Dy(n.config,s):`${n.config.apiScheme}://${s}`}function kD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Pi(this.auth,"network-request-failed")),OD.get())})}}function lf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Pi(n,t,i);return s.customData._tokenResponse=e,s}function oE(n){return n!==void 0&&n.enterprise!==void 0}class ND{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return kD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LD(n,t){return Kr(n,"GET","/v2/recaptchaConfig",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,t){return Kr(n,"POST","/v1/accounts:delete",t)}async function MS(n,t){return Kr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zD(n,t=!1){const e=fi(n),i=await e.getIdToken(t),s=My(i);St(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Gc(om(s.auth_time)),issuedAtTime:Gc(om(s.iat)),expirationTime:Gc(om(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function om(n){return Number(n)*1e3}function My(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const s=pS(e);return s?JSON.parse(s):(Mf("Failed to decode base64 JWT payload"),null)}catch(s){return Mf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lE(n){const t=My(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ls&&UD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function UD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(n){var t;const e=n.auth,i=await n.getIdToken(),s=await su(n,MS(e,{idToken:i}));St(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?OS(o.providerUserInfo):[],u=FD(n.providerData,l),h=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function jD(n){const t=fi(n);await Jf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FD(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function OS(n){return n.map(t=>{var{providerId:e}=t,i=Cy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,t){const e=await IS(n,{},async()=>{const i=Cu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=DS(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",CS.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function qD(n,t){return Kr(n,"POST","/v2/accounts:revokeToken",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=lE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await HD(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new Xo;return i&&(St(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(St(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(St(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ts{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=Cy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await su(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return zD(this,t)}reload(){return jD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ts(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Jf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Is(this.auth));const t=await this.getIdToken();return await su(this,VD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,l,u,h,d,m;const _=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,E=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=e.photoURL)!==null&&l!==void 0?l:void 0,x=(u=e.tenantId)!==null&&u!==void 0?u:void 0,A=(h=e._redirectEventId)!==null&&h!==void 0?h:void 0,O=(d=e.createdAt)!==null&&d!==void 0?d:void 0,V=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:B,emailVerified:Y,isAnonymous:H,providerData:Z,stsTokenManager:M}=e;St(B&&M,t,"internal-error");const I=Xo.fromJSON(this.name,M);St(typeof B=="string",t,"internal-error"),br(_,t.name),br(b,t.name),St(typeof Y=="boolean",t,"internal-error"),St(typeof H=="boolean",t,"internal-error"),br(E,t.name),br(w,t.name),br(x,t.name),br(A,t.name),br(O,t.name),br(V,t.name);const C=new Ts({uid:B,auth:t,email:b,emailVerified:Y,displayName:_,isAnonymous:H,photoURL:w,phoneNumber:E,tenantId:x,stsTokenManager:I,createdAt:O,lastLoginAt:V});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(k=>Object.assign({},k))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(t,e,i=!1){const s=new Xo;s.updateFromServerResponse(e);const o=new Ts({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Jf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];St(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?OS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Xo;u.updateFromIdToken(i);const h=new Ts({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function Ss(n){Os(n instanceof Function,"Expected a class definition");let t=cE.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,cE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}kS.type="NONE";const uE=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n,t,e){return`firebase:${n}:${t}:${e}`}class Qo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Of(this.userKey,s.apiKey,o),this.fullPersistenceKey=Of("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ts._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Qo(Ss(uE),t,i);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Ss(uE);const l=Of(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const m=await d._get(l);if(m){const _=Ts._fromJSON(t,m);d!==o&&(u=_),o=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Qo(o,t,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Qo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(US(t))return"Blackberry";if(BS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||LS(t))&&!t.includes("edge/"))return"Chrome";if(zS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PS(n=fn()){return/firefox\//i.test(n)}function NS(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LS(n=fn()){return/crios\//i.test(n)}function VS(n=fn()){return/iemobile/i.test(n)}function zS(n=fn()){return/android/i.test(n)}function US(n=fn()){return/blackberry/i.test(n)}function BS(n=fn()){return/webos/i.test(n)}function Oy(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GD(n=fn()){var t;return Oy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WD(){return oI()&&document.documentMode===10}function jS(n=fn()){return Oy(n)||zS(n)||BS(n)||US(n)||/windows phone/i.test(n)||VS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,t=[]){let e;switch(n){case"Browser":e=hE(fn());break;case"Worker":e=`${hE(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const h=t(o);l(h)}catch(h){u(h)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,t={}){return Kr(n,"GET","/v2/passwordPolicy",Wr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=6;class XD{constructor(t){var e,i,s,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:$D,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(e=h.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ss(e)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await MS(this,{idToken:t}),i=await Ts._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Jf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Is(this));const e=t?fi(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YD(this),e=new XD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ru("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await qD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ss(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ss(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&RD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Wa(n){return fi(n)}class fE{constructor(t){this.auth=t,this.observer=null,this.addObserver=pI(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(n){Cd=n}function HS(n){return Cd.loadJS(n)}function JD(){return Cd.recaptchaEnterpriseScript}function tM(){return Cd.gapiScript}function eM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class iM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const sM="recaptcha-enterprise",qS="NO_RECAPTCHA";class rM{constructor(t){this.type=sM,this.auth=Wa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{LD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new ND(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;oE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(qS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&oE(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=JD();h.length!==0&&(h+=u),HS(h).then(()=>{s(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function dE(n,t,e,i=!1,s=!1){const o=new rM(n);let l;if(s)l=qS;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Um(n,t,e,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await dE(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await dE(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n,t){const e=Ry(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(Xf(o,t??{}))return s;di(s,"already-initialized")}return e.initialize({options:t})}function oM(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Ss);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function lM(n,t,e){const i=Wa(n);St(i._canInitEmulator,i,"emulator-config-failed"),St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=GS(t),{host:l,port:u}=cM(t),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),uM()}function GS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function cM(n){const t=GS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:gE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:gE(l)}}}function gE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function uM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Es("not implemented")}_getIdTokenResponse(t){return Es("not implemented")}_linkToIdToken(t,e){return Es("not implemented")}_getReauthenticationResolver(t){return Es("not implemented")}}async function hM(n,t){return Kr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,t){return Du(n,"POST","/v1/accounts:signInWithPassword",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n,t){return Du(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,t))}async function gM(n,t){return Du(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends ky{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new ru(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ru(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,e,"signInWithPassword",fM);case"emailLink":return dM(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,i,"signUpPassword",hM);case"emailLink":return gM(t,{idToken:e,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,t){return Du(n,"POST","/v1/accounts:signInWithIdp",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="http://localhost";class Ua extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):di("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=Cy(e,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ua(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Zo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Zo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zo(t,e)}buildRequest(){const t={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Cu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yM(n){const t=Pc(Nc(n)).link,e=t?Pc(Nc(t)).deep_link_id:null,i=Pc(Nc(n)).deep_link_id;return(i?Pc(Nc(i)).link:null)||i||e||t||n}class Py{constructor(t){var e,i,s,o,l,u;const h=Pc(Nc(t)),d=(e=h.apiKey)!==null&&e!==void 0?e:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=mM((s=h.mode)!==null&&s!==void 0?s:null);St(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=yM(t);try{return new Py(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(t,e){return ru._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Py.parseLink(e);return St(i,"argument-error"),ru._fromEmailAndCode(t,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Mu{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ua._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Sr.credential(e,i)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Mu{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Mu{constructor(){super("twitter.com")}static credential(t,e){return Ua._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return xr.credential(e,i)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(n,t){return Du(n,"POST","/v1/accounts:signUp",Wr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await Ts._fromIdTokenResponse(t,i,s),l=pE(i);return new Ba({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=pE(i);return new Ba({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function pE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Ls{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,td.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new td(t,e,i,s)}}function KS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(n,o,t,i):o})}async function vM(n,t,e=!1){const i=await su(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ba._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,t,e=!1){const{auth:i}=n;if(ti(i.app))return Promise.reject(Is(i));const s="reauthenticate";try{const o=await su(n,KS(i,s,t,n),e);St(o.idToken,i,"internal-error");const l=My(o.idToken);St(l,i,"internal-error");const{sub:u}=l;return St(n.uid===u,i,"user-mismatch"),Ba._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&di(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(n,t,e=!1){if(ti(n.app))return Promise.reject(Is(n));const i="signIn",s=await KS(n,i,t),o=await Ba._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}async function EM(n,t){return YS(Wa(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n){const t=Wa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function TM(n,t,e){if(ti(n.app))return Promise.reject(Is(n));const i=Wa(n),l=await Um(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_M).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&$S(n),h}),u=await Ba._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function SM(n,t,e){return ti(n.app)?Promise.reject(Is(n)):EM(fi(n),pl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$S(n),i})}function wM(n,t,e,i){return fi(n).onIdTokenChanged(t,e,i)}function xM(n,t,e){return fi(n).beforeAuthStateChanged(t,e)}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1e3,RM=10;class QS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);WD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,RM):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},AM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}QS.type="LOCAL";const CM=QS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ZS.type="SESSION";const JS=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Id(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async d=>d(e.origin,o)),h=await IM(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const d=Ny("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function MM(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function OM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PM(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firebaseLocalStorageDb",NM=1,nd="firebaseLocalStorage",nw="fbase_key";class Ou{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Dd(n,t){return n.transaction([nd],t?"readwrite":"readonly").objectStore(nd)}function LM(){const n=indexedDB.deleteDatabase(ew);return new Ou(n).toPromise()}function Bm(){const n=indexedDB.open(ew,NM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(nd,{keyPath:nw})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(nd)?t(i):(i.close(),await LM(),t(await Bm()))})})}async function mE(n,t,e){const i=Dd(n,!0).put({[nw]:t,value:e});return new Ou(i).toPromise()}async function VM(n,t){const e=Dd(n,!1).get(t),i=await new Ou(e).toPromise();return i===void 0?null:i.value}function yE(n,t){const e=Dd(n,!0).delete(t);return new Ou(e).toPromise()}const zM=800,UM=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>UM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(PM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await OM(),!this.activeServiceWorker)return;this.sender=new DM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bm();return await mE(t,ed,"1"),await yE(t,ed),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>mE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>VM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>yE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Dd(s,!1).getAll();return new Ou(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const BM=iw;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n,t){return t?Ss(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends ky{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function FM(n){return YS(n.auth,new Ly(n),n.bypassAuthState)}function HM(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),bM(e,new Ly(n),n.bypassAuthState)}async function qM(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),vM(e,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FM;case"linkViaPopup":case"linkViaRedirect":return qM;case"reauthViaPopup":case"reauthViaRedirect":return HM;default:di(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Iu(2e3,1e4);class $o extends sw{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GM.get())};t()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="pendingRedirect",kf=new Map;class KM extends sw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=kf.get(this.auth._key());if(!t){try{const i=await YM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}kf.set(this.auth._key(),t)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YM(n,t){const e=QM(t),i=XM(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function $M(n,t){kf.set(n._key(),t)}function XM(n){return Ss(n._redirectPersistence)}function QM(n){return Of(WM,n.config.apiKey,n.name)}async function ZM(n,t,e=!1){if(ti(n.app))return Promise.reject(Is(n));const i=Wa(n),s=jM(i,t),l=await new KM(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=10*60*1e3;class tO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!rw(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Pi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function rw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function eO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,t={}){return Kr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sO=/^https?/;async function rO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await nO(n);for(const e of t)try{if(aO(e))return}catch{}di(n,"unauthorized-domain")}function aO(n){const t=Vm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!sO.test(e))return!1;if(iO.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new Iu(3e4,6e4);function vE(){const n=Ni().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function lO(n){return new Promise((t,e)=>{var i,s,o;function l(){vE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vE(),e(Pi(n,"network-request-failed"))},timeout:oO.get()})}if(!((s=(i=Ni().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=Ni().gapi)===null||o===void 0)&&o.load)l();else{const u=eM("iframefcb");return Ni()[u]=()=>{gapi.load?l():e(Pi(n,"network-request-failed"))},HS(`${tM()}?onload=${u}`).catch(h=>e(h))}}).catch(t=>{throw Pf=null,t})}let Pf=null;function cO(n){return Pf=Pf||lO(n),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Iu(5e3,15e3),hO="__/auth/iframe",fO="emulator/auth/iframe",dO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pO(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Dy(t,fO):`https://${n.config.authDomain}/${hO}`,i={apiKey:t.apiKey,appName:n.name,v:gl},s=gO.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Cu(i).slice(1)}`}async function mO(n){const t=await cO(n),e=Ni().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:pO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dO,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Pi(n,"network-request-failed"),u=Ni().setTimeout(()=>{o(l)},uO.get());function h(){Ni().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_O=500,vO=600,bO="_blank",EO="http://localhost";class bE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(n,t,e,i=_O,s=vO){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},yO),{width:i.toString(),height:s.toString(),top:o,left:l}),d=fn().toLowerCase();e&&(u=LS(d)?bO:e),PS(d)&&(t=t||EO,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[E,w])=>`${b}${E}=${w},`,"");if(GD(d)&&u!=="_self")return SO(t||"",u),new bE(null);const _=window.open(t||"",u,m);St(_,n,"popup-blocked");try{_.focus()}catch{}return new bE(_)}function SO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="__/auth/handler",xO="emulator/auth/handler",AO=encodeURIComponent("fac");async function EE(n,t,e,i,s,o){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:gl,eventId:s};if(t instanceof WS){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",gI(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(t instanceof Mu){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),d=h?`#${AO}=${encodeURIComponent(h)}`:"";return`${RO(n)}?${Cu(u).slice(1)}${d}`}function RO({config:n}){return n.emulator?Dy(n,xO):`https://${n.authDomain}/${wO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class CO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=ZM,this._overrideRedirectResult=$M}async _openPopup(t,e,i,s){var o;Os((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await EE(t,e,i,Vm(),s);return TO(t,l,Ny())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await EE(t,e,i,Vm(),s);return MM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(Os(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await mO(t),i=new tO(t);return e.register("authEvent",s=>(St(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(lm,{type:lm},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[lm];l!==void 0&&e(!!l),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=rO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return jS()||NS()||Oy()}}const IO=CO;var TE="@firebase/auth",SE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OO(n){el(new za("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;St(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FS(n)},d=new QD(i,s,o,h);return oM(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),el(new za("auth-internal",t=>{const e=Wa(t.getProvider("auth").getImmediate());return(i=>new DO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(TE,SE,MO(n)),kr(TE,SE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=5*60,PO=_S("authIdTokenMaxAge")||kO;let wE=null;const NO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>PO)return;const s=e==null?void 0:e.token;wE!==s&&(wE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LO(n=TS()){const t=Ry(n,"auth");if(t.isInitialized())return t.getImmediate();const e=aM(n,{popupRedirectResolver:IO,persistence:[BM,CM,JS]}),i=_S("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=NO(o.toString());xM(e,l,()=>l(e.currentUser)),wM(e,u=>l(u))}}const s=mS("auth");return s&&lM(e,`http://${s}`),e}function VO(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}ZD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Pi("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",VO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OO("Browser");var zO="firebase",UO="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(zO,UO,"app");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,aw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,I){function C(){}C.prototype=I.prototype,M.D=I.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(k,L,U){for(var N=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)N[Gt-2]=arguments[Gt];return I.prototype[L].apply(k,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,C){C||(C=0);var k=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)k[L]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(L=0;16>L;++L)k[L]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=M.g[0],C=M.g[1],L=M.g[2];var U=M.g[3],N=I+(U^C&(L^U))+k[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=U+(L^I&(C^L))+k[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(C^U&(I^C))+k[2]+606105819&4294967295,L=U+(N<<17&4294967295|N>>>15),N=C+(I^L&(U^I))+k[3]+3250441966&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(U^C&(L^U))+k[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(L^I&(C^L))+k[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(C^U&(I^C))+k[6]+2821735955&4294967295,L=U+(N<<17&4294967295|N>>>15),N=C+(I^L&(U^I))+k[7]+4249261313&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(U^C&(L^U))+k[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(L^I&(C^L))+k[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(C^U&(I^C))+k[10]+4294925233&4294967295,L=U+(N<<17&4294967295|N>>>15),N=C+(I^L&(U^I))+k[11]+2304563134&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(U^C&(L^U))+k[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(L^I&(C^L))+k[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=L+(C^U&(I^C))+k[14]+2792965006&4294967295,L=U+(N<<17&4294967295|N>>>15),N=C+(I^L&(U^I))+k[15]+1236535329&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(L^U&(C^L))+k[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^L&(I^C))+k[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(U^I))+k[11]+643717713&4294967295,L=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(L^U))+k[0]+3921069994&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(C^L))+k[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^L&(I^C))+k[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(U^I))+k[15]+3634488961&4294967295,L=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(L^U))+k[4]+3889429448&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(C^L))+k[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^L&(I^C))+k[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(U^I))+k[3]+4107603335&4294967295,L=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(L^U))+k[8]+1163531501&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^U&(C^L))+k[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^L&(I^C))+k[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(U^I))+k[7]+1735328473&4294967295,L=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(L^U))+k[12]+2368359562&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(C^L^U)+k[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^L)+k[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^C)+k[11]+1839030562&4294967295,L=U+(N<<16&4294967295|N>>>16),N=C+(L^U^I)+k[14]+4259657740&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^U)+k[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^L)+k[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^C)+k[7]+4139469664&4294967295,L=U+(N<<16&4294967295|N>>>16),N=C+(L^U^I)+k[10]+3200236656&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^U)+k[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^L)+k[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^C)+k[3]+3572445317&4294967295,L=U+(N<<16&4294967295|N>>>16),N=C+(L^U^I)+k[6]+76029189&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^U)+k[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^L)+k[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=L+(U^I^C)+k[15]+530742520&4294967295,L=U+(N<<16&4294967295|N>>>16),N=C+(L^U^I)+k[2]+3299628645&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(L^(C|~U))+k[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~L))+k[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~C))+k[14]+2878612391&4294967295,L=U+(N<<15&4294967295|N>>>17),N=C+(U^(L|~I))+k[5]+4237533241&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~U))+k[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~L))+k[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~C))+k[10]+4293915773&4294967295,L=U+(N<<15&4294967295|N>>>17),N=C+(U^(L|~I))+k[1]+2240044497&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~U))+k[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~L))+k[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~C))+k[6]+2734768916&4294967295,L=U+(N<<15&4294967295|N>>>17),N=C+(U^(L|~I))+k[13]+1309151649&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~U))+k[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~L))+k[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=L+(I^(U|~C))+k[2]+718787259&4294967295,L=U+(N<<15&4294967295|N>>>17),N=C+(U^(L|~I))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var C=I-this.blockSize,k=this.B,L=this.h,U=0;U<I;){if(L==0)for(;U<=C;)s(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<I;)if(k[L++]=M.charCodeAt(U++),L==this.blockSize){s(this,k),L=0;break}}else for(;U<I;)if(k[L++]=M[U++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=I},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var C=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=C&255,C/=256;for(this.u(M),M=Array(16),I=C=0;4>I;++I)for(var k=0;32>k;k+=8)M[C++]=this.g[I]>>>k&255;return M};function o(M,I){var C=u;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=I(M)}function l(M,I){this.h=I;for(var C=[],k=!0,L=M.length-1;0<=L;L--){var U=M[L]|0;k&&U==I||(C[L]=U,k=!1)}this.g=C}var u={};function h(M){return-128<=M&&128>M?o(M,function(I){return new l([I|0],0>I?-1:0)}):new l([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return A(d(-M));for(var I=[],C=1,k=0;M>=C;k++)I[k]=M/C|0,C*=4294967296;return new l(I,0)}function m(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return A(m(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),k=_,L=0;L<M.length;L+=8){var U=Math.min(8,M.length-L),N=parseInt(M.substring(L,L+U),I);8>U?(U=d(Math.pow(I,U)),k=k.j(U).add(d(N))):(k=k.j(C),k=k.add(d(N)))}return k}var _=h(0),b=h(1),E=h(16777216);n=l.prototype,n.m=function(){if(x(this))return-A(this).m();for(var M=0,I=1,C=0;C<this.g.length;C++){var k=this.i(C);M+=(0<=k?k:4294967296+k)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(x(this))return"-"+A(this).toString(M);for(var I=d(Math.pow(M,6)),C=this,k="";;){var L=Y(C,I).g;C=O(C,L.j(I));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=L,w(C))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function x(M){return M.h==-1}n.l=function(M){return M=O(this,M),x(M)?-1:w(M)?0:1};function A(M){for(var I=M.g.length,C=[],k=0;k<I;k++)C[k]=~M.g[k];return new l(C,~M.h).add(b)}n.abs=function(){return x(this)?A(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],k=0,L=0;L<=I;L++){var U=k+(this.i(L)&65535)+(M.i(L)&65535),N=(U>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);k=N>>>16,U&=65535,N&=65535,C[L]=N<<16|U}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(M,I){return M.add(A(I))}n.j=function(M){if(w(this)||w(M))return _;if(x(this))return x(M)?A(this).j(A(M)):A(A(this).j(M));if(x(M))return A(this.j(A(M)));if(0>this.l(E)&&0>M.l(E))return d(this.m()*M.m());for(var I=this.g.length+M.g.length,C=[],k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<M.g.length;L++){var U=this.i(k)>>>16,N=this.i(k)&65535,Gt=M.i(L)>>>16,Et=M.i(L)&65535;C[2*k+2*L]+=N*Et,V(C,2*k+2*L),C[2*k+2*L+1]+=U*Et,V(C,2*k+2*L+1),C[2*k+2*L+1]+=N*Gt,V(C,2*k+2*L+1),C[2*k+2*L+2]+=U*Gt,V(C,2*k+2*L+2)}for(k=0;k<I;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=I;k<2*I;k++)C[k]=0;return new l(C,0)};function V(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function B(M,I){this.g=M,this.h=I}function Y(M,I){if(w(I))throw Error("division by zero");if(w(M))return new B(_,_);if(x(M))return I=Y(A(M),I),new B(A(I.g),A(I.h));if(x(I))return I=Y(M,A(I)),new B(A(I.g),I.h);if(30<M.g.length){if(x(M)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,k=I;0>=k.l(M);)C=H(C),k=H(k);var L=Z(C,1),U=Z(k,1);for(k=Z(k,2),C=Z(C,2);!w(k);){var N=U.add(k);0>=N.l(M)&&(L=L.add(C),U=N),k=Z(k,1),C=Z(C,1)}return I=O(M,L.j(I)),new B(L,I)}for(L=_;0<=M.l(I);){for(C=Math.max(1,Math.floor(M.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=d(C),N=U.j(I);x(N)||0<N.l(M);)C-=k,U=d(C),N=U.j(I);w(U)&&(U=b),L=L.add(U),M=O(M,N)}return new B(L,M)}n.A=function(M){return Y(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)&M.i(k);return new l(C,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)|M.i(k);return new l(C,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)^M.i(k);return new l(C,this.h^M.h)};function H(M){for(var I=M.g.length+1,C=[],k=0;k<I;k++)C[k]=M.i(k)<<1|M.i(k-1)>>>31;return new l(C,M.h)}function Z(M,I){var C=I>>5;I%=32;for(var k=M.g.length-C,L=[],U=0;U<k;U++)L[U]=0<I?M.i(U+C)>>>I|M.i(U+C+1)<<32-I:M.i(U+C);return new l(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aw=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Pr=l}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,Lc,lw,Nf,jm,cw,uw,hw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,v,T){return g==Array.prototype||g==Object.prototype||(g[v]=T.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var v=0;v<g.length;++v){var T=g[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function s(g,v){if(v)t:{var T=i;g=g.split(".");for(var D=0;D<g.length-1;D++){var W=g[D];if(!(W in T))break t;T=T[W]}g=g[g.length-1],D=T[g],v=v(D),v!=D&&v!=null&&t(T,g,{configurable:!0,writable:!0,value:v})}}function o(g,v){g instanceof String&&(g+="");var T=0,D=!1,W={next:function(){if(!D&&T<g.length){var Q=T++;return{value:v(Q,g[Q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(g){return g||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var v=typeof g;return v=v!="object"?v:g?Array.isArray(g)?"array":v:"null",v=="array"||v=="object"&&typeof g.length=="number"}function d(g){var v=typeof g;return v=="object"&&g!=null||v=="function"}function m(g,v,T){return g.call.apply(g.bind,arguments)}function _(g,v,T){if(!g)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,D),g.apply(v,W)}}return function(){return g.apply(v,arguments)}}function b(g,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,b.apply(null,arguments)}function E(g,v){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),g.apply(this,D)}}function w(g,v){function T(){}T.prototype=v.prototype,g.aa=v.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(D,W,Q){for(var ot=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ot[jt-2]=arguments[jt];return v.prototype[W].apply(D,ot)}}function x(g){const v=g.length;if(0<v){const T=Array(v);for(let D=0;D<v;D++)T[D]=g[D];return T}return[]}function A(g,v){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(h(D)){const W=g.length||0,Q=D.length||0;g.length=W+Q;for(let ot=0;ot<Q;ot++)g[W+ot]=D[ot]}else g.push(D)}}class O{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(g){return/^[\s\xa0]*$/.test(g)}function B(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function Y(g){return Y[" "](g),g}Y[" "]=function(){};var H=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(g,v,T){for(const D in g)v.call(T,g[D],D,g)}function M(g,v){for(const T in g)v.call(void 0,g[T],T,g)}function I(g){const v={};for(const T in g)v[T]=g[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(g,v){let T,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(T in D)g[T]=D[T];for(let Q=0;Q<C.length;Q++)T=C[Q],Object.prototype.hasOwnProperty.call(D,T)&&(g[T]=D[T])}}function L(g){var v=1;g=g.split(":");const T=[];for(;0<v&&g.length;)T.push(g.shift()),v--;return g.length&&T.push(g.join(":")),T}function U(g){u.setTimeout(()=>{throw g},0)}function N(){var g=wt;let v=null;return g.g&&(v=g.g,g.g=g.g.next,g.g||(g.h=null),v.next=null),v}class Gt{constructor(){this.h=this.g=null}add(v,T){const D=Et.get();D.set(v,T),this.h?this.h.next=D:this.g=D,this.h=D}}var Et=new O(()=>new st,g=>g.reset());class st{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,dt=!1,wt=new Gt,z=()=>{const g=u.Promise.resolve(void 0);ht=()=>{g.then(rt)}};var rt=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(T){U(T)}var v=Et;v.j(g),100>v.h&&(v.h++,g.next=v.g,v.g=g)}dt=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(g,v){this.type=g,this.g=this.target=v,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,v=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return g}();function At(g,v){if(ut.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,D=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=v,v=g.relatedTarget){if(H){t:{try{Y(v.nodeName);var W=!0;break t}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=g.fromElement:T=="mouseout"&&(v=g.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Tt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&At.aa.h.call(this)}}w(At,ut);var Tt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function pe(g,v,T,D,W){this.listener=g,this.proxy=null,this.src=v,this.type=T,this.capture=!!D,this.ha=W,this.key=++Wt,this.da=this.fa=!1}function Zt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function gn(g){this.src=g,this.g={},this.h=0}gn.prototype.add=function(g,v,T,D,W){var Q=g.toString();g=this.g[Q],g||(g=this.g[Q]=[],this.h++);var ot=Ln(g,v,D,W);return-1<ot?(v=g[ot],T||(v.fa=!1)):(v=new pe(v,this.src,Q,!!D,W),v.fa=T,g.push(v)),v};function Hi(g,v){var T=v.type;if(T in g.g){var D=g.g[T],W=Array.prototype.indexOf.call(D,v,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(D,W,1),Q&&(Zt(v),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Ln(g,v,T,D){for(var W=0;W<g.length;++W){var Q=g[W];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==D)return W}return-1}var Vs="closure_lm_"+(1e6*Math.random()|0),zs={};function qi(g,v,T,D,W){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)qi(g,v[Q],T,D,W);return null}return T=Uu(T),g&&g[Ae]?g.K(v,T,d(D)?!!D.capture:!1,W):bl(g,v,T,!1,D,W)}function bl(g,v,T,D,W,Q){if(!v)throw Error("Invalid event type");var ot=d(W)?!!W.capture:!!W,jt=El(g);if(jt||(g[Vs]=jt=new gn(g)),T=jt.add(v,T,D,ot,Q),T.proxy)return T;if(D=Za(),T.proxy=D,D.src=g,D.listener=T,g.addEventListener)ct||(W=ot),W===void 0&&(W=!1),g.addEventListener(v.toString(),D,W);else if(g.attachEvent)g.attachEvent(to(v.toString()),D);else if(g.addListener&&g.removeListener)g.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Za(){function g(T){return v.call(g.src,g.listener,T)}const v=Xd;return g}function Ja(g,v,T,D,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ja(g,v[Q],T,D,W);else D=d(D)?!!D.capture:!!D,T=Uu(T),g&&g[Ae]?(g=g.i,v=String(v).toString(),v in g.g&&(Q=g.g[v],T=Ln(Q,T,D,W),-1<T&&(Zt(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete g.g[v],g.h--)))):g&&(g=El(g))&&(v=g.g[v.toString()],g=-1,v&&(g=Ln(v,T,D,W)),(T=-1<g?v[g]:null)&&$r(T))}function $r(g){if(typeof g!="number"&&g&&!g.da){var v=g.src;if(v&&v[Ae])Hi(v.i,g);else{var T=g.type,D=g.proxy;v.removeEventListener?v.removeEventListener(T,D,g.capture):v.detachEvent?v.detachEvent(to(T),D):v.addListener&&v.removeListener&&v.removeListener(D),(T=El(v))?(Hi(T,g),T.h==0&&(T.src=null,v[Vs]=null)):Zt(g)}}}function to(g){return g in zs?zs[g]:zs[g]="on"+g}function Xd(g,v){if(g.da)g=!0;else{v=new At(v,this);var T=g.listener,D=g.ha||g.src;g.fa&&$r(g),g=T.call(D,v)}return g}function El(g){return g=g[Vs],g instanceof gn?g:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uu(g){return typeof g=="function"?g:(g[bn]||(g[bn]=function(v){return g.handleEvent(v)}),g[bn])}function Me(){gt.call(this),this.i=new gn(this),this.M=this,this.F=null}w(Me,gt),Me.prototype[Ae]=!0,Me.prototype.removeEventListener=function(g,v,T,D){Ja(this,g,v,T,D)};function je(g,v){var T,D=g.F;if(D)for(T=[];D;D=D.F)T.push(D);if(g=g.M,D=v.type||v,typeof v=="string")v=new ut(v,g);else if(v instanceof ut)v.target=v.target||g;else{var W=v;v=new ut(D,g),k(v,W)}if(W=!0,T)for(var Q=T.length-1;0<=Q;Q--){var ot=v.g=T[Q];W=Gi(ot,D,!0,v)&&W}if(ot=v.g=g,W=Gi(ot,D,!0,v)&&W,W=Gi(ot,D,!1,v)&&W,T)for(Q=0;Q<T.length;Q++)ot=v.g=T[Q],W=Gi(ot,D,!1,v)&&W}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var g=this.i,v;for(v in g.g){for(var T=g.g[v],D=0;D<T.length;D++)Zt(T[D]);delete g.g[v],g.h--}}this.F=null},Me.prototype.K=function(g,v,T,D){return this.i.add(String(g),v,!1,T,D)},Me.prototype.L=function(g,v,T,D){return this.i.add(String(g),v,!0,T,D)};function Gi(g,v,T,D){if(v=g.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Q=0;Q<v.length;++Q){var ot=v[Q];if(ot&&!ot.da&&ot.capture==T){var jt=ot.listener,ke=ot.ha||ot.src;ot.fa&&Hi(g.i,ot),W=jt.call(ke,D)!==!1&&W}}return W&&!D.defaultPrevented}function Bu(g,v,T){if(typeof g=="function")T&&(g=b(g,T));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(g,v||0)}function Tl(g){g.g=Bu(()=>{g.g=null,g.i&&(g.i=!1,Tl(g))},g.l);const v=g.h;g.h=null,g.m.apply(null,v)}class Qd extends gt{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(g){gt.call(this),this.h=g,this.g={}}w(Xr,gt);var Us=[];function sn(g){Z(g.g,function(v,T){this.g.hasOwnProperty(T)&&$r(v)},g),g.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),sn(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sl=u.JSON.stringify,pi=u.JSON.parse,pn=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function wl(){}wl.prototype.h=null;function ju(g){return g.h||(g.h=g.i())}function Fu(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bs(){ut.call(this,"d")}w(Bs,ut);function ii(){ut.call(this,"c")}w(ii,ut);var Vn={},js=null;function eo(){return js=js||new Me}Vn.La="serverreachability";function xl(g){ut.call(this,Vn.La,g)}w(xl,ut);function Fs(g){const v=eo();je(v,new xl(v))}Vn.STAT_EVENT="statevent";function no(g,v){ut.call(this,Vn.STAT_EVENT,g),this.stat=v}w(no,ut);function Te(g){const v=eo();je(v,new no(v,g))}Vn.Ma="timingevent";function Hu(g,v){ut.call(this,Vn.Ma,g),this.size=v}w(Hu,ut);function Hs(g,v){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},v)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function qu(g,v,T,D,W,Q){g.info(function(){if(g.g)if(Q)for(var ot="",jt=Q.split("&"),ke=0;ke<jt.length;ke++){var Ft=jt[ke].split("=");if(1<Ft.length){var qe=Ft[0];Ft=Ft[1];var Pe=qe.split("_");ot=2<=Pe.length&&Pe[1]=="type"?ot+(qe+"="+Ft+"&"):ot+(qe+"=redacted&")}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+v+`
`+T+`
`+ot})}function Gu(g,v,T,D,W,Q,ot){g.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+v+`
`+T+`
`+Q+" "+ot})}function Gs(g,v,T,D){g.info(function(){return"XMLHTTP TEXT ("+v+"): "+Fe(g,T)+(D?" "+D:"")})}function yi(g,v){g.info(function(){return"TIMEOUT: "+v})}qs.prototype.info=function(){};function Fe(g,v){if(!g.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var D=T[g];if(!(2>D.length)){var W=D[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ot=1;ot<W.length;ot++)W[ot]=""}}}}return Sl(T)}catch{return v}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function io(){}w(io,wl),io.prototype.g=function(){return new XMLHttpRequest},io.prototype.i=function(){return{}},Qr=new io;function _i(g,v,T,D){this.j=g,this.i=v,this.l=T,this.R=D||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}var Ws={},Zr={};function si(g,v,T){g.L=1,g.v=ea(me(v)),g.m=T,g.P=!0,Ki(g,null)}function Ki(g,v){g.F=Date.now(),ue(g),g.A=me(g.v);var T=g.A,D=g.R;Array.isArray(D)||(D=[String(D)]),Xi(T.i,"t",D),g.C=0,T=g.j.J,g.h=new Al,g.g=rh(g.j,T?v:null,!g.m),0<g.O&&(g.M=new Qd(b(g.Y,g,g.g),g.O)),v=g.U,T=g.g,D=g.ca;var W="readystatechange";Array.isArray(W)||(W&&(Us[0]=W.toString()),W=Us);for(var Q=0;Q<W.length;Q++){var ot=qi(T,W[Q],D||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,v)):(g.u="GET",g.g.ea(g.A,g.u,null,v)),Fs(),qu(g.i,g.u,g.A,g.l,g.R,g.m)}_i.prototype.ca=function(g){g=g.target;const v=this.M;v&&Fn(g)==3?v.j():this.Y(g)},_i.prototype.Y=function(g){try{if(g==this.g)t:{const Pe=Fn(this.g);var v=this.g.Ba();const ts=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Pe!=4||v==7||(v==8||0>=ts?Fs(3):Fs(2)),so(this);var T=this.g.Z();this.X=T;e:if(Ks(this)){var D=Qu(this.g);g="";var W=D.length,Q=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),An(this);var ot="";break e}this.h.i=new u.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,g+=this.h.i.decode(D[v],{stream:!(Q&&v==W-1)});D.length=0,this.h.g+=g,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=T==200,Gu(this.i,this.u,this.A,this.l,this.R,Pe,T),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,ke=this.g;if((jt=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(jt)){var Ft=jt;break e}}Ft=null}if(T=Ft)Gs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rn(this,T);else{this.o=!1,this.s=3,Te(12),En(this),An(this);break t}}if(this.P){T=!0;let Xe;for(;!this.J&&this.C<ot.length;)if(Xe=Ys(this,ot),Xe==Zr){Pe==4&&(this.s=4,Te(14),T=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Ws){this.s=4,Te(15),Gs(this.i,this.l,ot,"[Invalid Chunk]"),T=!1;break}else Gs(this.i,this.l,Xe,null),Rn(this,Xe);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||ot.length!=0||this.h.h||(this.s=1,Te(16),T=!1),this.o=this.o&&T,!T)Gs(this.i,this.l,ot,"[Invalid Chunked Response]"),En(this),An(this);else if(0<ot.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),la(qe),qe.M=!0,Te(11))}}else Gs(this.i,this.l,ot,null),Rn(this,ot);Pe==4&&En(this),this.o&&!this.J&&(Pe==4?nh(this.j,this):(this.o=!1,ue(this)))}else ig(this.g),T==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),En(this),An(this)}}}catch{}finally{}};function Ks(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ys(g,v){var T=g.C,D=v.indexOf(`
`,T);return D==-1?Zr:(T=Number(v.substring(T,D)),isNaN(T)?Ws:(D+=1,D+T>v.length?Zr:(v=v.slice(D,D+T),g.C=D+T,v)))}_i.prototype.cancel=function(){this.J=!0,En(this)};function ue(g){g.S=Date.now()+g.I,Rl(g,g.I)}function Rl(g,v){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Hs(b(g.ba,g),v)}function so(g){g.B&&(u.clearTimeout(g.B),g.B=null)}_i.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(yi(this.i,this.A),this.L!=2&&(Fs(),Te(17)),En(this),this.s=2,An(this)):Rl(this,this.S-g)};function An(g){g.j.G==0||g.J||nh(g.j,g)}function En(g){so(g);var v=g.M;v&&typeof v.ma=="function"&&v.ma(),g.M=null,sn(g.U),g.g&&(v=g.g,g.g=null,v.abort(),v.ma())}function Rn(g,v){try{var T=g.j;if(T.G!=0&&(T.g==g||$s(T.h,g))){if(!g.K&&$s(T.h,g)&&T.G==3){try{var D=T.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)po(T),fo(T);else break t;zl(T),Te(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=Hs(b(T.Za,T),6e3));if(1>=Wu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ji(T,11)}else if((g.K||T.g==g)&&po(T),!V(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let Ft=W[v];if(T.T=Ft[0],Ft=Ft[1],T.G==2)if(Ft[0]=="c"){T.K=Ft[1],T.ia=Ft[2];const qe=Ft[3];qe!=null&&(T.la=qe,T.j.info("VER="+T.la));const Pe=Ft[4];Pe!=null&&(T.Aa=Pe,T.j.info("SVER="+T.Aa));const ts=Ft[5];ts!=null&&typeof ts=="number"&&0<ts&&(D=1.5*ts,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Xe=g.g;if(Xe){const xi=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var Q=D.h;Q.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Xs(Q,Q.h),Q.h=null))}if(D.D){const Bl=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(D.ya=Bl,Kt(D.I,D.D,Bl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var ot=g;if(D.qa=sh(D,D.J?D.ia:null,D.W),ot.K){zn(D.h,ot);var jt=ot,ke=D.L;ke&&(jt.I=ke),jt.B&&(so(jt),ue(jt)),D.g=ot}else th(D);0<T.i.length&&go(T)}else Ft[0]!="stop"&&Ft[0]!="close"||Ji(T,7);else T.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ji(T,7):Ll(T):Ft[0]!="noop"&&T.l&&T.l.ta(Ft),T.v=0)}}Fs(4)}catch{}}var Zd=class{constructor(g,v){this.g=g,this.map=v}};function Cl(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Il(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Wu(g){return g.h?1:g.g?g.g.size:0}function $s(g,v){return g.h?g.h==v:g.g?g.g.has(v):!1}function Xs(g,v){g.g?g.g.add(v):g.h=v}function zn(g,v){g.h&&g.h==v?g.h=null:g.g&&g.g.has(v)&&g.g.delete(v)}Cl.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function mn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let v=g.i;for(const T of g.g.values())v=v.concat(T.D);return v}return x(g.i)}function Ku(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var v=[],T=g.length,D=0;D<T;D++)v.push(g[D]);return v}v=[],T=0;for(D in g)v[T++]=g[D];return v}function Jd(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var v=[];g=g.length;for(var T=0;T<g;T++)v.push(T);return v}v=[],T=0;for(const D in g)v[T++]=D;return v}}}function Jr(g,v){if(g.forEach&&typeof g.forEach=="function")g.forEach(v,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,v,void 0);else for(var T=Jd(g),D=Ku(g),W=D.length,Q=0;Q<W;Q++)v.call(void 0,D[Q],T&&T[Q],g)}var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(g,v){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var D=g[T].indexOf("="),W=null;if(0<=D){var Q=g[T].substring(0,D);W=g[T].substring(D+1)}else Q=g[T];v(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Yi(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Yi){this.h=g.h,Qs(this,g.j),this.o=g.o,this.g=g.g,ta(this,g.s),this.l=g.l;var v=g.i,T=new vi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ao(this,T),this.m=g.m}else g&&(v=String(g).match(Dl))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=Zs(v[2]||""),this.g=Zs(v[3]||"",!0),ta(this,v[4]),this.l=Zs(v[5]||"",!0),ao(this,v[6]||"",!0),this.m=Zs(v[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Yi.prototype.toString=function(){var g=[],v=this.j;v&&g.push(Un(v,Ml,!0),":");var T=this.g;return(T||v=="file")&&(g.push("//"),(v=this.o)&&g.push(Un(v,Ml,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Un(T,T.charAt(0)=="/"?Ol:Yu,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Un(T,ng)),g.join("")};function me(g){return new Yi(g)}function Qs(g,v,T){g.j=T?Zs(v,!0):v,g.j&&(g.j=g.j.replace(/:$/,""))}function ta(g,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);g.s=v}else g.s=null}function ao(g,v,T){v instanceof vi?(g.i=v,kl(g.i,g.h)):(T||(v=Un(v,eg)),g.i=new vi(v,g.h))}function Kt(g,v,T){g.i.set(v,T)}function ea(g){return Kt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Zs(g,v){return g?v?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Un(g,v,T){return typeof g=="string"?(g=encodeURI(g).replace(v,tg),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function tg(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ml=/[#\/\?@]/g,Yu=/[#\?:]/g,Ol=/[#\?]/g,eg=/[#\?@]/g,ng=/#/g;function vi(g,v){this.h=this.g=null,this.i=g||null,this.j=!!v}function Bn(g){g.g||(g.g=new Map,g.h=0,g.i&&ro(g.i,function(v,T){g.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=vi.prototype,n.add=function(g,v){Bn(this),this.i=null,g=Qi(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(v),this.h+=1,this};function oo(g,v){Bn(g),v=Qi(g,v),g.g.has(v)&&(g.i=null,g.h-=g.g.get(v).length,g.g.delete(v))}function $i(g,v){return Bn(g),v=Qi(g,v),g.g.has(v)}n.forEach=function(g,v){Bn(this),this.g.forEach(function(T,D){T.forEach(function(W){g.call(v,W,D,this)},this)},this)},n.na=function(){Bn(this);const g=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let D=0;D<v.length;D++){const W=g[D];for(let Q=0;Q<W.length;Q++)T.push(v[D])}return T},n.V=function(g){Bn(this);let v=[];if(typeof g=="string")$i(this,g)&&(v=v.concat(this.g.get(Qi(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)v=v.concat(g[T])}return v},n.set=function(g,v){return Bn(this),this.i=null,g=Qi(this,g),$i(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[v]),this.h+=1,this},n.get=function(g,v){return g?(g=this.V(g),0<g.length?String(g[0]):v):v};function Xi(g,v,T){oo(g,v),0<T.length&&(g.i=null,g.g.set(Qi(g,v),x(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var D=v[T];const Q=encodeURIComponent(String(D)),ot=this.V(D);for(D=0;D<ot.length;D++){var W=Q;ot[D]!==""&&(W+="="+encodeURIComponent(String(ot[D]))),g.push(W)}}return this.i=g.join("&")};function Qi(g,v){return v=String(v),g.j&&(v=v.toLowerCase()),v}function kl(g,v){v&&!g.j&&(Bn(g),g.i=null,g.g.forEach(function(T,D){var W=D.toLowerCase();D!=W&&(oo(this,D),Xi(this,W,T))},g)),g.j=v}function $u(g,v){const T=new qs;if(u.Image){const D=new Image;D.onload=E(jn,T,"TestLoadImage: loaded",!0,v,D),D.onerror=E(jn,T,"TestLoadImage: error",!1,v,D),D.onabort=E(jn,T,"TestLoadImage: abort",!1,v,D),D.ontimeout=E(jn,T,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=g}else v(!1)}function na(g,v){const T=new qs,D=new AbortController,W=setTimeout(()=>{D.abort(),jn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(g,{signal:D.signal}).then(Q=>{clearTimeout(W),Q.ok?jn(T,"TestPingServer: ok",!0,v):jn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),jn(T,"TestPingServer: error",!1,v)})}function jn(g,v,T,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(T)}catch{}}function ia(){this.g=new pn}function bi(g,v,T){const D=T||"";try{Jr(g,function(W,Q){let ot=W;d(W)&&(ot=Sl(W)),v.push(D+Q+"="+encodeURIComponent(ot))})}catch(W){throw v.push(D+"type="+encodeURIComponent("_badmap")),W}}function Js(g){this.l=g.Ub||null,this.j=g.eb||!1}w(Js,wl),Js.prototype.g=function(){return new Zi(this.l,this.j)},Js.prototype.i=function(g){return function(){return g}}({});function Zi(g,v){Me.call(this),this.D=g,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Zi,Me),n=Zi.prototype,n.open=function(g,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=v,this.readyState=1,Ti(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(v.body=g),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var v=g.value?g.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!g.done}))&&(this.response=this.responseText+=v)}g.done?Ei(this):Ti(this),this.readyState==3&&Pl(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ei(this))},n.Qa=function(g){this.g&&(this.response=g,Ei(this))},n.ga=function(){this.g&&Ei(this)};function Ei(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ti(g)}n.setRequestHeader=function(g,v){this.u.append(g,v)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=v.next();return g.join(`\r
`)};function Ti(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Nl(g){let v="";return Z(g,function(T,D){v+=D,v+=":",v+=T,v+=`\r
`}),v}function He(g,v,T){t:{for(D in T){var D=!1;break t}D=!0}D||(T=Nl(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):Kt(g,v,T))}function Xt(g){Me.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xt,Me);var lo=/^https?$/i,sa=["POST","PUT"];n=Xt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,v,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);v=v?v.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?ju(this.o):ju(Qr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(g),!0),this.B=!1}catch(Q){Xu(this,Q);return}if(g=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)T.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Q of D.keys())T.set(Q,D.get(Q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(sa,v,void 0))||D||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of T)this.g.setRequestHeader(Q,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(g),this.u=!1}catch(Q){Xu(this,Q)}};function Xu(g,v){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=v,g.m=5,co(g),Si(g)}function co(g){g.A||(g.A=!0,je(g,"complete"),je(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,je(this,"complete"),je(this,"abort"),Si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},n.bb=function(){uo(this)};function uo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Fn(g)!=4||g.Z()!=2)){if(g.u&&Fn(g)==4)Bu(g.Ea,0,g);else if(je(g,"readystatechange"),Fn(g)==4){g.h=!1;try{const ot=g.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var D;if(D=ot===0){var W=String(g.D).match(Dl)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),D=!lo.test(W?W.toLowerCase():"")}T=D}if(T)je(g,"complete"),je(g,"success");else{g.m=6;try{var Q=2<Fn(g)?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.Z()+"]",co(g)}}finally{Si(g)}}}}function Si(g,v){if(g.g){ra(g);const T=g.g,D=g.v[0]?()=>{}:null;g.g=null,g.v=null,v||je(g,"ready");try{T.onreadystatechange=D}catch{}}}function ra(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Fn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var v=this.g.responseText;return g&&v.indexOf(g)==0&&(v=v.substring(g.length)),pi(v)}};function Qu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ig(g){const v={};g=(g.g&&2<=Fn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<g.length;D++){if(V(g[D]))continue;var T=L(g[D]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[W]||[];v[W]=Q,Q.push(T)}M(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(g,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||v}function ho(g){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,g),this.cb=aa("retryDelaySeedMs",1e4,g),this.Wa=aa("forwardChannelMaxRetries",2,g),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Cl(g&&g.concurrentRequestLimit),this.Da=new ia,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(g,v,T,D){Te(0),this.W=g,this.H=v||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=sh(this,null,this.W),go(this)};function Ll(g){if(Zu(g),g.G==3){var v=g.U++,T=me(g.I);if(Kt(T,"SID",g.K),Kt(T,"RID",v),Kt(T,"TYPE","terminate"),oa(g,T),v=new _i(g,g.j,v),v.L=2,v.v=ea(me(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.v,T=!0),T||(v.g=rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ue(v)}ih(g)}function fo(g){g.g&&(la(g),g.g.cancel(),g.g=null)}function Zu(g){fo(g),g.u&&(u.clearTimeout(g.u),g.u=null),po(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function go(g){if(!Il(g.h)&&!g.s){g.s=!0;var v=g.Ga;ht||z(),dt||(ht(),dt=!0),wt.add(v,g),g.B=0}}function sg(g,v){return Wu(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=v.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Hs(b(g.Ga,g,v),Ul(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const W=new _i(this,this.j,g);let Q=this.o;if(this.S&&(Q?(Q=I(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Ju(this,W,v),T=me(this.I),Kt(T,"RID",g),Kt(T,"CVER",22),this.D&&Kt(T,"X-HTTP-Session-Id",this.D),oa(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(Nl(Q)))+"&"+v:this.m&&He(T,this.m,Q)),Xs(this.h,W),this.Ua&&Kt(T,"TYPE","init"),this.P?(Kt(T,"$req",v),Kt(T,"SID","null"),W.T=!0,si(W,T,null)):si(W,T,v),this.G=2}}else this.G==3&&(g?Vl(this,g):this.i.length==0||Il(this.h)||Vl(this))};function Vl(g,v){var T;v?T=v.l:T=g.U++;const D=me(g.I);Kt(D,"SID",g.K),Kt(D,"RID",T),Kt(D,"AID",g.T),oa(g,D),g.m&&g.o&&He(D,g.m,g.o),T=new _i(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),v&&(g.i=v.D.concat(g.i)),v=Ju(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Xs(g.h,T),si(T,D,v)}function oa(g,v){g.H&&Z(g.H,function(T,D){Kt(v,D,T)}),g.l&&Jr({},function(T,D){Kt(v,D,T)})}function Ju(g,v,T){T=Math.min(g.i.length,T);var D=g.l?b(g.l.Na,g.l,g):null;t:{var W=g.i;let Q=-1;for(;;){const ot=["count="+T];Q==-1?0<T?(Q=W[0].g,ot.push("ofs="+Q)):Q=0:ot.push("ofs="+Q);let jt=!0;for(let ke=0;ke<T;ke++){let Ft=W[ke].g;const qe=W[ke].map;if(Ft-=Q,0>Ft)Q=Math.max(0,W[ke].g-100),jt=!1;else try{bi(qe,ot,"req"+Ft+"_")}catch{D&&D(qe)}}if(jt){D=ot.join("&");break t}}}return g=g.i.splice(0,T),v.D=g,D}function th(g){if(!g.g&&!g.u){g.Y=1;var v=g.Fa;ht||z(),dt||(ht(),dt=!0),wt.add(v,g),g.v=0}}function zl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Hs(b(g.Fa,g),Ul(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Hs(b(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),fo(this),eh(this))};function la(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function eh(g){g.g=new _i(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var v=me(g.qa);Kt(v,"RID","rpc"),Kt(v,"SID",g.K),Kt(v,"AID",g.T),Kt(v,"CI",g.F?"0":"1"),!g.F&&g.ja&&Kt(v,"TO",g.ja),Kt(v,"TYPE","xmlhttp"),oa(g,v),g.m&&g.o&&He(v,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=ea(me(v)),T.m=null,T.P=!0,Ki(T,g)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),zl(this),Te(19))};function po(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function nh(g,v){var T=null;if(g.g==v){po(g),la(g),g.g=null;var D=2}else if($s(g.h,v))T=v.D,zn(g.h,v),D=1;else return;if(g.G!=0){if(v.o)if(D==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=g.B;D=eo(),je(D,new Hu(D,T)),go(g)}else th(g);else if(W=v.s,W==3||W==0&&0<v.X||!(D==1&&sg(g,v)||D==2&&zl(g)))switch(T&&0<T.length&&(v=g.h,v.i=v.i.concat(T)),W){case 1:Ji(g,5);break;case 4:Ji(g,10);break;case 3:Ji(g,6);break;default:Ji(g,2)}}}function Ul(g,v){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*v}function Ji(g,v){if(g.j.info("Error code "+v),v==2){var T=b(g.fb,g),D=g.Xa;const W=!D;D=new Yi(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qs(D,"https"),ea(D),W?$u(D.toString(),T):na(D.toString(),T)}else Te(2);g.G=0,g.l&&g.l.sa(v),ih(g),Zu(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function ih(g){if(g.G=0,g.ka=[],g.l){const v=mn(g.h);(v.length!=0||g.i.length!=0)&&(A(g.ka,v),A(g.ka,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.ra()}}function sh(g,v,T){var D=T instanceof Yi?me(T):new Yi(T);if(D.g!="")v&&(D.g=v+"."+D.g),ta(D,D.s);else{var W=u.location;D=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Q=new Yi(null);D&&Qs(Q,D),v&&(Q.g=v),W&&ta(Q,W),T&&(Q.l=T),D=Q}return T=g.D,v=g.ya,T&&v&&Kt(D,T,v),Kt(D,"VER",g.la),oa(g,D),D}function rh(g,v,T){if(v&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=g.Ca&&!g.pa?new Xt(new Js({eb:T})):new Xt(g.pa),v.Ha(g.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}n=ah.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(g,v){return new yn(g,v)};function yn(g,v){Me.call(this),this.g=new ho(v),this.l=g,this.h=v&&v.messageUrlParams||null,g=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(g?g["X-WebChannel-Content-Type"]=v.messageContentType:g={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(g?g["X-WebChannel-Client-Profile"]=v.va:g={"X-WebChannel-Client-Profile":v.va}),this.g.S=g,(g=v&&v.Sb)&&!V(g)&&(this.g.m=g),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,g=this.h,g!==null&&v in g&&(g=this.h,v in g&&delete g[v])),this.j=new wi(this)}w(yn,Me),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ll(this.g)},yn.prototype.o=function(g){var v=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Sl(g),g=T);v.i.push(new Zd(v.Ya++,g)),v.G==3&&go(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,yn.aa.N.call(this)};function oh(g){Bs.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var v=g.__sm__;if(v){t:{for(const T in v){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,v=v!==null&&g in v?v[g]:void 0),this.data=v}else this.data=g}w(oh,Bs);function lh(){ii.call(this),this.status=1}w(lh,ii);function wi(g){this.g=g}w(wi,ah),wi.prototype.ua=function(){je(this.g,"a")},wi.prototype.ta=function(g){je(this.g,new oh(g))},wi.prototype.sa=function(g){je(this.g,new lh)},wi.prototype.ra=function(){je(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,hw=function(){return new mo},uw=function(){return eo()},cw=Vn,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Nf=Oe,Wi.COMPLETE="complete",lw=Wi,Fu.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Lc=Fu,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,ow=Xt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",RE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new xy("@firebase/firestore");function Go(){return ja.logLevel}function ft(n,...t){if(ja.logLevel<=Lt.DEBUG){const e=t.map(Vy);ja.debug(`Firestore (${ml}): ${n}`,...e)}}function ks(n,...t){if(ja.logLevel<=Lt.ERROR){const e=t.map(Vy);ja.error(`Firestore (${ml}): ${n}`,...e)}}function nl(n,...t){if(ja.logLevel<=Lt.WARN){const e=t.map(Vy);ja.warn(`Firestore (${ml}): ${n}`,...e)}}function Vy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n="Unexpected state"){const t=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: `+n;throw ks(t),new Error(t)}function Qt(n,t){n||xt()}function It(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ls{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(cn.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FO{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let o=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string"),new fw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string"),new cn(t)}}class HO{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qO{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new HO(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GO{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ti(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new CE(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Qt(typeof e.token=="string"),this.R=e.token,new CE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=WO(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Bt(n,t){return n<t?-1:n>t?1:0}function il(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-62135596800,DE=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*DE);return new Ue(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<IE)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-IE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ue(0,0))}static max(){return new Rt(new Ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class ki{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(),i===void 0?i=t.length-e:i>t.length-e&&xt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=ki.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Math.sign(t.length-e.length)}static compareSegments(t,e){const i=ki.isNumericId(t),s=ki.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?ki.extractNumericId(t).compare(ki.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class be extends ki{construct(t,e,i){return new be(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _t(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new be(e)}static emptyPath(){return new be([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ki{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return KO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new en([ME])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new _t(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new _t(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _t(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new _t(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(be.fromString(t))}static fromName(t){return new vt(be.fromString(t).popFirst(5))}static empty(){return new vt(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return be.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new be(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function YO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(i===1e9?new Ue(e+1,0):new Ue(e,i));return new zr(s,vt.empty(),t)}function $O(n){return new zr(n.readTime,n.key,au)}class zr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zr(Rt.min(),vt.empty(),au)}static max(){return new zr(Rt.max(),vt.empty(),au)}}function XO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Bt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==QO)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.reject(e)}static resolve(t){return new nt((e,i)=>{e(t)})}static reject(t){return new nt((e,i)=>{i(t)})}static waitFor(t){return new nt((e,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&e()},h=>i(h))}),l=!0,o===s&&e()})}static or(t){let e=nt.resolve(!1);for(const i of t)e=e.next(s=>s?nt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new nt((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const d=h;e(t[d]).next(m=>{l[d]=m,++u,u===o&&i(l)},m=>s(m))}})}static doWhile(t,e){return new nt((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}function JO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Md.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function Od(n){return n==null}function id(n){return n===0&&1/n==-1/0}function tk(n){return typeof n=="number"&&Number.isInteger(n)&&!id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="";function ek(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OE(t)),t=nk(n.get(e),t);return OE(t)}function nk(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case gw:e+="";break;default:e+=o}}return e}function OE(n){return n+gw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ka(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uf(this.root,t,this.comparator,!0)}}class uf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=s??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new tn(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return tn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,e,i,s,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(t){return new PE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Be(this.comparator);return e.data=t,e}}class PE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new ci([])}unionWith(t){let e=new Be(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ci(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mw("Invalid base64 string: "+o):o}}(t);return new nn(e)}static fromUint8Array(t){const e=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(n){if(Qt(!!n),typeof n=="string"){let t=0;const e=ik.exec(n);if(Qt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(n.seconds),nanos:we(n.nanos)}}function we(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Br(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="server_timestamp",_w="__type__",vw="__previous_value__",bw="__local_write_time__";function Uy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[_w])===null||e===void 0?void 0:e.stringValue)===yw}function kd(n){const t=n.mapValue.fields[vw];return Uy(t)?kd(t):t}function ou(n){const t=Ur(n.mapValue.fields[bw].timestampValue);return new Ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,e,i,s,o,l,u,h,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d}}const sd="(default)";class lu{constructor(t,e){this.projectId=t,this.database=e||sd}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===sd}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__type__",rk="__max__",hf={mapValue:{}},Tw="__vector__",rd="value";function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:ok(n)?9007199254740991:ak(n)?10:11:xt()}function Bi(n,t){if(n===t)return!0;const e=jr(n);if(e!==jr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ou(n).isEqual(ou(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Ur(s.timestampValue),u=Ur(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return Br(s.bytesValue).isEqual(Br(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return we(s.geoPointValue.latitude)===we(o.geoPointValue.latitude)&&we(s.geoPointValue.longitude)===we(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return we(s.integerValue)===we(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=we(s.doubleValue),u=we(o.doubleValue);return l===u?id(l)===id(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return il(n.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(kE(l)!==kE(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Bi(l[h],u[h])))return!1;return!0}(n,t);default:return xt()}}function cu(n,t){return(n.values||[]).find(e=>Bi(e,t))!==void 0}function sl(n,t){if(n===t)return 0;const e=jr(n),i=jr(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=we(o.integerValue||o.doubleValue),h=we(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return NE(n.timestampValue,t.timestampValue);case 4:return NE(ou(n),ou(t));case 5:return Bt(n.stringValue,t.stringValue);case 6:return function(o,l){const u=Br(o),h=Br(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const m=Bt(u[d],h[d]);if(m!==0)return m}return Bt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=Bt(we(o.latitude),we(l.latitude));return u!==0?u:Bt(we(o.longitude),we(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return LE(n.arrayValue,t.arrayValue);case 10:return function(o,l){var u,h,d,m;const _=o.fields||{},b=l.fields||{},E=(u=_[rd])===null||u===void 0?void 0:u.arrayValue,w=(h=b[rd])===null||h===void 0?void 0:h.arrayValue,x=Bt(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0);return x!==0?x:LE(E,w)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===hf.mapValue&&l===hf.mapValue)return 0;if(o===hf.mapValue)return 1;if(l===hf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),d=l.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const b=Bt(h[_],m[_]);if(b!==0)return b;const E=sl(u[h[_]],d[m[_]]);if(E!==0)return E}return Bt(h.length,m.length)}(n.mapValue,t.mapValue);default:throw xt()}}function NE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Bt(n,t);const e=Ur(n),i=Ur(t),s=Bt(e.seconds,i.seconds);return s!==0?s:Bt(e.nanos,i.nanos)}function LE(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=sl(e[s],i[s]);if(o)return o}return Bt(e.length,i.length)}function rl(n){return Fm(n)}function Fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ur(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Br(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return vt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=Fm(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Fm(e.fields[l])}`;return s+"}"}(n.mapValue):xt()}function Lf(n){switch(jr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kd(n);return t?16+Lf(t):16;case 5:return 2*n.stringValue.length;case 6:return Br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Lf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ka(i.fields,(o,l)=>{s+=o.length+Lf(l)}),s}(n.mapValue);default:throw xt()}}function Hm(n){return!!n&&"integerValue"in n}function By(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function zE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function ak(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ew])===null||e===void 0?void 0:e.stringValue)===Tw}function Wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ka(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Wc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ok(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.value=t}static empty(){return new ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Vf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wc(e)}setAll(t){let e=en.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=Wc(l):s.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());Vf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Vf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Ka(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new ei(Wc(this.value))}}function Sw(n){const t=[];return Ka(n.fields,(e,i)=>{const s=new en([e]);if(Vf(i)){const o=Sw(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new ci(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,i,s,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new un(t,0,Rt.min(),Rt.min(),Rt.min(),ei.empty(),0)}static newFoundDocument(t,e,i,s){return new un(t,1,e,Rt.min(),i,s,0)}static newNoDocument(t,e){return new un(t,2,e,Rt.min(),Rt.min(),ei.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,Rt.min(),Rt.min(),ei.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,e){this.position=t,this.inclusive=e}}function UE(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],l=n.position[s];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(l.referenceValue),e.key):i=sl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function BE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Bi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e="asc"){this.field=t,this.dir=e}}function lk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{}class Ve extends ww{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new uk(t,e,i):e==="array-contains"?new dk(t,i):e==="in"?new gk(t,i):e==="not-in"?new pk(t,i):e==="array-contains-any"?new mk(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new hk(t,i):new fk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(sl(e,this.value)):e!==null&&jr(this.value)===jr(e)&&this.matchesComparison(sl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends ww{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ji(t,e)}matches(t){return xw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xw(n){return n.op==="and"}function Aw(n){return ck(n)&&xw(n)}function ck(n){for(const t of n.filters)if(t instanceof ji)return!1;return!0}function qm(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(Aw(n))return n.filters.map(t=>qm(t)).join(",");{const t=n.filters.map(e=>qm(e)).join(",");return`${n.op}(${t})`}}function Rw(n,t){return n instanceof Ve?function(i,s){return s instanceof Ve&&i.op===s.op&&i.field.isEqual(s.field)&&Bi(i.value,s.value)}(n,t):n instanceof ji?function(i,s){return s instanceof ji&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&Rw(l,s.filters[u]),!0):!1}(n,t):void xt()}function Cw(n){return n instanceof Ve?function(e){return`${e.field.canonicalString()} ${e.op} ${rl(e.value)}`}(n):n instanceof ji?function(e){return e.op.toString()+" {"+e.getFilters().map(Cw).join(" ,")+"}"}(n):"Filter"}class uk extends Ve{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class hk extends Ve{constructor(t,e){super(t,"in",e),this.keys=Iw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fk extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=Iw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Iw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>vt.fromName(i.referenceValue))}class dk extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return By(e)&&cu(e.arrayValue,this.value)}}class gk extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&cu(this.value.arrayValue,e)}}class pk extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!cu(this.value.arrayValue,e)}}class mk extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!By(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>cu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t,e=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function jE(n,t=null,e=[],i=[],s=null,o=null,l=null){return new yk(n,t,e,i,s,o,l)}function jy(n){const t=It(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>qm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Od(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rl(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rl(i)).join(",")),t.le=e}return t.le}function Fy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Rw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BE(n.startAt,t.startAt)&&BE(n.endAt,t.endAt)}function Gm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,e=null,i=[],s=[],o=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _k(n,t,e,i,s,o,l,u){return new Pd(n,t,e,i,s,o,l,u)}function Hy(n){return new Pd(n)}function FE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vk(n){return n.collectionGroup!==null}function Kc(n){const t=It(n);if(t.he===null){t.he=[];const e=new Set;for(const o of t.explicitOrderBy)t.he.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Be(en.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.he.push(new od(o,i))}),e.has(en.keyField().canonicalString())||t.he.push(new od(en.keyField(),i))}return t.he}function Li(n){const t=It(n);return t.Pe||(t.Pe=bk(t,Kc(n))),t.Pe}function bk(n,t){if(n.limitType==="F")return jE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new od(s.field,o)});const e=n.endAt?new ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ad(n.startAt.position,n.startAt.inclusive):null;return jE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Wm(n,t,e){return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Nd(n,t){return Fy(Li(n),Li(t))&&n.limitType===t.limitType}function Dw(n){return`${jy(Li(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>Cw(s)).join(", ")}]`),Od(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>rl(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>rl(s)).join(",")),`Target(${i})`}(Li(n))}; limitType=${n.limitType})`}function Ld(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of Kc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const d=UE(l,u,h);return l.inclusive?d<=0:d<0}(i.startAt,Kc(i),s)||i.endAt&&!function(l,u,h){const d=UE(l,u,h);return l.inclusive?d>=0:d>0}(i.endAt,Kc(i),s))}(n,t)}function Ek(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mw(n){return(t,e)=>{let i=!1;for(const s of Kc(n)){const o=Tk(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function Tk(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):function(o,l,u){const h=l.data.field(o),d=u.data.field(o);return h!==null&&d!==null?sl(h,d):xt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ka(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new ge(vt.comparator);function Ps(){return Sk}const Ow=new ge(vt.comparator);function Vc(...n){let t=Ow;for(const e of n)t=t.insert(e.key,e);return t}function kw(n){let t=Ow;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Pa(){return Yc()}function Pw(){return Yc()}function Yc(){return new Ya(n=>n.toString(),(n,t)=>n.isEqual(t))}const wk=new ge(vt.comparator),xk=new Be(vt.comparator);function Vt(...n){let t=xk;for(const e of n)t=t.add(e);return t}const Ak=new Be(Bt);function Rk(){return Ak}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(t)?"-0":t}}function Nw(n){return{integerValue:""+n}}function Ck(n,t){return tk(t)?Nw(t):qy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function Ik(n,t,e){return n instanceof ld?function(s,o){const l={fields:{[_w]:{stringValue:yw},[bw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Uy(o)&&(o=kd(o)),o&&(l.fields[vw]=o),{mapValue:l}}(e,t):n instanceof uu?Vw(n,t):n instanceof hu?zw(n,t):function(s,o){const l=Lw(s,o),u=HE(l)+HE(s.Ie);return Hm(l)&&Hm(s.Ie)?Nw(u):qy(s.serializer,u)}(n,t)}function Dk(n,t,e){return n instanceof uu?Vw(n,t):n instanceof hu?zw(n,t):e}function Lw(n,t){return n instanceof cd?function(i){return Hm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class ld extends Vd{}class uu extends Vd{constructor(t){super(),this.elements=t}}function Vw(n,t){const e=Uw(t);for(const i of n.elements)e.some(s=>Bi(s,i))||e.push(i);return{arrayValue:{values:e}}}class hu extends Vd{constructor(t){super(),this.elements=t}}function zw(n,t){let e=Uw(t);for(const i of n.elements)e=e.filter(s=>!Bi(s,i));return{arrayValue:{values:e}}}class cd extends Vd{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function HE(n){return we(n.integerValue||n.doubleValue)}function Uw(n){return By(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Mk(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof uu&&s instanceof uu||i instanceof hu&&s instanceof hu?il(i.elements,s.elements,Bi):i instanceof cd&&s instanceof cd?Bi(i.Ie,s.Ie):i instanceof ld&&s instanceof ld}(n.transform,t.transform)}class Ok{constructor(t,e){this.version=t,this.transformResults=e}}class Ds{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ds}static exists(t){return new Ds(void 0,t)}static updateTime(t){return new Ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zd{}function Bw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Fw(n.key,Ds.none()):new ku(n.key,n.data,Ds.none());{const e=n.data,i=ei.empty();let s=new Be(en.comparator);for(let o of t.fields)if(!s.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new $a(n.key,i,new ci(s.toArray()),Ds.none())}}function kk(n,t,e){n instanceof ku?function(s,o,l){const u=s.value.clone(),h=GE(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof $a?function(s,o,l){if(!zf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=GE(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(jw(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function $c(n,t,e,i){return n instanceof ku?function(o,l,u,h){if(!zf(o.precondition,l))return u;const d=o.value.clone(),m=WE(o.fieldTransforms,h,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof $a?function(o,l,u,h){if(!zf(o.precondition,l))return u;const d=WE(o.fieldTransforms,h,l),m=l.data;return m.setAll(jw(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,l,u){return zf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function Pk(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=Lw(i.transform,s||null);o!=null&&(e===null&&(e=ei.empty()),e.set(i.field,o))}return e||null}function qE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&il(i,s,(o,l)=>Mk(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ku extends zd{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $a extends zd{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function GE(n,t,e){const i=new Map;Qt(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,Dk(l,u,e[s]))}return i}function WE(n,t,e){const i=new Map;for(const s of n){const o=s.transform,l=e.data.field(s.field);i.set(s.field,Ik(o,l,t))}return i}class Fw extends zd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends zd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&kk(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=$c(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=$c(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Pw();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(s.key)?null:u;const h=Bw(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,(e,i)=>qE(e,i))&&il(this.baseMutations,t.baseMutations,(e,i)=>qE(e,i))}}class Gy{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Qt(t.mutations.length===i.length);let s=function(){return wk}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Gy(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,qt;function Uk(n){switch(n){case at.OK:return xt();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return xt()}}function Hw(n){if(n===void 0)return ks("GRPC error has no .code"),at.UNKNOWN;switch(n){case De.OK:return at.OK;case De.CANCELLED:return at.CANCELLED;case De.UNKNOWN:return at.UNKNOWN;case De.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case De.INTERNAL:return at.INTERNAL;case De.UNAVAILABLE:return at.UNAVAILABLE;case De.UNAUTHENTICATED:return at.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case De.NOT_FOUND:return at.NOT_FOUND;case De.ALREADY_EXISTS:return at.ALREADY_EXISTS;case De.PERMISSION_DENIED:return at.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case De.ABORTED:return at.ABORTED;case De.OUT_OF_RANGE:return at.OUT_OF_RANGE;case De.UNIMPLEMENTED:return at.UNIMPLEMENTED;case De.DATA_LOSS:return at.DATA_LOSS;default:return xt()}}(qt=De||(De={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Pr([4294967295,4294967295],0);function KE(n){const t=Bk().encode(n),e=new aw;return e.update(t),new Uint8Array(e.digest())}function YE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pr([e,i],0),new Pr([s,o],0)]}class Wy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new zc(`Invalid padding: ${e}`);if(i<0)throw new zc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new zc(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Pr.fromNumber(this.Ee)}Ae(t,e,i){let s=t.add(e.multiply(Pr.fromNumber(i)));return s.compare(jk)===1&&(s=new Pr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=KE(t),[i,s]=YE(e);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);if(!this.Re(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Wy(o,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.Ee===0)return;const e=KE(t),[i,s]=YE(e);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);this.Ve(l)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Pu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ud(Rt.min(),s,new ge(Bt),Ps(),Vt())}}class Pu{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Pu(i,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e,i,s){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=s}}class qw{constructor(t,e){this.targetId=t,this.ge=e}}class Gw{constructor(t,e,i=nn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class $E{constructor(){this.pe=0,this.ye=XE(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),e=Vt(),i=Vt();return this.ye.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:xt()}}),new Pu(this.we,this.Se,t,e,i)}Me(){this.be=!1,this.ye=XE()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Fk{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ps(),this.$e=ff(),this.Ke=ff(),this.Ue=new ge(Bt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:xt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,s)=>{this.Je(s)&&e(s)})}Ze(t){const e=t.targetId,i=t.ge.count,s=this.Xe(e);if(s){const o=s.target;if(Gm(o))if(i===0){const l=new vt(o.path);this.ze(e,l,un.newNoDocument(l,Rt.min()))}else Qt(i===1);else{const l=this.et(e);if(l!==i){const u=this.tt(t),h=u?this.nt(u,t,l):1;if(h!==0){this.Ye(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,d)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let l,u;try{l=Br(i).toUint8Array()}catch(h){if(h instanceof mw)return nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Wy(l,s,o)}catch(h){return nl(h instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.ze(e,o,null),s++)}),s}ot(t){const e=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&Gm(u.target)){const h=new vt(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,un.newNoDocument(h,t))}o.ve&&(e.set(l,o.Fe()),o.Me())}});let i=Vt();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const d=this.Xe(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(t));const s=new Ud(t,e,this.Ue,this.Qe,i);return this.Qe=Ps(),this.$e=ff(),this.Ke=ff(),this.Ue=new ge(Bt),s}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,e)?s.xe(e,1):s.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new $E,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new Be(Bt),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Be(Bt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new $E),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function ff(){return new ge(vt.comparator)}function XE(){return new ge(vt.comparator)}const Hk={asc:"ASCENDING",desc:"DESCENDING"},qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Wk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Km(n,t){return n.useProto3Json||Od(t)?t:{value:t}}function ud(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ww(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Kk(n,t){return ud(n,t.toTimestamp())}function Vi(n){return Qt(!!n),Rt.fromTimestamp(function(e){const i=Ur(e);return new Ue(i.seconds,i.nanos)}(n))}function Ky(n,t){return Ym(n,t).canonicalString()}function Ym(n,t){const e=function(s){return new be(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Kw(n){const t=be.fromString(n);return Qt(Zw(t)),t}function $m(n,t){return Ky(n.databaseId,t.path)}function cm(n,t){const e=Kw(t);if(e.get(1)!==n.databaseId.projectId)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt($w(e))}function Yw(n,t){return Ky(n.databaseId,t)}function Yk(n){const t=Kw(n);return t.length===4?be.emptyPath():$w(t)}function Xm(n){return new be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $w(n){return Qt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function QE(n,t,e){return{name:$m(n,t),fields:e.value.mapValue.fields}}function $k(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(Qt(m===void 0||typeof m=="string"),nn.fromBase64String(m||"")):(Qt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),nn.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(d){const m=d.code===void 0?at.UNKNOWN:Hw(d.code);return new _t(m,d.message||"")}(l);e=new Gw(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=cm(n,i.document.name),o=Vi(i.document.updateTime),l=i.document.createTime?Vi(i.document.createTime):Rt.min(),u=new ei({mapValue:{fields:i.document.fields}}),h=un.newFoundDocument(s,o,l,u),d=i.targetIds||[],m=i.removedTargetIds||[];e=new Uf(d,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=cm(n,i.document),o=i.readTime?Vi(i.readTime):Rt.min(),l=un.newNoDocument(s,o),u=i.removedTargetIds||[];e=new Uf([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=cm(n,i.document),o=i.removedTargetIds||[];e=new Uf([],o,s,null)}else{if(!("filter"in t))return xt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new zk(s,o),u=i.targetId;e=new qw(u,l)}}return e}function Xk(n,t){let e;if(t instanceof ku)e={update:QE(n,t.key,t.value)};else if(t instanceof Fw)e={delete:$m(n,t.key)};else if(t instanceof $a)e={update:QE(n,t.key,t.data),updateMask:rP(t.fieldMask)};else{if(!(t instanceof Nk))return xt();e={verify:$m(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof ld)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof cd)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw xt()}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Kk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt()}(n,t.precondition)),e}function Qk(n,t){return n&&n.length>0?(Qt(t!==void 0),n.map(e=>function(s,o){let l=s.updateTime?Vi(s.updateTime):Vi(o);return l.isEqual(Rt.min())&&(l=Vi(o)),new Ok(l,s.transformResults||[])}(e,t))):[]}function Zk(n,t){return{documents:[Yw(n,t.path)]}}function Jk(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Yw(n,s);const o=function(d){if(d.length!==0)return Qw(ji.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(m=>function(b){return{field:Ko(b.field),direction:nP(b.dir)}}(m))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Km(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:e,parent:s}}function tP(n){let t=Yk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Qt(i===1);const m=e.from[0];m.allDescendants?s=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=function(_){const b=Xw(_);return b instanceof ji&&Aw(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(_){return _.map(b=>function(w){return new od(Yo(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(e.orderBy));let u=null;e.limit&&(u=function(_){let b;return b=typeof _=="object"?_.value:_,Od(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(_){const b=!!_.before,E=_.values||[];return new ad(E,b)}(e.startAt));let d=null;return e.endAt&&(d=function(_){const b=!_.before,E=_.values||[];return new ad(E,b)}(e.endAt)),_k(t,s,l,o,u,"F",h,d)}function eP(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Xw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Yo(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(e.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yo(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yo(e.unaryFilter.field);return Ve.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(n):n.fieldFilter!==void 0?function(e){return Ve.create(Yo(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ji.create(e.compositeFilter.filters.map(i=>Xw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(n):xt()}function nP(n){return Hk[n]}function iP(n){return qk[n]}function sP(n){return Gk[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Yo(n){return en.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof Ve?function(e){if(e.op==="=="){if(zE(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NAN"}};if(VE(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zE(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NAN"}};if(VE(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(e.field),op:iP(e.op),value:e.value}}}(n):n instanceof ji?function(e){const i=e.getFilters().map(s=>Qw(s));return i.length===1?i[0]:{compositeFilter:{op:sP(e.op),filters:i}}}(n):xt()}function rP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Zw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,e,i,s,o=Rt.min(),l=Rt.min(),u=nn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t){this.Tt=t}}function oP(n){const t=tP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Tn=new cP}addToCollectionParentIndex(t,e){return this.Tn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(zr.min())}updateCollectionGroup(t,e,i){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class cP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Be(be.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Be(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jw=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(Jw,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new al(0)}static Un(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",uP=1048576;function tT([n,t],[e,i]){const s=Bt(n,e);return s===0?Bt(t,i):s}class hP{constructor(t){this.Hn=t,this.buffer=new Be(tT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();tT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(JE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_l(e)?ft(JE,"Ignoring IndexedDB error during garbage collection: ",e):await yl(e)}await this.er(3e5)})}}class dP{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(Md.ae);const i=new hP(e);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(ZE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,s,o,l,u,h,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(t,s))).next(_=>(i=_,u=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(d=Date.now(),Go()<=Lt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function gP(n,t){return new dP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.changes=new Ya(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?nt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&$c(i.mutation,s,ci.empty(),Ue.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const s=Pa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let l=Vc();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Pa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let o=Ps();const l=Yc(),u=function(){return Yc()}();return e.forEach((h,d)=>{const m=i.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof $a)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),$c(m.mutation,d,m.mutation.getFieldMask(),Ue.now())):l.set(d.key,ci.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((d,m)=>l.set(d,m)),e.forEach((d,m)=>{var _;return u.set(d,new mP(m,(_=l.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,e){const i=Yc();let s=new ge((l,u)=>l-u),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let m=i.get(h)||ci.empty();m=u.applyToLocalView(d,m),i.set(h,m);const _=(s.get(u.batchId)||Vt()).add(h);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,_=Pw();m.forEach(b=>{if(!o.has(b)){const E=Bw(e.get(b),i.get(b));E!==null&&_.set(b,E),o=o.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return nt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):vk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):nt.resolve(Pa());let u=au,h=o;return l.next(d=>nt.forEach(d,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?nt.resolve():this.remoteDocumentCache.getEntry(t,m).next(b=>{h=h.insert(m,b)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,h,d,Vt())).next(m=>({batchId:u,changes:kw(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next(i=>{let s=Vc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let l=Vc();return this.indexManager.getCollectionParents(t,o).next(u=>nt.forEach(u,h=>{const d=function(_,b){return new Pd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(m=>{m.forEach((_,b)=>{l=l.insert(_,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(l=>{o.forEach((h,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,un.newInvalidDocument(m)))});let u=Vc();return l.forEach((h,d)=>{const m=o.get(h);m!==void 0&&$c(m.mutation,d,ci.empty(),Ue.now()),Ld(e,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return nt.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Vi(s.createTime)}}(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(s){return{name:s.name,query:oP(s.bundledQuery),readTime:Vi(s.readTime)}}(e)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.overlays=new ge(vt.comparator),this.Rr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Pa();return nt.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.Et(t,e,o)}),nt.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),nt.resolve()}getOverlaysForCollection(t,e,i){const s=Pa(),o=e.length+1,l=new vt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return nt.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new ge((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=Pa(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Pa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=s)););return nt.resolve(u)}Et(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Vk(e,i));let o=this.Rr.get(e);o===void 0&&(o=Vt(),this.Rr.set(e,o)),this.Rr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Vr=new Be(Ye.mr),this.gr=new Be(Ye.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new Ye(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new Ye(t,e))}Sr(t,e){t.forEach(i=>this.removeReference(i,e))}br(t){const e=new vt(new be([])),i=new Ye(e,t),s=new Ye(e,t+1),o=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new vt(new be([])),i=new Ye(e,t),s=new Ye(e,t+1);let o=Vt();return this.gr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new Ye(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ye{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return vt.comparator(t.key,e.key)||Bt(t.Cr,e.Cr)}static pr(t,e){return Bt(t.Cr,e.Cr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Be(Ye.mr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lk(o,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Mr=this.Mr.add(new Ye(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return nt.resolve(l)}lookupMutationBatch(t,e){return nt.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Nr(i),o=s<0?0:s;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?zy:this.Fr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ye(e,0),s=new Ye(e,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],l=>{const u=this.Or(l.Cr);o.push(u)}),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Be(Bt);return e.forEach(s=>{const o=new Ye(s,0),l=new Ye(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{i=i.add(u.Cr)})}),nt.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const l=new Ye(new vt(o),0);let u=new Be(Bt);return this.Mr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.Cr)),!0)},l),nt.resolve(this.Br(u))}Br(t){const e=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Qt(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return nt.forEach(e.mutations,s=>{const o=new Ye(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new Ye(e,0),s=this.Mr.firstAfterOrEqual(i);return nt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.kr=t,this.docs=function(){return new ge(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,l=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return nt.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=Ps();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():un.newInvalidDocument(s))}),nt.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=Ps();const l=e.path,u=new vt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||XO($O(m),i)<=0||(s.has(m.key)||Ld(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(t,e,i,s){xt()}qr(t,e){return nt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new SP(this)}getSize(t){return nt.resolve(this.size)}}class SP extends pP{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),nt.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t){this.persistence=t,this.Qr=new Ya(e=>jy(e),Fy),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Yy,this.targetCount=0,this.Ur=al.Kn()}forEachTarget(t,e){return this.Qr.forEach((i,s)=>e(s)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),nt.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new al(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.zn(e),nt.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.br(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),nt.waitFor(o).next(()=>s)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return nt.resolve(i)}addMatchingKeys(t,e,i){return this.Kr.yr(e,i),nt.resolve()}removeMatchingKeys(t,e,i){this.Kr.Sr(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),nt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Kr.br(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Kr.vr(e);return nt.resolve(i)}containsKey(t,e){return nt.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Md(0),this.zr=!1,this.zr=!0,this.jr=new bP,this.referenceDelegate=t(this),this.Hr=new wP(this),this.indexManager=new lP,this.remoteDocumentCache=function(s){return new TP(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new aP(e),this.Yr=new _P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new vP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new EP(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const s=new xP(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(t,e){return nt.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class xP extends ZO{constructor(t){super(),this.currentSequenceNumber=t}}class $y{constructor(t){this.persistence=t,this.ti=new Yy,this.ni=null}static ri(t){return new $y(t)}get ii(){if(this.ni)return this.ni;throw xt()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),nt.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),nt.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.ii,i=>{const s=vt.fromPath(i);return this.si(t,s).next(o=>{o||e.removeEntry(s,Rt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return nt.or([()=>nt.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class hd{constructor(t,e){this.persistence=t,this.oi=new Ya(i=>ek(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=gP(this,e)}static ri(t,e){return new hd(t,e)}Zr(){}Xr(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return nt.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(o=>o?nt.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Rt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),nt.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Lf(t.data.value)),e}ar(t,e,i){return nt.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.oi.get(e);return nt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=s}static Yi(t,e){let i=Vt(),s=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Xy(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lI()?8:JO(fn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.rs(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(t,e,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new AP;return this._s(t,e,l).next(u=>{if(o.result=u,this.Xi)return this.us(t,e,l,u.size)})}).next(()=>o.result)}us(t,e,i,s){return i.documentReadCount<this.es?(Go()<=Lt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),nt.resolve()):(Go()<=Lt.DEBUG&&ft("QueryEngine","Query:",Wo(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Go()<=Lt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(e))):nt.resolve())}rs(t,e){if(FE(e))return nt.resolve(null);let i=Li(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=Wm(e,null,"F"),i=Li(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=Vt(...o);return this.ns.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.cs(e,u);return this.ls(e,d,l,h.readTime)?this.rs(t,Wm(e,null,"F")):this.hs(t,d,e,h)}))})))}ss(t,e,i,s){return FE(e)||s.isEqual(Rt.min())?nt.resolve(null):this.ns.getDocuments(t,i).next(o=>{const l=this.cs(e,o);return this.ls(e,l,i,s)?nt.resolve(null):(Go()<=Lt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wo(e)),this.hs(t,l,e,YO(s,au)).next(u=>u))})}cs(t,e){let i=new Be(Mw(t));return e.forEach((s,o)=>{Ld(t,o)&&(i=i.add(o))}),i}ls(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(t,e,i){return Go()<=Lt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Wo(e)),this.ns.getDocumentsMatchingQuery(t,e,zr.min(),i)}hs(t,e,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",CP=3e8;class IP{constructor(t,e,i,s){this.persistence=t,this.Ps=e,this.serializer=s,this.Ts=new ge(Bt),this.Is=new Ya(o=>jy(o),Fy),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function DP(n,t,e,i){return new IP(n,t,e,i)}async function ex(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=Vt();for(const d of s){l.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(i,h).next(d=>({Rs:d,removedBatchIds:l,addedBatchIds:u}))})})}function MP(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,d,m){const _=d.batch,b=_.keys();let E=nt.resolve();return b.forEach(w=>{E=E.next(()=>m.getEntry(h,w)).next(x=>{const A=d.docVersions.get(w);Qt(A!==null),x.version.compareTo(A)<0&&(_.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),m.addEntry(x)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Vt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function nx(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function OP(n,t){const e=It(n),i=t.snapshotVersion;let s=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.ds.newChangeBuffer({trackRemovals:!0});s=e.Ts;const u=[];t.targetChanges.forEach((m,_)=>{const b=s.get(_);if(!b)return;u.push(e.Hr.removeMatchingKeys(o,m.removedDocuments,_).next(()=>e.Hr.addMatchingKeys(o,m.addedDocuments,_)));let E=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(nn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),s=s.insert(_,E),function(x,A,O){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=CP?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(b,E,m)&&u.push(e.Hr.updateTargetData(o,E))});let h=Ps(),d=Vt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(kP(o,l,t.documentUpdates).next(m=>{h=m.Vs,d=m.fs})),!i.isEqual(Rt.min())){const m=e.Hr.getLastRemoteSnapshotVersion(o).next(_=>e.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return nt.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(e.Ts=s,o))}function kP(n,t,e){let i=Vt(),s=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=Ps();return e.forEach((u,h)=>{const d=o.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Rt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):ft(Qy,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function PP(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=zy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function NP(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Hr.getTargetData(i,t).next(o=>o?(s=o,nt.resolve(s)):e.Hr.allocateTargetId(i).next(l=>(s=new Ar(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function Qm(n,t,e){const i=It(n),s=i.Ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!_l(l))throw l;ft(Qy,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function eT(n,t,e){const i=It(n);let s=Rt.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,m){const _=It(h),b=_.Is.get(m);return b!==void 0?nt.resolve(_.Ts.get(b)):_.Hr.getTargetData(d,m)}(i,l,Li(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,e?s:Rt.min(),e?o:Vt())).next(u=>(LP(i,Ek(t),u),{documents:u,gs:o})))}function LP(n,t,e){let i=n.Es.get(t)||Rt.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(t,i)}class nT{constructor(){this.activeTargetIds=Rk()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VP{constructor(){this.ho=new nT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new nT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="ConnectivityMonitor";class sT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(iT,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(iT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function Zm(){return df===null?df=function(){return 268435456+Math.round(2147483648*Math.random())}():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",UP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BP{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===sd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(t,e,i,s,o){const l=Zm(),u=this.bo(t,e.toUriEncodedString());ft(um,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,o),this.vo(t,u,h,i).then(d=>(ft(um,`Received RPC '${t}' ${l}: `,d),d),d=>{throw nl(um,`RPC '${t}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Co(t,e,i,s,o,l){return this.So(t,e,i,s,o)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,e){const i=UP[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class FP extends BP{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,s){const o=Zm();return new Promise((l,u)=>{const h=new ow;h.setWithCredentials(!0),h.listenOnce(lw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Nf.NO_ERROR:const m=h.getResponseJson();ft(on,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(m)),l(m);break;case Nf.TIMEOUT:ft(on,`RPC '${t}' ${o} timed out`),u(new _t(at.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const _=h.getStatus();if(ft(on,`RPC '${t}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const w=function(A){const O=A.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(O)>=0?O:at.UNKNOWN}(E.status);u(new _t(w,E.message))}else u(new _t(at.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new _t(at.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{ft(on,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(s);ft(on,`RPC '${t}' ${o} sending request:`,s),h.send(e,"POST",d,i,15)})}Wo(t,e,i){const s=Zm(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=hw(),u=uw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ft(on,`Creating RPC '${t}' stream ${s}: ${m}`,h);const _=l.createWebChannel(m,h);let b=!1,E=!1;const w=new jP({Fo:A=>{E?ft(on,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(b||(ft(on,`Opening RPC '${t}' stream ${s} transport.`),_.open(),b=!0),ft(on,`RPC '${t}' stream ${s} sending:`,A),_.send(A))},Mo:()=>_.close()}),x=(A,O,V)=>{A.listen(O,B=>{try{V(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return x(_,Lc.EventType.OPEN,()=>{E||(ft(on,`RPC '${t}' stream ${s} transport opened.`),w.Qo())}),x(_,Lc.EventType.CLOSE,()=>{E||(E=!0,ft(on,`RPC '${t}' stream ${s} transport closed`),w.Ko())}),x(_,Lc.EventType.ERROR,A=>{E||(E=!0,nl(on,`RPC '${t}' stream ${s} transport errored:`,A),w.Ko(new _t(at.UNAVAILABLE,"The operation could not be completed")))}),x(_,Lc.EventType.MESSAGE,A=>{var O;if(!E){const V=A.data[0];Qt(!!V);const B=V,Y=(B==null?void 0:B.error)||((O=B[0])===null||O===void 0?void 0:O.error);if(Y){ft(on,`RPC '${t}' stream ${s} received error:`,Y);const H=Y.status;let Z=function(C){const k=De[C];if(k!==void 0)return Hw(k)}(H),M=Y.message;Z===void 0&&(Z=at.INTERNAL,M="Unknown error status: "+H+" with message "+Y.message),E=!0,w.Ko(new _t(Z,M)),_.close()}else ft(on,`RPC '${t}' stream ${s} received:`,V),w.Uo(V)}}),x(u,cw.STAT_EVENT,A=>{A.stat===jm.PROXY?ft(on,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===jm.NOPROXY&&ft(on,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n){return new Wk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,e-i);s>0&&ft("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class sx{constructor(t,e,i,s,o,l,u,h){this.Ti=t,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ix(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(ks(e.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===e&&this.V_(i,s)},i=>{t(()=>{const s=new _t(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ft(rT,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(ft(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HP extends sx{constructor(t,e,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=$k(this.serializer,t),i=function(o){if(!("targetChange"in o))return Rt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?Vi(l.readTime):Rt.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=Xm(this.serializer),e.addTarget=function(o,l){let u;const h=l.target;if(u=Gm(h)?{documents:Zk(o,h)}:{query:Jk(o,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Ww(o,l.resumeToken);const d=Km(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Rt.min())>0){u.readTime=ud(o,l.snapshotVersion.toTimestamp());const d=Km(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=eP(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=Xm(this.serializer),e.removeTarget=t,this.I_(e)}}class qP extends sx{constructor(t,e,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=Qk(t.writeResults,t.commitTime),i=Vi(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=Xm(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Xk(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{}class WP extends GP{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(t,Ym(e,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _t(at.UNKNOWN,o.toString())})}Co(t,e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(t,Ym(e,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(at.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ks(e),this.N_=!1):ft("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class YP{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{i.enqueueAndForget(async()=>{Xa(this)&&(ft(Fa,"Restarting streams for network reachability change."),await async function(h){const d=It(h);d.W_.add(4),await Nu(d),d.j_.set("Unknown"),d.W_.delete(4),await jd(d)}(this))})}),this.j_=new KP(i,s)}}async function jd(n){if(Xa(n))for(const t of n.G_)await t(!0)}async function Nu(n){for(const t of n.G_)await t(!1)}function rx(n,t){const e=It(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),e_(e)?t_(e):vl(e).c_()&&Jy(e,t))}function Zy(n,t){const e=It(n),i=vl(e);e.U_.delete(t),i.c_()&&ax(e,t),e.U_.size===0&&(i.c_()?i.P_():Xa(e)&&e.j_.set("Unknown"))}function Jy(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(n).y_(t)}function ax(n,t){n.H_.Ne(t),vl(n).w_(t)}function t_(n){n.H_=new Fk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.j_.B_()}function e_(n){return Xa(n)&&!vl(n).u_()&&n.U_.size>0}function Xa(n){return It(n).W_.size===0}function ox(n){n.H_=void 0}async function $P(n){n.j_.set("Online")}async function XP(n){n.U_.forEach((t,e)=>{Jy(n,t)})}async function QP(n,t){ox(n),e_(n)?(n.j_.q_(t),t_(n)):n.j_.set("Unknown")}async function ZP(n,t,e){if(n.j_.set("Online"),t instanceof Gw&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.U_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.U_.delete(u),s.H_.removeTarget(u))}(n,t)}catch(i){ft(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await fd(n,i)}else if(t instanceof Uf?n.H_.We(t):t instanceof qw?n.H_.Ze(t):n.H_.je(t),!e.isEqual(Rt.min()))try{const i=await nx(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.U_.get(d);m&&o.U_.set(d,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const m=o.U_.get(h);if(!m)return;o.U_.set(h,m.withResumeToken(nn.EMPTY_BYTE_STRING,m.snapshotVersion)),ax(o,h);const _=new Ar(m.target,h,d,m.sequenceNumber);Jy(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){ft(Fa,"Failed to raise snapshot:",i),await fd(n,i)}}async function fd(n,t,e){if(!_l(t))throw t;n.W_.add(1),await Nu(n),n.j_.set("Offline"),e||(e=()=>nx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(Fa,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await jd(n)})}function lx(n,t){return t().catch(e=>fd(n,e,t))}async function Fd(n){const t=It(n),e=Fr(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:zy;for(;JP(t);)try{const s=await PP(t.localStore,i);if(s===null){t.K_.length===0&&e.P_();break}i=s.batchId,t4(t,s)}catch(s){await fd(t,s)}cx(t)&&ux(t)}function JP(n){return Xa(n)&&n.K_.length<10}function t4(n,t){n.K_.push(t);const e=Fr(n);e.c_()&&e.S_&&e.b_(t.mutations)}function cx(n){return Xa(n)&&!Fr(n).u_()&&n.K_.length>0}function ux(n){Fr(n).start()}async function e4(n){Fr(n).C_()}async function n4(n){const t=Fr(n);for(const e of n.K_)t.b_(e.mutations)}async function i4(n,t,e){const i=n.K_.shift(),s=Gy.from(i,t,e);await lx(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Fd(n)}async function s4(n,t){t&&Fr(n).S_&&await async function(i,s){if(function(l){return Uk(l)&&l!==at.ABORTED}(s.code)){const o=i.K_.shift();Fr(i).h_(),await lx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Fd(i)}}(n,t),cx(n)&&ux(n)}async function aT(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),ft(Fa,"RemoteStore received new credentials");const i=Xa(e);e.W_.add(3),await Nu(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await jd(e)}async function r4(n,t){const e=It(n);t?(e.W_.delete(2),await jd(e)):t||(e.W_.add(2),await Nu(e),e.j_.set("Unknown"))}function vl(n){return n.J_||(n.J_=function(e,i,s){const o=It(e);return o.M_(),new HP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:$P.bind(null,n),No:XP.bind(null,n),Lo:QP.bind(null,n),p_:ZP.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),e_(n)?t_(n):n.j_.set("Unknown")):(await n.J_.stop(),ox(n))})),n.J_}function Fr(n){return n.Y_||(n.Y_=function(e,i,s){const o=It(e);return o.M_(),new qP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:e4.bind(null,n),Lo:s4.bind(null,n),D_:n4.bind(null,n),v_:i4.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Fd(n)):(await n.Y_.stop(),n.K_.length>0&&(ft(Fa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const l=Date.now()+i,u=new n_(t,e,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i_(n,t){if(ks("AsyncQueue",`${t}: ${n}`),_l(n))return new _t(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=Vc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Z_=new ge(vt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):xt():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class ol{constructor(t,e,i,s,o,l,u,h,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new ol(t,e,Jo.emptySet(e),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class o4{constructor(){this.queries=lT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const s=It(e),o=s.queries;s.queries=lT(),o.forEach((l,u)=>{for(const h of u.ta)h.onError(i)})})(this,new _t(at.ABORTED,"Firestore shutting down"))}}function lT(){return new Ya(n=>Dw(n),Nd)}async function l4(n,t){const e=It(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.na()&&t.ra()&&(i=2):(o=new a4,i=t.ra()?0:1);try{switch(i){case 0:o.ea=await e.onListen(s,!0);break;case 1:o.ea=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=i_(l,`Initialization of query '${Wo(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,o),o.ta.push(t),t.sa(e.onlineState),o.ea&&t.oa(o.ea)&&s_(e)}async function c4(n,t){const e=It(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const l=o.ta.indexOf(t);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=t.ra()?0:1:!o.na()&&t.ra()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function u4(n,t){const e=It(n);let i=!1;for(const s of t){const o=s.query,l=e.queries.get(o);if(l){for(const u of l.ta)u.oa(s)&&(i=!0);l.ea=s}}i&&s_(e)}function h4(n,t,e){const i=It(n),s=i.queries.get(t);if(s)for(const o of s.ta)o.onError(e);i.queries.delete(t)}function s_(n){n.ia.forEach(t=>{t.next()})}var Jm,cT;(cT=Jm||(Jm={}))._a="default",cT.Cache="cache";class f4{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ol(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t){this.key=t}}class fx{constructor(t){this.key=t}}class d4{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=Mw(t),this.wa=new Jo(this.ya)}get Sa(){return this.fa}ba(t,e){const i=e?e.Da:new oT,s=e?e.wa:this.wa;let o=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((m,_)=>{const b=s.get(m),E=Ld(this.query,_)?_:null,w=!!b&&this.mutatedKeys.has(b.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;b&&E?b.data.isEqual(E.data)?w!==x&&(i.track({type:3,doc:E}),A=!0):this.va(b,E)||(i.track({type:2,doc:E}),A=!0,(h&&this.ya(E,h)>0||d&&this.ya(E,d)<0)&&(u=!0)):!b&&E?(i.track({type:0,doc:E}),A=!0):b&&!E&&(i.track({type:1,doc:b}),A=!0,(h||d)&&(u=!0)),A&&(E?(l=l.add(E),o=x?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{wa:l,Da:i,ls:u,mutatedKeys:o}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((m,_)=>function(E,w){const x=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return x(E)-x(w)}(m.type,_.type)||this.ya(m.doc,_.doc)),this.Ca(i),s=s!=null&&s;const u=e&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,d=h!==this.ga;return this.ga=h,l.length!==0||d?{snapshot:new ol(this.query,t.wa,o,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new fx(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new hx(i))}),e}Oa(t){this.fa=t.gs,this.pa=Vt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return ol.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const r_="SyncEngine";class g4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class p4{constructor(t){this.key=t,this.Ba=!1}}class m4{constructor(t,e,i,s,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ya(u=>Dw(u),Nd),this.qa=new Map,this.Qa=new Set,this.$a=new ge(vt.comparator),this.Ka=new Map,this.Ua=new Yy,this.Wa={},this.Ga=new Map,this.za=al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function y4(n,t,e=!0){const i=_x(n);let s;const o=i.ka.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await dx(i,t,e,!0),s}async function _4(n,t){const e=_x(n);await dx(e,t,!0,!1)}async function dx(n,t,e,i){const s=await NP(n.localStore,Li(t)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await v4(n,t,o,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&rx(n.remoteStore,s),u}async function v4(n,t,e,i,s){n.Ha=(_,b,E)=>async function(x,A,O,V){let B=A.view.ba(O);B.ls&&(B=await eT(x.localStore,A.query,!1).then(({documents:M})=>A.view.ba(M,B)));const Y=V&&V.targetChanges.get(A.targetId),H=V&&V.targetMismatches.get(A.targetId)!=null,Z=A.view.applyChanges(B,x.isPrimaryClient,Y,H);return hT(x,A.targetId,Z.Ma),Z.snapshot}(n,_,b,E);const o=await eT(n.localStore,t,!0),l=new d4(t,o.gs),u=l.ba(o.documents),h=Pu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=l.applyChanges(u,n.isPrimaryClient,h);hT(n,e,d.Ma);const m=new g4(t,e,l);return n.ka.set(t,m),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),d.snapshot}async function b4(n,t,e){const i=It(n),s=i.ka.get(t),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(l=>!Nd(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Qm(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&Zy(i.remoteStore,s.targetId),ty(i,s.targetId)}).catch(yl)):(ty(i,s.targetId),await Qm(i.localStore,s.targetId,!0))}async function E4(n,t){const e=It(n),i=e.ka.get(t),s=e.qa.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Zy(e.remoteStore,i.targetId))}async function T4(n,t,e){const i=I4(n);try{const s=await function(l,u){const h=It(l),d=Ue.now(),m=u.reduce((E,w)=>E.add(w.key),Vt());let _,b;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=Ps(),x=Vt();return h.ds.getEntries(E,m).next(A=>{w=A,w.forEach((O,V)=>{V.isValidDocument()||(x=x.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,w)).next(A=>{_=A;const O=[];for(const V of u){const B=Pk(V,_.get(V.key).overlayedDocument);B!=null&&O.push(new $a(V.key,B,Sw(B.value.mapValue),Ds.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,O,u)}).next(A=>{b=A;const O=A.applyToLocalDocumentSet(_,x);return h.documentOverlayCache.saveOverlays(E,A.batchId,O)})}).then(()=>({batchId:b.batchId,changes:kw(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let d=l.Wa[l.currentUser.toKey()];d||(d=new ge(Bt)),d=d.insert(u,h),l.Wa[l.currentUser.toKey()]=d}(i,s.batchId,e),await Lu(i,s.changes),await Fd(i.remoteStore)}catch(s){const o=i_(s,"Failed to persist write");e.reject(o)}}async function gx(n,t){const e=It(n);try{const i=await OP(e.localStore,t);t.targetChanges.forEach((s,o)=>{const l=e.Ka.get(o);l&&(Qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Qt(l.Ba):s.removedDocuments.size>0&&(Qt(l.Ba),l.Ba=!1))}),await Lu(e,i,t)}catch(i){await yl(i)}}function uT(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ka.forEach((o,l)=>{const u=l.view.sa(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=It(l);h.onlineState=u;let d=!1;h.queries.forEach((m,_)=>{for(const b of _.ta)b.sa(u)&&(d=!0)}),d&&s_(h)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function S4(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Ka.get(t),o=s&&s.key;if(o){let l=new ge(vt.comparator);l=l.insert(o,un.newNoDocument(o,Rt.min()));const u=Vt().add(o),h=new Ud(Rt.min(),new Map,new ge(Bt),l,u);await gx(i,h),i.$a=i.$a.remove(o),i.Ka.delete(t),a_(i)}else await Qm(i.localStore,t,!1).then(()=>ty(i,t,e)).catch(yl)}async function w4(n,t){const e=It(n),i=t.batch.batchId;try{const s=await MP(e.localStore,t);mx(e,i,null),px(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(e,s)}catch(s){await yl(s)}}async function x4(n,t,e){const i=It(n);try{const s=await function(l,u){const h=It(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,u).next(_=>(Qt(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(i.localStore,t);mx(i,t,e),px(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Lu(i,s)}catch(s){await yl(s)}}function px(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function mx(n,t,e){const i=It(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function ty(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.br(t).forEach(i=>{n.Ua.containsKey(i)||yx(n,i)})}function yx(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(Zy(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),a_(n))}function hT(n,t,e){for(const i of e)i instanceof hx?(n.Ua.addReference(i.key,t),A4(n,i)):i instanceof fx?(ft(r_,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,t),n.Ua.containsKey(i.key)||yx(n,i.key)):xt()}function A4(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(ft(r_,"New document in limbo: "+e),n.Qa.add(i),a_(n))}function a_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new vt(be.fromString(t)),i=n.za.next();n.Ka.set(i,new p4(e)),n.$a=n.$a.insert(e,i),rx(n.remoteStore,new Ar(Li(Hy(e.path)),i,"TargetPurposeLimboResolution",Md.ae))}}async function Lu(n,t,e){const i=It(n),s=[],o=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,h)=>{l.push(i.Ha(h,t,e).then(d=>{var m;if((d||e)&&i.isPrimaryClient){const _=d?!d.fromCache:(m=e==null?void 0:e.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=Xy.Yi(h.targetId,d);o.push(_)}}))}),await Promise.all(l),i.La.p_(s),await async function(h,d){const m=It(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(d,b=>nt.forEach(b.Hi,E=>m.persistence.referenceDelegate.addReference(_,b.targetId,E)).next(()=>nt.forEach(b.Ji,E=>m.persistence.referenceDelegate.removeReference(_,b.targetId,E)))))}catch(_){if(!_l(_))throw _;ft(Qy,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const E=m.Ts.get(b),w=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(w);m.Ts=m.Ts.insert(b,x)}}}(i.localStore,o))}async function R4(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){ft(r_,"User change. New user:",t.toKey());const i=await ex(e.localStore,t);e.currentUser=t,function(o,l){o.Ga.forEach(u=>{u.forEach(h=>{h.reject(new _t(at.CANCELLED,l))})}),o.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Lu(e,i.Rs)}}function C4(n,t){const e=It(n),i=e.Ka.get(t);if(i&&i.Ba)return Vt().add(i.key);{let s=Vt();const o=e.qa.get(t);if(!o)return s;for(const l of o){const u=e.ka.get(l);s=s.unionWith(u.view.Sa)}return s}}function _x(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S4.bind(null,t),t.La.p_=u4.bind(null,t.eventManager),t.La.Ja=h4.bind(null,t.eventManager),t}function I4(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,t),t}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bd(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return DP(this.persistence,new RP,t.initialUser,this.serializer)}Xa(t){return new tx($y.ri,this.serializer)}Za(t){return new VP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class D4 extends dd{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Qt(this.persistence.referenceDelegate instanceof hd);const i=this.persistence.referenceDelegate.garbageCollector;return new fP(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new tx(i=>hd.ri(i,e),this.serializer)}}class ey{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R4.bind(null,this.syncEngine),await r4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new o4}()}createDatastore(t){const e=Bd(t.databaseInfo.databaseId),i=function(o){return new FP(o)}(t.databaseInfo);return function(o,l,u,h){return new WP(o,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,l,u){return new YP(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>uT(this.syncEngine,e,0),function(){return sT.D()?new sT:new zP}())}createSyncEngine(t,e){return function(s,o,l,u,h,d,m){const _=new m4(s,o,l,u,h,d);return m&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const o=It(s);ft(Fa,"RemoteStore shutting down."),o.W_.add(5),await Nu(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ks("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class O4{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ft(Hr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ft(Hr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=i_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function fm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Hr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ex(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function fT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await k4(n);ft(Hr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>aT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>aT(t.remoteStore,s)),n._onlineComponents=t}async function k4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Hr,"Using user provided OfflineComponentProvider");try{await fm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===at.FAILED_PRECONDITION||s.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;nl("Error using user provided cache. Falling back to memory cache: "+e),await fm(n,new dd)}}else ft(Hr,"Using default OfflineComponentProvider"),await fm(n,new D4(void 0));return n._offlineComponents}async function vx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Hr,"Using user provided OnlineComponentProvider"),await fT(n,n._uninitializedComponentsProvider._online)):(ft(Hr,"Using default OnlineComponentProvider"),await fT(n,new ey))),n._onlineComponents}function P4(n){return vx(n).then(t=>t.syncEngine)}async function N4(n){const t=await vx(n),e=t.eventManager;return e.onListen=y4.bind(null,t.syncEngine),e.onUnlisten=b4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=_4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=E4.bind(null,t.syncEngine),e}function L4(n,t,e={}){const i=new Nr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,d){const m=new M4({next:b=>{m.su(),l.enqueueAndForget(()=>c4(o,_));const E=b.docs.has(u);!E&&b.fromCache?d.reject(new _t(at.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&h&&h.source==="server"?d.reject(new _t(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new f4(Hy(u.path),m,{includeMetadataChanges:!0,Ta:!0});return l4(o,_)}(await N4(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n,t,e){if(!e)throw new _t(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function z4(n,t,e,i){if(t===!0&&i===!0)throw new _t(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gT(n){if(!vt.isDocumentKey(n))throw new _t(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt()}function fu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=o_(n);throw new _t(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="firestore.googleapis.com",pT=!0;class mT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ex,this.ssl=pT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:pT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Jw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uP)throw new _t(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class l_{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BO;switch(i.type){case"firstParty":return new qO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _t(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=dT.get(e);i&&(ft("ComponentProvider","Removing Datastore"),dT.delete(e),i.terminate())}(this),Promise.resolve()}}function U4(n,t,e,i={}){var s;const o=(n=fu(n,l_))._getSettings(),l=`${t}:${e}`;if(o.host!==Ex&&o.host!==l&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=cn.MOCK_USER;else{u=eI(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new _t(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new cn(d)}n._authCredentials=new jO(new fw(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new c_(this.firestore,t,this._query)}}class ni{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ni(this.firestore,t,this._key)}}class du extends c_{constructor(t,e,i){super(t,e,Hy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ni(this.firestore,null,new vt(t))}withConverter(t){return new du(this.firestore,t,this._path)}}function yT(n,t,...e){if(n=fi(n),arguments.length===1&&(t=dw.newId()),V4("doc","path",t),n instanceof l_){const i=be.fromString(t,...e);return gT(i),new ni(n,null,new vt(i))}{if(!(n instanceof ni||n instanceof du))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(be.fromString(t,...e));return gT(i),new ni(n.firestore,n instanceof du?n.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="AsyncQueue";class vT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ix(this,"async_queue_retry"),this.Su=()=>{const i=hm();i&&ft(_T,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const e=hm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=hm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!_l(t))throw t;ft(_T,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw ks("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const s=n_.createAndSchedule(this,t,e,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&xt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class u_ extends l_{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new vT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vT(t),this._firestoreClient=void 0,await t}}}function B4(n,t){const e=typeof n=="object"?n:TS(),i=typeof n=="string"?n:sd,s=Ry(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=JC("firestore");o&&U4(s,...o)}return s}function Tx(n){if(n._terminated)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j4(n),n._firestoreClient}function j4(n){var t,e,i;const s=n._freezeSettings(),o=function(u,h,d,m){return new sk(u,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bx(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new O4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ll(nn.fromBase64String(t))}catch(e){throw new _t(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ll(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^__.*__$/;class H4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new $a(t,this.data,this.fieldMask,e,this.fieldTransforms):new ku(t,this.data,e,this.fieldTransforms)}}function wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class g_{constructor(t,e,i,s,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new g_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Ku(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return gd(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(wx(this.Lu)&&F4.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class q4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Bd(t)}ju(t,e,i,s=!1){return new g_({Lu:t,methodName:e,zu:i,path:en.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G4(n){const t=n._freezeSettings(),e=Bd(n._databaseId);return new q4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function W4(n,t,e,i,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,t,e,s);Cx("Data must be an object, but it was:",l,i);const u=Ax(i,l);let h,d;if(o.merge)h=new ci(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const b=K4(t,_,e);if(!l.contains(b))throw new _t(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$4(m,b)||m.push(b)}h=new ci(m),d=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=l.fieldTransforms;return new H4(new ei(u),h,d)}function xx(n,t){if(Rx(n=fi(n)))return Cx("Unsupported field value:",t,n),Ax(n,t);if(n instanceof Sx)return function(i,s){if(!wx(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let h=xx(u,s.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=fi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ck(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ue.fromDate(i);return{timestampValue:ud(s.serializer,o)}}if(i instanceof Ue){const o=new Ue(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ud(s.serializer,o)}}if(i instanceof f_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ll)return{bytesValue:Ww(s.serializer,i._byteString)};if(i instanceof ni){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ky(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof d_)return function(l,u){return{mapValue:{fields:{[Ew]:{stringValue:Tw},[rd]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.Wu("VectorValues must only contain numeric values.");return qy(u.serializer,d)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${o_(i)}`)}(n,t)}function Ax(n,t){const e={};return pw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ka(n,(i,s)=>{const o=xx(s,t.qu(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function Rx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof f_||n instanceof ll||n instanceof ni||n instanceof Sx||n instanceof d_)}function Cx(n,t,e){if(!Rx(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=o_(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function K4(n,t,e){if((t=fi(t))instanceof h_)return t._internalPath;if(typeof t=="string")return Ix(n,t);throw gd("Field path arguments must be of type string or ",n,!1,void 0,e)}const Y4=new RegExp("[~\\*/\\[\\]]");function Ix(n,t,e){if(t.search(Y4)>=0)throw gd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new h_(...t.split("."))._internalPath}catch{throw gd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function gd(n,t,e,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new _t(at.INVALID_ARGUMENT,u+n+h)}function $4(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new X4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Mx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class X4 extends Dx{data(){return super.data()}}function Mx(n,t){return typeof t=="string"?Ix(n,t):t instanceof h_?t._internalPath:t._delegate._internalPath}class Q4{convertValue(t,e="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ka(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,s;const o=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[rd].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>we(l.doubleValue));return new d_(o)}convertGeoPoint(t){return new f_(we(t.latitude),we(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=kd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const e=Ur(t);return new Ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=be.fromString(t);Qt(Zw(i));const s=new lu(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return s.isEqual(e)||ks(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ox extends Dx{constructor(t,e,i,s,o,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Mx("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class tN extends Ox{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n){n=fu(n,ni);const t=fu(n.firestore,u_);return L4(Tx(t),n._key).then(e=>rN(t,n,e))}class nN extends Q4{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ni(this.firestore,null,e)}}function iN(n,t,e){n=fu(n,ni);const i=fu(n.firestore,u_),s=Z4(n.converter,t,e);return sN(i,[W4(G4(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Ds.none())])}function sN(n,t){return function(i,s){const o=new Nr;return i.asyncQueue.enqueueAndForget(async()=>T4(await P4(i),s,o)),o.promise}(Tx(n),t)}function rN(n,t,e){const i=e.docs.get(t._key),s=new nN(n);return new Ox(n,s,t._key,i,new J4(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){ml=s})(gl),el(new za("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new u_(new FO(i.getProvider("auth-internal")),new GO(l,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(d.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),kr(AE,RE,t),kr(AE,RE,"esm2017")})();const aN={apiKey:"AIzaSyC72iSuRhZ0pCekj0DN2EOx6DAGxzGFsrE",authDomain:"koafy-5bbb8.firebaseapp.com",projectId:"koafy-5bbb8",storageBucket:"koafy-5bbb8.firebasestorage.app",messagingSenderId:"323380487956",appId:"1:323380487956:web:19644d280a0a1912c10401",measurementId:"G-D90V34D76C"},kx=ES(aN),gu=LO(kx),bT=B4(kx);var Px={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ET=Rs.createContext&&Rs.createContext(Px),oN=["attr","size","title"];function lN(n,t){if(n==null)return{};var e=cN(n,t),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function cN(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function pd(){return pd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pd.apply(this,arguments)}function TT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function md(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(e),!0).forEach(function(i){uN(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):TT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function uN(n,t,e){return t=hN(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function hN(n){var t=fN(n,"string");return typeof t=="symbol"?t:t+""}function fN(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Nx(n){return n&&n.map((t,e)=>Rs.createElement(t.tag,md({key:e},t.attr),Nx(t.child)))}function Nn(n){return t=>Rs.createElement(dN,pd({attr:md({},n.attr)},t),Nx(n.child))}function dN(n){var t=e=>{var{attr:i,size:s,title:o}=n,l=lN(n,oN),u=s||e.size||"1em",h;return e.className&&(h=e.className),n.className&&(h=(h?h+" ":"")+n.className),Rs.createElement("svg",pd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:h,style:md(md({color:n.color||e.color},e.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Rs.createElement("title",null,o),n.children)};return ET!==void 0?Rs.createElement(ET.Consumer,null,e=>t(e)):t(Px)}function gN(n){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function pN(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function mN(n){return Nn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function yN(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Lx(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function ST(n){return Nn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function _N(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function Vx(n){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function vN(n){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function bN(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function EN(n){return Nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function TN(n){return Nn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function zx(n){return Nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const SN=()=>{const[n,t]=X.useState(""),[e,i]=X.useState(""),[s,o]=X.useState(""),l=xu(),u=async h=>{h.preventDefault();try{await SM(gu,n,e),l("/dashboard")}catch(d){console.error("Error al iniciar sesión:",d),o("Correo o contraseña incorrectos")}};return G.jsxs("div",{className:"relative flex items-center justify-end h-screen bg-cover bg-center bg-no-repeat p-10",style:{backgroundImage:"url('/space-background.jpg')"},children:[G.jsx("img",{src:"/logo.png",alt:"TRIBE 4.0",className:"absolute top-[5%] left-[8%] w-[200px]"}),G.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg p-10 rounded-[30px] shadow-2xl w-[450px] h-[650px] flex flex-col justify-center border border-white/20",children:[G.jsx("h2",{className:"text-white text-3xl font-semibold text-center mb-8",children:"Iniciar Sesión"}),G.jsxs("form",{onSubmit:u,className:"space-y-6",children:[G.jsxs("div",{className:"relative",children:[G.jsx("label",{className:"text-gray-300 block mb-2 text-sm font-medium",children:"Correo Electrónico"}),G.jsxs("div",{className:"flex items-center bg-gray-900 bg-opacity-50 rounded-full p-3",children:[G.jsx("span",{className:"text-gray-400 px-3",children:G.jsx(zx,{})}),G.jsx("input",{type:"email",value:n,onChange:h=>t(h.target.value),className:"w-full bg-transparent text-white border-none focus:outline-none placeholder-gray-400",placeholder:"Ingresa tu correo",required:!0})]})]}),G.jsxs("div",{className:"relative",children:[G.jsx("label",{className:"text-gray-300 block mb-2 text-sm font-medium",children:"Contraseña"}),G.jsxs("div",{className:"flex items-center bg-gray-900 bg-opacity-50 rounded-full p-3",children:[G.jsx("span",{className:"text-gray-400 px-3",children:G.jsx(Vx,{})}),G.jsx("input",{type:"password",value:e,onChange:h=>i(h.target.value),className:"w-full bg-transparent text-white border-none focus:outline-none placeholder-gray-400",placeholder:"••••••••",required:!0})]})]}),s&&G.jsx("p",{className:"text-red-500 text-sm text-center",children:s}),G.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-teal-500 to-blue-500 hover:from-teal-600 hover:to-blue-600 text-white font-semibold py-3 rounded-full transition-shadow shadow-md hover:shadow-lg",children:"Iniciar Sesión"}),G.jsxs("div",{className:"flex justify-between text-gray-400 text-sm mt-4",children:[G.jsxs("label",{className:"flex items-center",children:[G.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-500"})," Recuérdame"]}),G.jsx("a",{href:"#",className:"hover:underline text-blue-400",children:"¿Olvidaste la contraseña?"})]}),G.jsxs("div",{className:"text-center text-gray-400 text-sm mt-6",children:["¿No tienes cuenta?"," ",G.jsx("a",{href:"/register",className:"text-white font-bold hover:underline",children:"Regístrate"})]})]})]})]})},wN=()=>{const[n,t]=X.useState(""),[e,i]=X.useState(""),[s,o]=X.useState(""),[l,u]=X.useState(""),h=xu(),d=async m=>{m.preventDefault();try{await TM(gu,n,s),h("/dashboard")}catch(_){console.error("Error al registrar:",_),u("No se pudo crear la cuenta. Inténtalo de nuevo.")}};return G.jsxs("div",{className:"relative flex items-center justify-end h-screen bg-cover bg-center bg-no-repeat p-10",style:{backgroundImage:"url('/space-background.jpg')"},children:[G.jsx("img",{src:"/logo.png",alt:"TRIBE 4.0",className:"absolute top-[5%] left-[8%] w-[200px]"}),G.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg p-10 rounded-[30px] shadow-2xl w-[450px] h-[650px] flex flex-col justify-center border border-white/20",children:[G.jsx("h2",{className:"text-white text-3xl font-semibold text-center mb-8",children:"Crear Cuenta"}),G.jsxs("form",{onSubmit:d,className:"space-y-6",children:[G.jsxs("div",{className:"relative",children:[G.jsx("label",{className:"text-gray-300 block mb-2 text-sm font-medium",children:"Usuario"}),G.jsxs("div",{className:"flex items-center bg-gray-900 bg-opacity-50 rounded-full p-3",children:[G.jsx("span",{className:"text-gray-400 px-3",children:G.jsx(zx,{})}),G.jsx("input",{type:"text",value:e,onChange:m=>i(m.target.value),className:"w-full bg-transparent text-white border-none focus:outline-none placeholder-gray-400",placeholder:"Tu nombre de usuario",required:!0})]})]}),G.jsxs("div",{className:"relative",children:[G.jsx("label",{className:"text-gray-300 block mb-2 text-sm font-medium",children:"Correo Electrónico"}),G.jsxs("div",{className:"flex items-center bg-gray-900 bg-opacity-50 rounded-full p-3",children:[G.jsx("span",{className:"text-gray-400 px-3",children:G.jsx(Lx,{})}),G.jsx("input",{type:"email",value:n,onChange:m=>t(m.target.value),className:"w-full bg-transparent text-white border-none focus:outline-none placeholder-gray-400",placeholder:"tucorreo@example.com",required:!0})]})]}),G.jsxs("div",{className:"relative",children:[G.jsx("label",{className:"text-gray-300 block mb-2 text-sm font-medium",children:"Contraseña"}),G.jsxs("div",{className:"flex items-center bg-gray-900 bg-opacity-50 rounded-full p-3",children:[G.jsx("span",{className:"text-gray-400 px-3",children:G.jsx(Vx,{})}),G.jsx("input",{type:"password",value:s,onChange:m=>o(m.target.value),className:"w-full bg-transparent text-white border-none focus:outline-none placeholder-gray-400",placeholder:"••••••••",required:!0})]})]}),l&&G.jsx("p",{className:"text-red-500 text-sm text-center",children:l}),G.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-teal-500 to-blue-500 hover:from-teal-600 hover:to-blue-600 text-white font-semibold py-3 rounded-full transition-shadow shadow-md hover:shadow-lg",children:"Registrarse"}),G.jsxs("div",{className:"text-center text-gray-400 text-sm mt-6",children:["¿Ya tienes cuenta?"," ",G.jsx("a",{href:"/",className:"text-white font-bold hover:underline",children:"Inicia Sesión"})]})]})]})]})};var dm={exports:{}},gm,wT;function xN(){if(wT)return gm;wT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gm=n,gm}var pm,xT;function AN(){if(xT)return pm;xT=1;var n=xN();function t(){}function e(){}return e.resetWarningCache=t,pm=function(){function i(l,u,h,d,m,_){if(_!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},pm}var AT;function RN(){return AT||(AT=1,dm.exports=AN()()),dm.exports}var CN=RN();const vs=_y(CN),IN="/LogoNegro.png",p_=({selectedOption:n="",setSelectedOption:t=()=>{}})=>{const e=xu(),[i,s]=X.useState(null);X.useEffect(()=>{try{const h=gu.onAuthStateChanged(d=>{s(d)});return()=>h()}catch(h){console.error("Auth state error:",h)}},[]);const o=[{name:"Seguimiento",icon:G.jsx(pN,{})},{name:"Plantilla de mensajes",icon:G.jsx(Lx,{})},{name:"Estadísticas",icon:G.jsx(mN,{})},{name:"Nueva solicitud",icon:G.jsx(ST,{})},{name:"Conectar Instagram",icon:G.jsx(gN,{})}],l=[{name:"Documentos",icon:G.jsx(ST,{})},{name:"Soporte",icon:G.jsx(_N,{})},{name:"Ajustes",icon:G.jsx(yN,{})}],u=async()=>{try{await gu.signOut(),e("/")}catch(h){console.error("Logout error:",h)}};return G.jsxs("div",{className:"h-screen w-[300px] bg-white shadow-lg rounded-tr-3xl flex flex-col justify-between p-6",children:[G.jsx("div",{className:"flex items-center justify-center mb-6 pt-10",children:G.jsx("img",{src:IN,alt:"Koafy Logo",className:"w-[200px]",onError:h=>{console.error("Logo image failed to load"),h.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='60'%3E%3Crect width='200' height='60' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='16'%3EKoafy%3C/text%3E%3C/svg%3E"}})}),G.jsx("nav",{className:"flex flex-col space-y-4",children:o.map(h=>G.jsxs("button",{onClick:()=>t(h.name),className:`flex items-center space-x-3 p-3 rounded-lg transition 
              ${n===h.name?"bg-blue-200 text-blue-700 font-semibold":"bg-white text-gray-900 hover:bg-gray-100"}`,children:[G.jsx("span",{className:n===h.name?"text-blue-700":"text-gray-600",children:h.icon}),G.jsx("span",{children:h.name})]},h.name))}),G.jsxs("div",{className:"flex flex-col space-y-4 mt-6",children:[l.map(h=>G.jsxs("button",{onClick:()=>t(h.name),className:"flex items-center space-x-3 p-3 rounded-lg bg-white text-gray-900 hover:bg-gray-100 transition",children:[G.jsx("span",{className:"text-gray-600",children:h.icon}),G.jsx("span",{children:h.name})]},h.name)),G.jsx("button",{className:"mt-4 px-6 py-2 rounded-lg transition-all duration-800 bg-[#CCCCCC] text-gray-800 hover:bg-gradient-to-r hover:bg-[#393346] hover:text-white",onClick:u,children:"Cerrar Sesión"}),G.jsxs("div",{className:"border-t pt-4 flex flex-col items-center text-gray-500 mt-4",children:[G.jsx(TN,{className:"text-3xl text-gray-400 mb-2"}),G.jsx("span",{className:"text-sm font-medium text-gray-700",children:(i==null?void 0:i.displayName)||"Usuario"}),G.jsx("span",{className:"text-xs text-gray-400",children:(i==null?void 0:i.email)||"Sin correo"})]})]})]})};p_.propTypes={selectedOption:vs.string,setSelectedOption:vs.func};p_.defaultProps={selectedOption:"",setSelectedOption:()=>{}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vu(n){return n+.5|0}const Rr=(n,t,e)=>Math.max(Math.min(n,e),t);function Uc(n){return Rr(Vu(n*2.55),0,255)}function Lr(n){return Rr(Vu(n*255),0,255)}function bs(n){return Rr(Vu(n/2.55)/100,0,1)}function RT(n){return Rr(Vu(n*100),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ny=[..."0123456789ABCDEF"],DN=n=>ny[n&15],MN=n=>ny[(n&240)>>4]+ny[n&15],gf=n=>(n&240)>>4===(n&15),ON=n=>gf(n.r)&&gf(n.g)&&gf(n.b)&&gf(n.a);function kN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Jn[n[1]]*17,g:255&Jn[n[2]]*17,b:255&Jn[n[3]]*17,a:t===5?Jn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Jn[n[1]]<<4|Jn[n[2]],g:Jn[n[3]]<<4|Jn[n[4]],b:Jn[n[5]]<<4|Jn[n[6]],a:t===9?Jn[n[7]]<<4|Jn[n[8]]:255})),e}const PN=(n,t)=>n<255?t(n):"";function NN(n){var t=ON(n)?DN:MN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+PN(n.a,t):void 0}const LN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ux(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function VN(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function zN(n,t,e){const i=Ux(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function UN(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function m_(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),u=(o+l)/2;let h,d,m;return o!==l&&(m=o-l,d=u>.5?m/(2-o-l):m/(o+l),h=UN(e,i,s,m,o),h=h*60+.5),[h|0,d||0,u]}function y_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Lr)}function __(n,t,e){return y_(Ux,n,t,e)}function BN(n,t,e){return y_(zN,n,t,e)}function jN(n,t,e){return y_(VN,n,t,e)}function Bx(n){return(n%360+360)%360}function FN(n){const t=LN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Uc(+t[5]):Lr(+t[5]));const s=Bx(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=BN(s,o,l):t[1]==="hsv"?i=jN(s,o,l):i=__(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function HN(n,t){var e=m_(n);e[0]=Bx(e[0]+t),e=__(e),n.r=e[0],n.g=e[1],n.b=e[2]}function qN(n){if(!n)return;const t=m_(n),e=t[0],i=RT(t[1]),s=RT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${bs(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const CT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},IT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GN(){const n={},t=Object.keys(IT),e=Object.keys(CT);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)o=e[s],u=u.replace(o,CT[o]);o=parseInt(IT[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let pf;function WN(n){pf||(pf=GN(),pf.transparent=[0,0,0,0]);const t=pf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const KN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function YN(n){const t=KN.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Uc(l):Rr(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Uc(i):Rr(i,0,255)),s=255&(t[4]?Uc(s):Rr(s,0,255)),o=255&(t[6]?Uc(o):Rr(o,0,255)),{r:i,g:s,b:o,a:e}}}function $N(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const mm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ho=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function XN(n,t,e){const i=Ho(bs(n.r)),s=Ho(bs(n.g)),o=Ho(bs(n.b));return{r:Lr(mm(i+e*(Ho(bs(t.r))-i))),g:Lr(mm(s+e*(Ho(bs(t.g))-s))),b:Lr(mm(o+e*(Ho(bs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function mf(n,t,e){if(n){let i=m_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=__(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function jx(n,t){return n&&Object.assign(t||{},n)}function DT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Lr(n[3]))):(t=jx(n,{r:0,g:0,b:0,a:1}),t.a=Lr(t.a)),t}function QN(n){return n.charAt(0)==="r"?YN(n):FN(n)}class pu{constructor(t){if(t instanceof pu)return t;const e=typeof t;let i;e==="object"?i=DT(t):e==="string"&&(i=kN(t)||WN(t)||QN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=jx(this._rgb);return t&&(t.a=bs(t.a)),t}set rgb(t){this._rgb=DT(t)}rgbString(){return this._valid?$N(this._rgb):void 0}hexString(){return this._valid?NN(this._rgb):void 0}hslString(){return this._valid?qN(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,h=i.a-s.a,d=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=XN(this._rgb,t._rgb,e)),this}clone(){return new pu(this.rgb)}alpha(t){return this._rgb.a=Lr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Vu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return mf(this._rgb,2,t),this}darken(t){return mf(this._rgb,2,-t),this}saturate(t){return mf(this._rgb,1,t),this}desaturate(t){return mf(this._rgb,1,-t),this}rotate(t){return HN(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ms(){}const ZN=(()=>{let n=0;return()=>n++})();function Nt(n){return n==null}function le(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function zt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ee(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function kn(n,t){return Ee(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const JN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Fx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function re(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let s,o,l;if(le(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(zt(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function yd(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function _d(n){if(le(n))return n.map(_d);if(zt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=_d(n[e[s]]);return t}return n}function Hx(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function tL(n,t,e,i){if(!Hx(n))return;const s=t[n],o=e[n];zt(s)&&zt(o)?mu(s,o,i):t[n]=_d(o)}function mu(n,t,e){const i=le(t)?t:[t],s=i.length;if(!zt(n))return n;e=e||{};const o=e.merger||tL;let l;for(let u=0;u<s;++u){if(l=i[u],!zt(l))continue;const h=Object.keys(l);for(let d=0,m=h.length;d<m;++d)o(h[d],n,l,e)}return n}function Xc(n,t){return mu(n,t,{merger:eL})}function eL(n,t,e){if(!Hx(n))return;const i=t[n],s=e[n];zt(i)&&zt(s)?Xc(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=_d(s))}const MT={"":n=>n,x:n=>n.x,y:n=>n.y};function nL(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function iL(n){const t=nL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function qr(n,t){return(MT[t]||(MT[t]=iL(t)))(n)}function v_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const yu=n=>typeof n<"u",Gr=n=>typeof n=="function",OT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function sL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const oe=Math.PI,ae=2*oe,rL=ae+oe,vd=Number.POSITIVE_INFINITY,aL=oe/180,xe=oe/2,Ra=oe/4,kT=oe*2/3,Cr=Math.log10,zi=Math.sign;function Qc(n,t,e){return Math.abs(n-t)<e}function PT(n){const t=Math.round(n);n=Qc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Cr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function oL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function lL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function cl(n){return!lL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function cL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function qx(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ui(n){return n*(oe/180)}function b_(n){return n*(180/oe)}function NT(n){if(!Ee(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Gx(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*oe&&(o+=ae),{angle:o,distance:s}}function iy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function uL(n,t){return(n-t+rL)%ae-oe}function Pn(n){return(n%ae+ae)%ae}function _u(n,t,e,i){const s=Pn(n),o=Pn(t),l=Pn(e),u=Pn(o-s),h=Pn(l-s),d=Pn(s-o),m=Pn(s-l);return s===o||s===l||i&&o===l||u>h&&d<m}function $e(n,t,e){return Math.max(t,Math.min(e,n))}function hL(n){return $e(n,-32768,32767)}function ws(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function E_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const xs=(n,t,e,i)=>E_(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),fL=(n,t,e)=>E_(n,e,i=>n[i][t]>=e);function dL(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Wx=["push","pop","shift","splice","unshift"];function gL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Wx.forEach(e=>{const i="_onData"+v_(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function LT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Wx.forEach(o=>{delete n[o]}),delete n._chartjs)}function Kx(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Yx=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function $x(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Yx.call(window,()=>{i=!1,n.apply(t,e)}))}}function pL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const T_=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,mL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Xx(n,t,e){const i=t.length;let s=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=l.axis,{min:_,max:b,minDefined:E,maxDefined:w}=l.getUserBounds();if(E){if(s=Math.min(xs(h,m,_).lo,e?i:xs(t,m,l.getPixelForValue(_)).lo),d){const x=h.slice(0,s+1).reverse().findIndex(A=>!Nt(A[u.axis]));s-=Math.max(0,x)}s=$e(s,0,i-1)}if(w){let x=Math.max(xs(h,l.axis,b,!0).hi+1,e?0:xs(t,m,l.getPixelForValue(b),!0).hi+1);if(d){const A=h.slice(x-1).findIndex(O=>!Nt(O[u.axis]));x+=Math.max(0,A)}o=$e(x,s,i)-s}else o=i-s}return{start:s,count:o}}function Qx(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),o}const yf=n=>n===0||n===1,VT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ae/e)),zT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ae/e)+1,Zc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*xe)+1,easeOutSine:n=>Math.sin(n*xe),easeInOutSine:n=>-.5*(Math.cos(oe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>yf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>yf(n)?n:VT(n,.075,.3),easeOutElastic:n=>yf(n)?n:zT(n,.075,.3),easeInOutElastic(n){return yf(n)?n:n<.5?.5*VT(n*2,.1125,.45):.5+.5*zT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Zc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Zc.easeInBounce(n*2)*.5:Zc.easeOutBounce(n*2-1)*.5+.5};function S_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UT(n){return S_(n)?n:new pu(n)}function ym(n){return S_(n)?n:new pu(n).saturate(.5).darken(.1).hexString()}const yL=["x","y","borderWidth","radius","tension"],_L=["color","borderColor","backgroundColor"];function vL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:_L},numbers:{type:"number",properties:yL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function bL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const BT=new Map;function EL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=BT.get(e);return i||(i=new Intl.NumberFormat(n,t),BT.set(e,i)),i}function zu(n,t,e){return EL(t,e).format(n)}const Zx={values(n){return le(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=TL(n,e)}const l=Cr(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),zu(n,i,h)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Cr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Zx.numeric.call(this,n,t,e):""}};function TL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Hd={formatters:Zx};function SL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ha=Object.create(null),sy=Object.create(null);function Jc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function _m(n,t,e){return typeof t=="string"?mu(Jc(n,t),e):mu(Jc(n,""),t)}class wL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ym(s.backgroundColor),this.hoverBorderColor=(i,s)=>ym(s.borderColor),this.hoverColor=(i,s)=>ym(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return _m(this,t,e)}get(t){return Jc(this,t)}describe(t,e){return _m(sy,t,e)}override(t,e){return _m(Ha,t,e)}route(t,e,i,s){const o=Jc(this,t),l=Jc(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],d=l[s];return zt(h)?Object.assign({},d,h):Dt(h,d)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var ce=new wL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vL,bL,SL]);function xL(n){return!n||Nt(n.size)||Nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function bd(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function AL(n,t,e,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let h,d,m,_,b;for(h=0;h<u;h++)if(_=e[h],_!=null&&!le(_))l=bd(n,s,o,l,_);else if(le(_))for(d=0,m=_.length;d<m;d++)b=_[d],b!=null&&!le(b)&&(l=bd(n,s,o,l,b));n.restore();const E=o.length/2;if(E>e.length){for(h=0;h<E;h++)delete s[o[h]];o.splice(0,E)}return l}function Ca(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function jT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ry(n,t,e,i){Jx(n,t,e,i,null)}function Jx(n,t,e,i,s){let o,l,u,h,d,m,_,b;const E=t.pointStyle,w=t.rotation,x=t.radius;let A=(w||0)*aL;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(A),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),E){default:s?n.ellipse(e,i,s/2,x,0,0,ae):n.arc(e,i,x,0,ae),n.closePath();break;case"triangle":m=s?s/2:x,n.moveTo(e+Math.sin(A)*m,i-Math.cos(A)*x),A+=kT,n.lineTo(e+Math.sin(A)*m,i-Math.cos(A)*x),A+=kT,n.lineTo(e+Math.sin(A)*m,i-Math.cos(A)*x),n.closePath();break;case"rectRounded":d=x*.516,h=x-d,l=Math.cos(A+Ra)*h,_=Math.cos(A+Ra)*(s?s/2-d:h),u=Math.sin(A+Ra)*h,b=Math.sin(A+Ra)*(s?s/2-d:h),n.arc(e-_,i-u,d,A-oe,A-xe),n.arc(e+b,i-l,d,A-xe,A),n.arc(e+_,i+u,d,A,A+xe),n.arc(e-b,i+l,d,A+xe,A+oe),n.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*x,m=s?s/2:h,n.rect(e-m,i-h,2*m,2*h);break}A+=Ra;case"rectRot":_=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,u=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+b,i-l),n.lineTo(e+_,i+u),n.lineTo(e-b,i+l),n.closePath();break;case"crossRot":A+=Ra;case"cross":_=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,u=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"star":_=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,u=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l),A+=Ra,_=Math.cos(A)*(s?s/2:x),l=Math.cos(A)*x,u=Math.sin(A)*x,b=Math.sin(A)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"line":l=s?s/2:Math.cos(A)*x,u=Math.sin(A)*x,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*(s?s/2:x),i+Math.sin(A)*x);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function As(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function qd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Gd(n){n.restore()}function RL(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function CL(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function IL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Nt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function DL(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,h=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,m=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function ML(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function qa(n,t,e,i,s,o={}){const l=le(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,IL(n,o),h=0;h<l.length;++h)d=l[h],o.backdrop&&ML(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Nt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),DL(n,e,i,d,o),i+=Number(s.lineHeight);n.restore()}function vu(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*oe,oe,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,oe,xe,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,xe,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-xe,!0),n.lineTo(e+l.topLeft,i)}const OL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function PL(n,t){const e=(""+n).match(OL);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const NL=n=>+n||0;function w_(n,t){const e={},i=zt(t),s=i?Object.keys(t):t,o=zt(n)?i?l=>Dt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=NL(o(l));return e}function tA(n){return w_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function La(n){return w_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function dn(n){const t=tA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ze(n,t){n=n||{},t=t||ce.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(kL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Dt(n.family,t.family),lineHeight:PL(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return s.string=xL(s),s}function Bc(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function LL(n,t,e){const{min:i,max:s}=n,o=Fx(t,(s-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Yr(n,t){return Object.assign(Object.create(n),t)}function x_(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=sA("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>x_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return nA(u,h,()=>qL(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return HT(u).includes(h)},ownKeys(u){return HT(u)},set(u,h,d){const m=u._storage||(u._storage=s());return u[h]=m[h]=d,delete u._keys,!0}})}function ul(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:eA(n,i),setContext:o=>ul(n,o,e,i),override:o=>ul(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return nA(o,l,()=>zL(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function eA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Gr(e)?e:()=>e,isIndexable:Gr(i)?i:()=>i}}const VL=(n,t)=>n?n+v_(t):t,A_=(n,t)=>zt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function nA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function zL(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[t];return Gr(u)&&l.isScriptable(t)&&(u=UL(t,u,n,e)),le(u)&&u.length&&(u=BL(t,u,n,l.isIndexable)),A_(t,u)&&(u=ul(u,s,o&&o[t],l)),u}function UL(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(o,l||i);return u.delete(n),A_(n,h)&&(h=R_(s._scopes,s,n,h)),h}function BL(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(zt(t[0])){const h=t,d=s._scopes.filter(m=>m!==h);t=[];for(const m of h){const _=R_(d,s,n,m);t.push(ul(_,o,l&&l[n],u))}}return t}function iA(n,t,e){return Gr(n)?n(t,e):n}const jL=(n,t)=>n===!0?t:typeof n=="string"?qr(t,n):void 0;function FL(n,t,e,i,s){for(const o of t){const l=jL(e,o);if(l){n.add(l);const u=iA(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function R_(n,t,e,i){const s=t._rootScopes,o=iA(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let h=FT(u,l,e,o||e,i);return h===null||typeof o<"u"&&o!==e&&(h=FT(u,l,o,h,i),h===null)?!1:x_(Array.from(u),[""],s,o,()=>HL(t,e,i))}function FT(n,t,e,i,s){for(;e;)e=FL(n,t,e,i,s);return e}function HL(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return le(s)&&zt(e)?e:s||{}}function qL(n,t,e,i){let s;for(const o of t)if(s=sA(VL(o,n),e),typeof s<"u")return A_(n,s)?R_(e,i,n,s):s}function sA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function HT(n){let t=n._keys;return t||(t=n._keys=GL(n._scopes)),t}function GL(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function rA(n,t,e,i){const{iScale:s}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,h,d,m;for(u=0,h=i;u<h;++u)d=u+e,m=t[d],l[u]={r:s.parse(qr(m,o),d)};return l}const WL=Number.EPSILON||1e-14,hl=(n,t)=>t<n.length&&!n[t].skip&&n[t],aA=n=>n==="x"?"y":"x";function KL(n,t,e,i){const s=n.skip?t:n,o=t,l=e.skip?t:e,u=iy(o,s),h=iy(l,o);let d=u/(u+h),m=h/(u+h);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const _=i*d,b=i*m;return{previous:{x:o.x-_*(l.x-s.x),y:o.y-_*(l.y-s.y)},next:{x:o.x+b*(l.x-s.x),y:o.y+b*(l.y-s.y)}}}function YL(n,t,e){const i=n.length;let s,o,l,u,h,d=hl(n,0);for(let m=0;m<i-1;++m)if(h=d,d=hl(n,m+1),!(!h||!d)){if(Qc(t[m],0,WL)){e[m]=e[m+1]=0;continue}s=e[m]/t[m],o=e[m+1]/t[m],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[m]=s*l*t[m],e[m+1]=o*l*t[m])}}function $L(n,t,e="x"){const i=aA(e),s=n.length;let o,l,u,h=hl(n,0);for(let d=0;d<s;++d){if(l=u,u=h,h=hl(n,d+1),!u)continue;const m=u[e],_=u[i];l&&(o=(m-l[e])/3,u[`cp1${e}`]=m-o,u[`cp1${i}`]=_-o*t[d]),h&&(o=(h[e]-m)/3,u[`cp2${e}`]=m+o,u[`cp2${i}`]=_+o*t[d])}}function XL(n,t="x"){const e=aA(t),i=n.length,s=Array(i).fill(0),o=Array(i);let l,u,h,d=hl(n,0);for(l=0;l<i;++l)if(u=h,h=d,d=hl(n,l+1),!!h){if(d){const m=d[t]-h[t];s[l]=m!==0?(d[e]-h[e])/m:0}o[l]=u?d?zi(s[l-1])!==zi(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}YL(n,s,o),$L(n,o,t)}function _f(n,t,e){return Math.max(Math.min(n,e),t)}function QL(n,t){let e,i,s,o,l,u=As(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&As(n[e+1],t),o&&(s=n[e],l&&(s.cp1x=_f(s.cp1x,t.left,t.right),s.cp1y=_f(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=_f(s.cp2x,t.left,t.right),s.cp2y=_f(s.cp2y,t.top,t.bottom)))}function ZL(n,t,e,i,s){let o,l,u,h;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")XL(n,s);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],h=KL(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,d=u}t.capBezierPoints&&QL(n,e)}function C_(){return typeof window<"u"&&typeof document<"u"}function I_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ed(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Wd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function JL(n,t){return Wd(n).getPropertyValue(t)}const tV=["top","right","bottom","left"];function Va(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=tV[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const eV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function nV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,h;if(eV(s,o,n.target))u=s,h=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:u,y:h,box:l}}function Oa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Wd(e),o=s.boxSizing==="border-box",l=Va(s,"padding"),u=Va(s,"border","width"),{x:h,y:d,box:m}=nV(n,e),_=l.left+(m&&u.left),b=l.top+(m&&u.top);let{width:E,height:w}=t;return o&&(E-=l.width+u.width,w-=l.height+u.height),{x:Math.round((h-_)/E*e.width/i),y:Math.round((d-b)/w*e.height/i)}}function iV(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&I_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Wd(o),h=Va(u,"border","width"),d=Va(u,"padding");t=l.width-d.width-h.width,e=l.height-d.height-h.height,i=Ed(u.maxWidth,o,"clientWidth"),s=Ed(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||vd,maxHeight:s||vd}}const vf=n=>Math.round(n*10)/10;function sV(n,t,e,i){const s=Wd(n),o=Va(s,"margin"),l=Ed(s.maxWidth,n,"clientWidth")||vd,u=Ed(s.maxHeight,n,"clientHeight")||vd,h=iV(n,t,e);let{width:d,height:m}=h;if(s.boxSizing==="content-box"){const b=Va(s,"border","width"),E=Va(s,"padding");d-=E.width+b.width,m-=E.height+b.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=vf(Math.min(d,l,h.maxWidth)),m=vf(Math.min(m,u,h.maxHeight)),d&&!m&&(m=vf(d/2)),(t!==void 0||e!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,d=vf(Math.floor(m*i))),{width:d,height:m}}function qT(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};C_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function GT(n,t){const e=JL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ka(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function aV(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function oV(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=ka(n,s,e),u=ka(s,o,e),h=ka(o,t,e),d=ka(l,u,e),m=ka(u,h,e);return ka(d,m,e)}const lV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},cV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function tl(n,t,e){return n?lV(t,e):cV()}function oA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function lA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function cA(n){return n==="angle"?{between:_u,compare:uL,normalize:Pn}:{between:ws,compare:(t,e)=>t-e,normalize:t=>t}}function WT({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function uV(n,t,e){const{property:i,start:s,end:o}=e,{between:l,normalize:u}=cA(i),h=t.length;let{start:d,end:m,loop:_}=n,b,E;if(_){for(d+=h,m+=h,b=0,E=h;b<E&&l(u(t[d%h][i]),s,o);++b)d--,m--;d%=h,m%=h}return m<d&&(m+=h),{start:d,end:m,loop:_,style:n.style}}function uA(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,l=t.length,{compare:u,between:h,normalize:d}=cA(i),{start:m,end:_,loop:b,style:E}=uV(n,t,e),w=[];let x=!1,A=null,O,V,B;const Y=()=>h(s,B,O)&&u(s,B)!==0,H=()=>u(o,O)===0||h(o,B,O),Z=()=>x||Y(),M=()=>!x||H();for(let I=m,C=m;I<=_;++I)V=t[I%l],!V.skip&&(O=d(V[i]),O!==B&&(x=h(O,s,o),A===null&&Z()&&(A=u(O,s)===0?I:C),A!==null&&M()&&(w.push(WT({start:A,end:I,loop:b,count:l,style:E})),A=null),C=I,B=O));return A!==null&&w.push(WT({start:A,end:_,loop:b,count:l,style:E})),w}function hA(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=uA(i[s],n.points,t);o.length&&e.push(...o)}return e}function hV(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function fV(n,t,e,i){const s=n.length,o=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const d=n[h%s];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,u.skip&&(t=h)),u=d}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function dV(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:l,end:u}=hV(e,s,o,i);if(i===!0)return KT(n,[{start:l,end:u,loop:o}],e,t);const h=u<l?u+s:u,d=!!n._fullLoop&&l===0&&u===s-1;return KT(n,fV(e,l,h,d),e,t)}function KT(n,t,e,i){return!i||!i.setContext||!e?t:gV(n,t,e,i)}function gV(n,t,e,i){const s=n._chart.getContext(),o=YT(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,d=[];let m=o,_=t[0].start,b=_;function E(w,x,A,O){const V=u?-1:1;if(w!==x){for(w+=h;e[w%h].skip;)w-=V;for(;e[x%h].skip;)x+=V;w%h!==x%h&&(d.push({start:w%h,end:x%h,loop:A,style:O}),m=O,_=x%h)}}for(const w of t){_=u?_:w.start;let x=e[_%h],A;for(b=_+1;b<=w.end;b++){const O=e[b%h];A=YT(i.setContext(Yr(s,{type:"segment",p0:x,p1:O,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),pV(A,m)&&E(_,b-1,w.loop,m),x=O,m=A}_<b-1&&E(_,b-1,w.loop,m)}return d}function YT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pV(n,t){if(!t)return!1;const e=[],i=function(s,o){return S_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Yx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ys=new mV;const $T="transparent",yV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=UT(n||$T),s=i.valid&&UT(t||$T);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class _V{constructor(t,e,i,s){const o=e[i];s=Bc([t.to,s,o,t.from]);const l=Bc([t.from,o,s]);this._active=!0,this._fn=t.fn||yV[t.type||typeof l],this._easing=Zc[t.easing]||Zc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Bc([t.to,e,s,t.from]),this._from=Bc([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=o;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(o,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class fA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!zt(t))return;const e=Object.keys(ce.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!zt(o))return;const l={};for(const u of e)l[u]=o[u];(le(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=bV(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&vV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const m=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,m,u);continue}else _.cancel();if(!b||!b.duration){t[d]=m;continue}o[d]=_=new _V(b,t,d,m),s.push(_)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ys.add(this._chart,i),!0}}function vV(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function bV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function XT(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function EV(n,t,e){if(e===!1)return!1;const i=XT(n,e),s=XT(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function TV(n){let t,e,i,s;return zt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function dA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function QT(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,u,h,d;if(t===null)return;let m=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===e){if(m=!0,i.all)continue;break}d=n.values[h],Ee(d)&&(o||t===0||zi(t)===zi(d))&&(t+=d)}return!m&&!i.all?0:t}function SV(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,d,m;for(h=0,d=l.length;h<d;++h)m=l[h],u[h]={[s]:m,[o]:n[m]};return u}function vm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function wV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function xV(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function AV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function ZT(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function JT(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,d=l.axis,m=wV(o,l,i),_=t.length;let b;for(let E=0;E<_;++E){const w=t[E],{[h]:x,[d]:A}=w,O=w._stacks||(w._stacks={});b=O[d]=AV(s,m,x),b[u]=A,b._top=ZT(b,l,!0,i.type),b._bottom=ZT(b,l,!1,i.type);const V=b._visualValues||(b._visualValues={});V[u]=A}}function bm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function RV(n,t){return Yr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function CV(n,t,e){return Yr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ic(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Em=n=>n==="reset"||n==="none",t1=(n,t)=>t?n:Object.assign({},n),IV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:dA(e,!0),values:null};class hi{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=vm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ic(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(_,b,E,w)=>_==="x"?b:_==="r"?w:E,o=e.xAxisID=Dt(i.xAxisID,bm(t,"x")),l=e.yAxisID=Dt(i.yAxisID,bm(t,"y")),u=e.rAxisID=Dt(i.rAxisID,bm(t,"r")),h=e.indexAxis,d=e.iAxisID=s(h,o,l,u),m=e.vAxisID=s(h,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&LT(this._data,this),t._stacked&&Ic(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(zt(e)){const s=this._cachedMeta;this._data=SV(e,s)}else if(i!==e){if(i){LT(i,this);const s=this._cachedMeta;Ic(s),s._parsed=[]}e&&Object.isExtensible(e)&&gL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=vm(e.vScale,e),e.stack!==i.stack&&(s=!0,Ic(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(JT(this,e._parsed),e._stacked=vm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,_,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{le(s[t])?b=this.parseArrayData(i,s,t,e):zt(s[t])?b=this.parseObjectData(i,s,t,e):b=this.parsePrimitiveData(i,s,t,e);const E=()=>_[u]===null||d&&_[u]<d[u];for(m=0;m<e;++m)i._parsed[m+t]=_=b[m],h&&(E()&&(h=!1),d=_);i._sorted=h}l&&JT(this,b)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,u=o.axis,h=l.axis,d=o.getLabels(),m=o===l,_=new Array(s);let b,E,w;for(b=0,E=s;b<E;++b)w=b+i,_[b]={[u]:m||o.parse(d[w],w),[h]:l.parse(e[w],w)};return _}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let h,d,m,_;for(h=0,d=s;h<d;++h)m=h+i,_=e[m],u[h]={x:o.parse(_[0],m),y:l.parse(_[1],m)};return u}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let m,_,b,E;for(m=0,_=s;m<_;++m)b=m+i,E=e[b],d[m]={x:o.parse(qr(E,u),b),y:l.parse(qr(E,h),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:dA(s,!0),values:e._stacks[t.axis]._visualValues};return QT(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=QT(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=IV(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=xV(u);let b,E;function w(){E=s[b];const x=E[u.axis];return!Ee(E[t.axis])||m>x||_<x}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(d,t,E,h),o));++b);if(o){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(d,t,E,h);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],Ee(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=TV(Dt(this.options.clip,EV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,u,h),m=u;m<u+h;++m){const _=s[m];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(m=0;m<l.length;++m)l[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=CV(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=RV(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],h=this.enableOptionSharing&&yu(i);if(u)return t1(u,h);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),_=s?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),m),E=Object.keys(ce.elements[t]),w=()=>this.getContext(i,s,e),x=d.resolveNamedOptions(b,E,w,_);return x.$shared&&(x.$shared=h,o[l]=Object.freeze(t1(x,h))),x}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let h;if(s.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),_);h=m.createResolver(b,this.getContext(t,i,e))}const d=new fA(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Em(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){Em(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Em(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,d]of this._syncList)this[u](h,d);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let u;const h=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(h(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Ic(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(hi,"defaults",{}),lt(hi,"datasetElementType",null),lt(hi,"dataElementType",null);function DV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=e.length;s<o;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=Kx(i.sort((s,o)=>s-o))}return n._cache.$bar}function MV(n){const t=n.iScale,e=DV(t,n.type);let i=t._length,s,o,l,u;const h=()=>{l===32767||l===-32768||(yu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=e.length;s<o;++s)l=t.getPixelForValue(e[s]),h();for(u=void 0,s=0,o=t.ticks.length;s<o;++s)l=t.getPixelForTick(s),h();return i}function OV(n,t,e,i){const s=e.barThickness;let o,l;return Nt(s)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function kV(n,t,e,i){const s=t.pixels,o=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:d}}function PV(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(s,o),u=Math.max(s,o);let h=l,d=u;Math.abs(l)>Math.abs(u)&&(h=u,d=l),t[e.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:o,min:l,max:u}}function gA(n,t,e,i){return le(n)?PV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function e1(n,t,e,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),u=s===o,h=[];let d,m,_,b;for(d=e,m=e+i;d<m;++d)b=t[d],_={},_[s.axis]=u||s.parse(l[d],d),h.push(gA(b,_,o,d));return h}function Tm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function NV(n,t,e){return n!==0?zi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function LV(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function VV(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:d,bottom:m}=LV(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=d:(e._bottom||0)===i?s=m:(o[n1(m,l,u,h)]=!0,s=d)),o[n1(s,l,u,h)]=!0,n.borderSkipped=o}function n1(n,t,e,i){return i?(n=zV(n,t,e),n=i1(n,e,t)):n=i1(n,t,e),n}function zV(n,t,e){return n===t?e:n===e?t:n}function i1(n,t,e){return n==="start"?t:n==="end"?e:n}function UV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Bf extends hi{parsePrimitiveData(t,e,i,s){return e1(t,e,i,s)}parseArrayData(t,e,i,s){return e1(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,d=o.axis==="x"?u:h,m=l.axis==="x"?u:h,_=[];let b,E,w,x;for(b=i,E=i+s;b<E;++b)x=e[b],w={},w[o.axis]=o.parse(qr(x,d),b),_.push(gA(qr(x,m),w,l,b));return _}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,o=this.getParsed(t),l=o._custom,u=Tm(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),d=u.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,s);for(let E=e;E<e+i;E++){const w=this.getParsed(E),x=o||Nt(w[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(E),A=this._calculateBarIndexPixels(E,m),O=(w._stacks||{})[u.axis],V={horizontal:d,base:x.base,enableBorderRadius:!O||Tm(w._custom)||l===O._top||l===O._bottom,x:d?x.head:A.center,y:d?A.center:x.head,height:d?A.size:Math.abs(x.size),width:d?Math.abs(x.size):A.size};b&&(V.options=_||this.resolveDataElementOptions(E,t[E].active?"active":s));const B=V.options||t[E].options;VV(V,B,O,l),UV(V,B,m.ratio),this.updateElement(t[E],E,V,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],d=m=>{const _=m._parsed.find(E=>E[i.axis]===h),b=_&&_[m.vScale.axis];if(Nt(b)||isNaN(b))return!0};for(const m of s)if(!(e!==void 0&&d(m))&&((o===!1||l.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let o,l;for(o=0,l=e.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||MV(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(t),d=h._custom,m=Tm(d);let _=h[e.axis],b=0,E=i?this.applyStack(e,h,i):_,w,x;E!==_&&(b=E-_,E=_),m&&(_=d.barStart,E=d.barEnd-d.barStart,_!==0&&zi(_)!==zi(d.barEnd)&&(b=0),b+=_);const A=!Nt(o)&&!m?o:b;let O=e.getPixelForValue(A);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(b+E):w=O,x=w-O,Math.abs(x)<l){x=NV(x,e,u)*l,_===u&&(O-=x/2);const V=e.getPixelForDecimal(0),B=e.getPixelForDecimal(1),Y=Math.min(V,B),H=Math.max(V,B);O=Math.max(Math.min(O,H),Y),w=O+x,i&&!m&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(w)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const V=zi(x)*e.getLineWidthForValue(u)/2;O+=V,x-=V}return{size:x,base:O,head:w,center:w+x/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,o=s.skipNull,l=Dt(s.maxBarThickness,1/0);let u,h;if(e.grouped){const d=o?this._getStackCount(t):e.stackCount,m=s.barThickness==="flex"?kV(t,e,s,d):OV(t,e,s,d),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=m.start+m.chunk*_+m.chunk/2,h=Math.min(l,m.chunk*m.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}lt(Bf,"id","bar"),lt(Bf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lt(Bf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class jf extends hi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const o=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,s){const o=super.parseArrayData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Dt(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,s){const o=super.parseObjectData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Dt(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),h=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+h+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,s),m=l.axis,_=u.axis;for(let b=e;b<e+i;b++){const E=t[b],w=!o&&this.getParsed(b),x={},A=x[m]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[m]),O=x[_]=o?u.getBasePixel():u.getPixelForValue(w[_]);x.skip=isNaN(A)||isNaN(O),d&&(x.options=h||this.resolveDataElementOptions(b,E.active?"active":s),o&&(x.options.radius=0)),this.updateElement(E,b,x,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=Dt(i&&i._custom,o),s}}lt(jf,"id","bubble"),lt(jf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),lt(jf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function BV(n,t,e){let i=1,s=1,o=0,l=0;if(t<ae){const u=n,h=u+t,d=Math.cos(u),m=Math.sin(u),_=Math.cos(h),b=Math.sin(h),E=(B,Y,H)=>_u(B,u,h,!0)?1:Math.max(Y,Y*e,H,H*e),w=(B,Y,H)=>_u(B,u,h,!0)?-1:Math.min(Y,Y*e,H,H*e),x=E(0,d,_),A=E(xe,m,b),O=w(oe,d,_),V=w(oe+xe,m,b);i=(x-O)/2,s=(A-V)/2,o=-(x+O)/2,l=-(A+V)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class Na extends hi{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=h=>+i[h];if(zt(i[t])){const{key:h="value"}=this._parsing;o=d=>+qr(i[d],h)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=o(l)}}_getRotation(){return ui(this.options.rotation-90)}_getCircumference(){return ui(this.options.circumference)}_getRotationExtents(){let t=ae,e=-ae;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(JN(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:w,offsetY:x}=BV(_,m,h),A=(i.width-l)/b,O=(i.height-l)/E,V=Math.max(Math.min(A,O)/2,0),B=Fx(this.options.radius,V),Y=Math.max(B*h,0),H=(B-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=w*B,this.offsetY=x*B,s.total=this.calculateTotal(),this.outerRadius=B-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ae)}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,m=(u.left+u.right)/2,_=(u.top+u.bottom)/2,b=o&&d.animateScale,E=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:x,includeOptions:A}=this._getSharedOptions(e,s);let O=this._getRotation(),V;for(V=0;V<e;++V)O+=this._circumference(V,o);for(V=e;V<e+i;++V){const B=this._circumference(V,o),Y=t[V],H={x:m+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+B,circumference:B,outerRadius:w,innerRadius:E};A&&(H.options=x||this.resolveDataElementOptions(V,Y.active?"active":s)),O+=B,this.updateElement(Y,V,H,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ae*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=zu(e._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,o,l,u,h;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)h=u.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lt(Na,"id","doughnut"),lt(Na,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lt(Na,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),lt(Na,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class tu extends hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=Xx(e,s,l);this._drawStart=u,this._drawCount=h,Qx(e)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,u,h,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,s),b=l.axis,E=u.axis,{spanGaps:w,segment:x}=this.options,A=cl(w)?w:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||s==="none",V=e+i,B=t.length;let Y=e>0&&this.getParsed(e-1);for(let H=0;H<B;++H){const Z=t[H],M=O?Z:{};if(H<e||H>=V){M.skip=!0;continue}const I=this.getParsed(H),C=Nt(I[E]),k=M[b]=l.getPixelForValue(I[b],H),L=M[E]=o||C?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,I,h):I[E],H);M.skip=isNaN(k)||isNaN(L)||C,M.stop=H>0&&Math.abs(I[b]-Y[b])>A,x&&(M.parsed=I,M.raw=d.data[H]),_&&(M.options=m||this.resolveDataElementOptions(H,Z.active?"active":s)),O||this.updateElement(Z,H,M,s),Y=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}lt(tu,"id","line"),lt(tu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),lt(tu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class eu extends hi{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=zu(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,i,s){return rA.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,m=d.xCenter,_=d.yCenter,b=d.getIndexAngle(0)-.5*oe;let E=b,w;const x=360/this.countVisibleElements();for(w=0;w<e;++w)E+=this._computeAngle(w,s,x);for(w=e;w<e+i;w++){const A=t[w];let O=E,V=E+this._computeAngle(w,s,x),B=l.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;E=V,o&&(h.animateScale&&(B=0),h.animateRotate&&(O=V=b));const Y={x:m,y:_,innerRadius:0,outerRadius:B,startAngle:O,endAngle:V,options:this.resolveDataElementOptions(w,A.active?"active":s)};this.updateElement(A,w,Y,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ui(this.resolveDataElementOptions(t,e).angle||i):0}}lt(eu,"id","polarArea"),lt(eu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),lt(eu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ay extends Na{}lt(ay,"id","pie"),lt(ay,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ff extends hi{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return rA.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const o=this._cachedMeta.rScale,l=s==="reset";for(let u=e;u<e+i;u++){const h=t[u],d=this.resolveDataElementOptions(u,h.active?"active":s),m=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:m.x,b=l?o.yCenter:m.y,E={x:_,y:b,angle:m.angle,skip:isNaN(_)||isNaN(b),options:d};this.updateElement(h,u,E,s)}}}lt(Ff,"id","radar"),lt(Ff,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),lt(Ff,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Hf extends hi{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),h=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=Xx(e,i,s);if(this._drawStart=o,this._drawCount=l,Qx(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:h}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:d}=this._cachedMeta,m=this.resolveDataElementOptions(e,s),_=this.getSharedOptions(m),b=this.includeOptions(s,_),E=l.axis,w=u.axis,{spanGaps:x,segment:A}=this.options,O=cl(x)?x:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||s==="none";let B=e>0&&this.getParsed(e-1);for(let Y=e;Y<e+i;++Y){const H=t[Y],Z=this.getParsed(Y),M=V?H:{},I=Nt(Z[w]),C=M[E]=l.getPixelForValue(Z[E],Y),k=M[w]=o||I?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,Z,h):Z[w],Y);M.skip=isNaN(C)||isNaN(k)||I,M.stop=Y>0&&Math.abs(Z[E]-B[E])>O,A&&(M.parsed=Z,M.raw=d.data[Y]),b&&(M.options=_||this.resolveDataElementOptions(Y,H.active?"active":s)),V||this.updateElement(H,Y,M,s),B=Z}this.updateSharedOptions(_,s,m)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let h=e.length-1;h>=0;--h)u=Math.max(u,e[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,l)/2}}lt(Hf,"id","scatter"),lt(Hf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),lt(Hf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var jV=Object.freeze({__proto__:null,BarController:Bf,BubbleController:jf,DoughnutController:Na,LineController:tu,PieController:ay,PolarAreaController:eu,RadarController:Ff,ScatterController:Hf});function Ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class D_{constructor(t){lt(this,"options");this.options=t||{}}static override(t){Object.assign(D_.prototype,t)}init(){}formats(){return Ia()}parse(){return Ia()}format(){return Ia()}add(){return Ia()}diff(){return Ia()}startOf(){return Ia()}endOf(){return Ia()}}var FV={_date:D_};function HV(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?fL:xs;if(i){if(s._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const b=d(o,t,e-_),E=d(o,t,e+_);return{lo:b.lo,hi:E.hi}}}}else{const m=d(o,t,e);if(h){const{vScale:_}=s._cachedMeta,{_parsed:b}=n,E=b.slice(0,m.lo+1).reverse().findIndex(x=>!Nt(x[_.axis]));m.lo-=Math.max(0,E);const w=b.slice(m.hi).findIndex(x=>!Nt(x[_.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:o.length-1}}function Kd(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=o.length;u<h;++u){const{index:d,data:m}=o[u],{lo:_,hi:b}=HV(o[u],t,l,s);for(let E=_;E<=b;++E){const w=m[E];w.skip||i(w,d,E)}}}function qV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Sm(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||Kd(n,e,t,function(u,h,d){!s&&!As(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:h,index:d})},!0),o}function GV(n,t,e,i){let s=[];function o(l,u,h){const{startAngle:d,endAngle:m}=l.getProps(["startAngle","endAngle"],i),{angle:_}=Gx(l,{x:t.x,y:t.y});_u(_,d,m)&&s.push({element:l,datasetIndex:u,index:h})}return Kd(n,e,t,o),s}function WV(n,t,e,i,s,o){let l=[];const u=qV(e);let h=Number.POSITIVE_INFINITY;function d(m,_,b){const E=m.inRange(t.x,t.y,s);if(i&&!E)return;const w=m.getCenterPoint(s);if(!(!!o||n.isPointInArea(w))&&!E)return;const A=u(t,w);A<h?(l=[{element:m,datasetIndex:_,index:b}],h=A):A===h&&l.push({element:m,datasetIndex:_,index:b})}return Kd(n,e,t,d),l}function wm(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?GV(n,t,e,s):WV(n,t,e,i,s,o)}function s1(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Kd(n,e,t,(h,d,m)=>{h[l]&&h[l](t[e],s)&&(o.push({element:h,datasetIndex:d,index:m}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:o}var KV={modes:{index(n,t,e,i){const s=Oa(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Sm(n,s,o,i,l):wm(n,s,o,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,_=d.data[m];_&&!_.skip&&h.push({element:_,datasetIndex:d.index,index:m})}),h):[]},dataset(n,t,e,i){const s=Oa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Sm(n,s,o,i,l):wm(n,s,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,d=n.getDatasetMeta(h).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:h,index:m})}return u},point(n,t,e,i){const s=Oa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Sm(n,s,o,i,l)},nearest(n,t,e,i){const s=Oa(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return wm(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=Oa(t,n);return s1(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Oa(t,n);return s1(n,s,"y",e.intersect,i)}}};const pA=["left","top","right","bottom"];function Dc(n,t){return n.filter(e=>e.pos===t)}function r1(n,t){return n.filter(e=>pA.indexOf(e.pos)===-1&&e.box.axis===t)}function Mc(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function YV(n){const t=[];let e,i,s,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function $V(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!pA.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function XV(n,t){const e=$V(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:h}=u.box,d=e[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=m?m*s:h&&t.availableHeight)}return e}function QV(n){const t=YV(n),e=Mc(t.filter(d=>d.box.fullSize),!0),i=Mc(Dc(t,"left"),!0),s=Mc(Dc(t,"right")),o=Mc(Dc(t,"top"),!0),l=Mc(Dc(t,"bottom")),u=r1(t,"x"),h=r1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Dc(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:o.concat(l).concat(u)}}function a1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function mA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function ZV(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!zt(s)){e.size&&(n[s]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[s]+=e.size}o.getPadding&&mA(l,o.getPadding());const u=Math.max(0,t.outerWidth-a1(l,n,"left","right")),h=Math.max(0,t.outerHeight-a1(l,n,"top","bottom")),d=u!==n.w,m=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:d,other:m}:{same:m,other:d}}function JV(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function t6(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function jc(n,t,e,i){const s=[];let o,l,u,h,d,m;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],h=u.box,h.update(u.width||t.w,u.height||t.h,t6(u.horizontal,t));const{same:_,other:b}=ZV(t,e,u,i);d|=_&&s.length,m=m||b,h.fullSize||s.push(u)}return d&&jc(s,t,e,i)||m}function bf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function o1(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const u of n){const h=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*m,b=d.size||h.height;yu(d.start)&&(l=d.start),h.fullSize?bf(h,s.left,l,e.outerWidth-s.right-s.left,b):bf(h,t.left+d.placed,l,_,b),d.start=l,d.placed+=_,l=h.bottom}else{const _=t.h*m,b=d.size||h.width;yu(d.start)&&(o=d.start),h.fullSize?bf(h,o,s.top,b,e.outerHeight-s.bottom-s.top):bf(h,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=h.right}}t.x=o,t.y=l}var hn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=dn(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=QV(n.boxes),h=u.vertical,d=u.horizontal;Jt(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=h.reduce((x,A)=>A.box.options&&A.box.options.display===!1?x:x+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),b=Object.assign({},s);mA(b,dn(i));const E=Object.assign({maxPadding:b,w:o,h:l,x:s.left,y:s.top},s),w=XV(h.concat(d),_);jc(u.fullSize,E,_,w),jc(h,E,_,w),jc(d,E,_,w)&&jc(h,E,_,w),JV(E),o1(u.leftAndTop,E,_,w),E.x+=E.w,E.y+=E.h,o1(u.rightAndBottom,E,_,w),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Jt(u.chartArea,x=>{const A=x.box;Object.assign(A,n.chartArea),A.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class yA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class e6 extends yA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qf="$chartjs",n6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},l1=n=>n===null||n==="";function i6(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[qf]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",l1(s)){const o=GT(n,"width");o!==void 0&&(n.width=o)}if(l1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=GT(n,"height");o!==void 0&&(n.height=o)}return n}const _A=rV?{passive:!0}:!1;function s6(n,t,e){n&&n.addEventListener(t,e,_A)}function r6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,_A)}function a6(n,t){const e=n6[n.type]||n.type,{x:i,y:s}=Oa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Td(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function o6(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Td(u.addedNodes,i),l=l&&!Td(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function l6(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Td(u.removedNodes,i),l=l&&!Td(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const bu=new Map;let c1=0;function vA(){const n=window.devicePixelRatio;n!==c1&&(c1=n,bu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function c6(n,t){bu.size||window.addEventListener("resize",vA),bu.set(n,t)}function u6(n){bu.delete(n),bu.size||window.removeEventListener("resize",vA)}function h6(n,t,e){const i=n.canvas,s=i&&I_(i);if(!s)return;const o=$x((u,h)=>{const d=s.clientWidth;e(u,h),d<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],d=h.contentRect.width,m=h.contentRect.height;d===0&&m===0||o(d,m)});return l.observe(s),c6(n,o),l}function xm(n,t,e){e&&e.disconnect(),t==="resize"&&u6(n)}function f6(n,t,e){const i=n.canvas,s=$x(o=>{n.ctx!==null&&e(a6(o,n))},n);return s6(i,t,s),s}class d6 extends yA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(i6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[qf])return!1;const i=e[qf].initial;["height","width"].forEach(o=>{const l=i[o];Nt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[qf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:o6,detach:l6,resize:h6}[e]||f6;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:xm,detach:xm,resize:xm}[e]||r6)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return sV(t,e,i,s)}isAttached(t){const e=t&&I_(t);return!!(e&&e.isConnected)}}function g6(n){return!C_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?e6:d6}class gi{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return cl(this.x)&&cl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}lt(gi,"defaults",{}),lt(gi,"defaultRoutes");function p6(n,t){const e=n.options.ticks,i=m6(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?_6(t):[],l=o.length,u=o[0],h=o[l-1],d=[];if(l>s)return v6(t,d,o,l/s),d;const m=y6(o,t,s);if(l>0){let _,b;const E=l>1?Math.round((h-u)/(l-1)):null;for(Ef(t,d,m,Nt(E)?0:u-E,u),_=0,b=l-1;_<b;_++)Ef(t,d,m,o[_],o[_+1]);return Ef(t,d,m,h,Nt(E)?t.length:h+E),d}return Ef(t,d,m),d}function m6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function y6(n,t,e){const i=b6(n),s=t.length/e;if(!i)return Math.max(s,1);const o=oL(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>s)return h}return Math.max(s,1)}function _6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function v6(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function Ef(n,t,e,i,s){const o=Dt(i,0),l=Math.min(Dt(s,n.length),n.length);let u=0,h,d,m;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===m&&(t.push(n[d]),u++,m=Math.round(o+u*e))}function b6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const E6=n=>n==="left"?"right":n==="right"?"left":n,u1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,h1=(n,t)=>Math.min(t||n,n);function f1(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function T6(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(h-o,l-h):t===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<o-u||h>l+u)))return h}function S6(n,t){Jt(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Oc(n){return n.drawTicks?n.tickLength:0}function d1(n,t){if(!n.display)return 0;const e=ze(n.font,t),i=dn(n.padding);return(le(n.text)?n.text.length:1)*e.lineHeight+i.height}function w6(n,t){return Yr(n,{scale:t,type:"scale"})}function x6(n,t,e){return Yr(n,{tick:e,index:t,type:"tick"})}function A6(n,t,e){let i=T_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=E6(i)),i}function R6(n,t,e,i){const{top:s,left:o,bottom:l,right:u,chart:h}=n,{chartArea:d,scales:m}=h;let _=0,b,E,w;const x=l-s,A=u-o;if(n.isHorizontal()){if(E=ln(i,o,u),zt(e)){const O=Object.keys(e)[0],V=e[O];w=m[O].getPixelForValue(V)+x-t}else e==="center"?w=(d.bottom+d.top)/2+x-t:w=u1(n,e,t);b=u-o}else{if(zt(e)){const O=Object.keys(e)[0],V=e[O];E=m[O].getPixelForValue(V)-A+t}else e==="center"?E=(d.left+d.right)/2-A+t:E=u1(n,e,t);w=ln(i,l,s),_=e==="left"?-xe:xe}return{titleX:E,titleY:w,maxWidth:b,rotation:_}}class Qa extends gi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=kn(t,Number.POSITIVE_INFINITY),e=kn(e,Number.NEGATIVE_INFINITY),i=kn(i,Number.POSITIVE_INFINITY),s=kn(s,Number.NEGATIVE_INFINITY),{min:kn(t,i),max:kn(e,s),minDefined:Ee(t),maxDefined:Ee(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,d=u.length;h<d;++h)l=u[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:kn(e,kn(i,e)),max:kn(i,kn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LL(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?f1(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=p6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),re(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=re(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=h1(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,u,h,d;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),_=m.widest.width,b=m.highest.height,E=$e(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),h=this.maxHeight-Oc(t.grid)-e.padding-d1(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),l=b_(Math.min(Math.asin($e((m.highest.height+6)/u,-1,1)),Math.asin($e(h/d,-1,1))-Math.asin($e(b/d,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=d1(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Oc(o)+h):(t.height=this.maxHeight,t.width=Oc(o)+h),i.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:b}=this._getLabelSizes(),E=i.padding*2,w=ui(this.labelRotation),x=Math.cos(w),A=Math.sin(w);if(u){const O=i.mirror?0:A*_.width+x*b.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=i.mirror?0:x*_.width+A*b.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(d,m,A,x)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;h?d?(b=s*t.width,E=i*e.height):(b=i*t.height,E=s*e.width):o==="start"?E=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,E=e.width/2),this.paddingLeft=Math.max((b-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Nt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=f1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(e/h1(e,i));let d=0,m=0,_,b,E,w,x,A,O,V,B,Y,H;for(_=0;_<e;_+=h){if(w=t[_].label,x=this._resolveTickFontOptions(_),s.font=A=x.string,O=o[A]=o[A]||{data:{},gc:[]},V=x.lineHeight,B=Y=0,!Nt(w)&&!le(w))B=bd(s,O.data,O.gc,B,w),Y=V;else if(le(w))for(b=0,E=w.length;b<E;++b)H=w[b],!Nt(H)&&!le(H)&&(B=bd(s,O.data,O.gc,B,H),Y+=V);l.push(B),u.push(Y),d=Math.max(B,d),m=Math.max(Y,m)}S6(o,e);const Z=l.indexOf(d),M=u.indexOf(m),I=C=>({width:l[C]||0,height:u[C]||0});return{first:I(0),last:I(e-1),widest:I(Z),highest:I(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return hL(this._alignToPixels?Ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=x6(this.getContext(),t,i))}return this.$context||(this.$context=w6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ui(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,h=o.offset,d=this.isHorizontal(),_=this.ticks.length+(h?1:0),b=Oc(o),E=[],w=u.setContext(this.getContext()),x=w.display?w.width:0,A=x/2,O=function(st){return Ca(i,st,x)};let V,B,Y,H,Z,M,I,C,k,L,U,N;if(l==="top")V=O(this.bottom),M=this.bottom-b,C=V-A,L=O(t.top)+A,N=t.bottom;else if(l==="bottom")V=O(this.top),L=t.top,N=O(t.bottom)-A,M=V+A,C=this.top+b;else if(l==="left")V=O(this.right),Z=this.right-b,I=V-A,k=O(t.left)+A,U=t.right;else if(l==="right")V=O(this.left),k=t.left,U=O(t.right)-A,Z=V+A,I=this.left+b;else if(e==="x"){if(l==="center")V=O((t.top+t.bottom)/2+.5);else if(zt(l)){const st=Object.keys(l)[0],ht=l[st];V=O(this.chart.scales[st].getPixelForValue(ht))}L=t.top,N=t.bottom,M=V+A,C=M+b}else if(e==="y"){if(l==="center")V=O((t.left+t.right)/2);else if(zt(l)){const st=Object.keys(l)[0],ht=l[st];V=O(this.chart.scales[st].getPixelForValue(ht))}Z=V-A,I=Z-b,k=t.left,U=t.right}const Gt=Dt(s.ticks.maxTicksLimit,_),Et=Math.max(1,Math.ceil(_/Gt));for(B=0;B<_;B+=Et){const st=this.getContext(B),ht=o.setContext(st),dt=u.setContext(st),wt=ht.lineWidth,z=ht.color,rt=dt.dash||[],gt=dt.dashOffset,ut=ht.tickWidth,ct=ht.tickColor,At=ht.tickBorderDash||[],Tt=ht.tickBorderDashOffset;Y=T6(this,B,h),Y!==void 0&&(H=Ca(i,Y,wt),d?Z=I=k=U=H:M=C=L=N=H,E.push({tx1:Z,ty1:M,tx2:I,ty2:C,x1:k,y1:L,x2:U,y2:N,width:wt,color:z,borderDash:rt,borderDashOffset:gt,tickWidth:ut,tickColor:ct,tickBorderDash:At,tickBorderDashOffset:Tt}))}return this._ticksLength=_,this._borderValue=V,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:d,padding:m,mirror:_}=o,b=Oc(i.grid),E=b+m,w=_?-m:E,x=-ui(this.labelRotation),A=[];let O,V,B,Y,H,Z,M,I,C,k,L,U,N="middle";if(s==="top")Z=this.bottom-w,M=this._getXAxisLabelAlignment();else if(s==="bottom")Z=this.top+w,M=this._getXAxisLabelAlignment();else if(s==="left"){const Et=this._getYAxisLabelAlignment(b);M=Et.textAlign,H=Et.x}else if(s==="right"){const Et=this._getYAxisLabelAlignment(b);M=Et.textAlign,H=Et.x}else if(e==="x"){if(s==="center")Z=(t.top+t.bottom)/2+E;else if(zt(s)){const Et=Object.keys(s)[0],st=s[Et];Z=this.chart.scales[Et].getPixelForValue(st)+E}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")H=(t.left+t.right)/2-E;else if(zt(s)){const Et=Object.keys(s)[0],st=s[Et];H=this.chart.scales[Et].getPixelForValue(st)}M=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const Gt=this._getLabelSizes();for(O=0,V=u.length;O<V;++O){B=u[O],Y=B.label;const Et=o.setContext(this.getContext(O));I=this.getPixelForTick(O)+o.labelOffset,C=this._resolveTickFontOptions(O),k=C.lineHeight,L=le(Y)?Y.length:1;const st=L/2,ht=Et.color,dt=Et.textStrokeColor,wt=Et.textStrokeWidth;let z=M;l?(H=I,M==="inner"&&(O===V-1?z=this.options.reverse?"left":"right":O===0?z=this.options.reverse?"right":"left":z="center"),s==="top"?d==="near"||x!==0?U=-L*k+k/2:d==="center"?U=-Gt.highest.height/2-st*k+k:U=-Gt.highest.height+k/2:d==="near"||x!==0?U=k/2:d==="center"?U=Gt.highest.height/2-st*k:U=Gt.highest.height-L*k,_&&(U*=-1),x!==0&&!Et.showLabelBackdrop&&(H+=k/2*Math.sin(x))):(Z=I,U=(1-L)*k/2);let rt;if(Et.showLabelBackdrop){const gt=dn(Et.backdropPadding),ut=Gt.heights[O],ct=Gt.widths[O];let At=U-gt.top,Tt=0-gt.left;switch(N){case"middle":At-=ut/2;break;case"bottom":At-=ut;break}switch(M){case"center":Tt-=ct/2;break;case"right":Tt-=ct;break;case"inner":O===V-1?Tt-=ct:O>0&&(Tt-=ct/2);break}rt={left:Tt,top:At,width:ct+gt.width,height:ut+gt.height,color:Et.backdropColor}}A.push({label:Y,font:C,textOffset:U,options:{rotation:x,color:ht,strokeColor:dt,strokeWidth:wt,textAlign:z,textBaseline:N,translation:[H,Z],backdrop:rt}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ui(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,h=l.widest.width;let d,m;return e==="left"?s?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=h/2):(d="right",m+=h)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=h/2):(d="left",m=this.left)):e==="right"?s?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=h/2):(d="left",m-=h)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=h/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(h,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const h=s[o];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,m,_,b;this.isHorizontal()?(d=Ca(t,this.left,l)-l/2,m=Ca(t,this.right,u)+u/2,_=b=h):(_=Ca(t,this.top,l)-l/2,b=Ca(t,this.bottom,u)+u/2,d=m=h),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&qd(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,h=l.font,d=l.label,m=l.textOffset;qa(i,d,0,m,h,u)}s&&Gd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=ze(i.font),l=dn(i.padding),u=i.align;let h=o.lineHeight/2;e==="bottom"||e==="center"||zt(e)?(h+=l.bottom,le(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:m,maxWidth:_,rotation:b}=R6(this,h,e,u);qa(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:A6(u,e,s),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),s=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Qa.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ze(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Tf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;D6(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,C6(t,l,i),this.override&&ce.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ce[s]&&(delete ce[s][i],this.override&&delete Ha[i])}}function C6(n,t,e){const i=mu(Object.create(null),[e?ce.get(e):{},ce.get(t),n.defaults]);ce.set(t,i),n.defaultRoutes&&I6(t,n.defaultRoutes),n.descriptors&&ce.describe(t,n.descriptors)}function I6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");ce.route(o,s,h,u)})}function D6(n){return"id"in n&&"defaults"in n}class M6{constructor(){this.controllers=new Tf(hi,"datasets",!0),this.elements=new Tf(gi,"elements"),this.plugins=new Tf(Object,"plugins"),this.scales=new Tf(Qa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):Jt(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=v_(t);re(i["before"+s],[],i),e[t](i),re(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Oi=new M6;class O6{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],h=[e,s,o.options];if(re(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Dt(i.options&&i.options.plugins,{}),o=k6(i);return s===!1&&!e?[]:N6(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function k6(n){const t={},e=[],i=Object.keys(Oi.plugins.items);for(let o=0;o<i.length;o++)e.push(Oi.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function P6(n,t){return!t&&n===!1?null:n===!0?{}:n}function N6(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const u of t){const h=u.id,d=P6(i[h],s);d!==null&&o.push({plugin:u,options:L6(n.config,{plugin:u,local:e[h]},d,l)})}return o}function L6(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function oy(n,t){const e=ce.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function V6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function z6(n,t){return n===t?"_index_":"_value_"}function g1(n){if(n==="x"||n==="y"||n==="r")return n}function U6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ly(n,...t){if(g1(n))return n;for(const e of t){const i=e.axis||U6(e.position)||n.length>1&&g1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function p1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function B6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return p1(n,"x",e[0])||p1(n,"y",e[0])}return{}}function j6(n,t){const e=Ha[n.type]||{scales:{}},i=t.scales||{},s=oy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!zt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=ly(l,u,B6(l,n),ce.scales[u.type]),d=z6(h,s),m=e.scales||{};o[l]=Xc(Object.create(null),[{axis:h},u,m[h],m[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||oy(u,t),m=(Ha[u]||{}).scales||{};Object.keys(m).forEach(_=>{const b=V6(_,h),E=l[b+"AxisID"]||b;o[E]=o[E]||Object.create(null),Xc(o[E],[{axis:b},i[E],m[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];Xc(u,[ce.scales[u.type],ce.scale])}),o}function bA(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=j6(n,t)}function EA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function F6(n){return n=n||{},n.data=EA(n.data),bA(n),n}const m1=new Map,TA=new Set;function Sf(n,t){let e=m1.get(n);return e||(e=t(),m1.set(n,e),TA.add(e)),e}const kc=(n,t,e)=>{const i=qr(t,e);i!==void 0&&n.add(i)};class H6{constructor(t){this._config=F6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=EA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Sf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Sf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Sf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(m=>{t&&(h.add(t),m.forEach(_=>kc(h,t,_))),m.forEach(_=>kc(h,s,_)),m.forEach(_=>kc(h,Ha[o]||{},_)),m.forEach(_=>kc(h,ce,_)),m.forEach(_=>kc(h,sy,_))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),TA.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ha[e]||{},ce.datasets[e]||{},{type:e},ce,sy]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=y1(this._resolverCache,t,s);let h=l;if(G6(l,e)){o.$shared=!1,i=Gr(i)?i():i;const d=this.createResolver(t,i,u);h=ul(l,i,d)}for(const d of e)o[d]=h[d];return o}createResolver(t,e,i=[""],s){const{resolver:o}=y1(this._resolverCache,t,i);return zt(e)?ul(o,e,void 0,s):o}}function y1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:x_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const q6=n=>zt(n)&&Object.getOwnPropertyNames(n).some(t=>Gr(n[t]));function G6(n,t){const{isScriptable:e,isIndexable:i}=eA(n);for(const s of t){const o=e(s),l=i(s),u=(l||o)&&n[s];if(o&&(Gr(u)||q6(u))||l&&le(u))return!0}return!1}var W6="4.4.8";const K6=["top","bottom","left","right","chartArea"];function _1(n,t){return n==="top"||n==="bottom"||K6.indexOf(n)===-1&&t==="x"}function v1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function b1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),re(e&&e.onComplete,[n],t)}function Y6(n){const t=n.chart,e=t.options.animation;re(e&&e.onProgress,[n],t)}function SA(n){return C_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Gf={},E1=n=>{const t=SA(n);return Object.values(Gf).filter(e=>e.canvas===t).pop()};function $6(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function X6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function wf(n,t,e){return n.options.clip?n[e]:t[e]}function Q6(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:wf(e,t,"left"),right:wf(e,t,"right"),top:wf(i,t,"top"),bottom:wf(i,t,"bottom")}:t}var Er;let Yd=(Er=class{static register(...t){Oi.add(...t),T1()}static unregister(...t){Oi.remove(...t),T1()}constructor(t,e){const i=this.config=new H6(e),s=SA(t),o=E1(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||g6(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,d=h&&h.height,m=h&&h.width;if(this.id=ZN(),this.ctx=u,this.canvas=h,this.width=m,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new O6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pL(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],Gf[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ys.listen(this,"complete",b1),ys.listen(this,"progress",Y6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return Nt(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Oi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jT(this.canvas,this.ctx),this}stop(){return ys.stop(this),this}resize(t,e){ys.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,qT(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),re(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],h=ly(l,u),d=h==="r",m=h==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Jt(o,l=>{const u=l.options,h=u.id,d=ly(h,u),m=Dt(u.type,l.dtype);(u.position===void 0||_1(u.position,d)!==_1(l.dposition))&&(u.position=l.dposition),s[h]=!0;let _=null;if(h in i&&i[h].type===m)_=i[h];else{const b=Oi.getScale(m);_=new b({id:h,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),Jt(s,(l,u)=>{l||delete i[u]}),Jt(i,l=>{hn.configure(this,l,l.options),hn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(v1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||oy(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Oi.getController(u),{datasetElementType:d,dataElementType:m}=ce.datasets[u];Object.assign(h,{dataElementType:Oi.getElement(m),datasetElementType:d&&Oi.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),b=!s&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Jt(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(v1("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Jt(this.scales,t=>{hn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!OT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;$6(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!OT(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Gr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ys.has(this)?this.attached&&!ys.running(this)&&ys.start(this):(this.draw(),b1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,o=Q6(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&qd(e,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),s&&Gd(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return As(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=KV.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Yr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);yu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ys.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Gf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Jt(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,d)=>{e.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(e.removeEventListener(this,h,d),delete t[h])},o=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,u,h;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!yd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(h,d)=>h.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,u=this._getActiveElements(t,s,i,l),h=sL(t),d=X6(t,this._lastEvent,i,h);i&&(this._lastEvent=null,re(o.onHover,[t,u,this],this),h&&re(o.onClick,[t,u,this],this));const m=!yd(u,s);return(m||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}},lt(Er,"defaults",ce),lt(Er,"instances",Gf),lt(Er,"overrides",Ha),lt(Er,"registry",Oi),lt(Er,"version",W6),lt(Er,"getChart",E1),Er);function T1(){return Jt(Yd.instances,n=>n._plugins.invalidate())}function Z6(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:u,innerRadius:h}=t;let d=s/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),h>s?(d=s/h,n.arc(o,l,h,e+d,i-d,!0)):n.arc(o,l,s,e+xe,i-xe),n.closePath(),n.clip()}function J6(n){return w_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function t3(n,t,e,i){const s=J6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=h=>{const d=(e-Math.min(o,h))*i/2;return $e(h,0,Math.min(o,d))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:$e(s.innerStart,0,l),innerEnd:$e(s.innerEnd,0,l)}}function qo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Sd(n,t,e,i,s,o){const{x:l,y:u,startAngle:h,pixelMargin:d,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-d,0),b=m>0?m+i+e+d:0;let E=0;const w=s-h;if(i){const Et=m>0?m-i:0,st=_>0?_-i:0,ht=(Et+st)/2,dt=ht!==0?w*ht/(ht+i):w;E=(w-dt)/2}const x=Math.max(.001,w*_-e/oe)/_,A=(w-x)/2,O=h+A+E,V=s-A-E,{outerStart:B,outerEnd:Y,innerStart:H,innerEnd:Z}=t3(t,b,_,V-O),M=_-B,I=_-Y,C=O+B/M,k=V-Y/I,L=b+H,U=b+Z,N=O+H/L,Gt=V-Z/U;if(n.beginPath(),o){const Et=(C+k)/2;if(n.arc(l,u,_,C,Et),n.arc(l,u,_,Et,k),Y>0){const wt=qo(I,k,l,u);n.arc(wt.x,wt.y,Y,k,V+xe)}const st=qo(U,V,l,u);if(n.lineTo(st.x,st.y),Z>0){const wt=qo(U,Gt,l,u);n.arc(wt.x,wt.y,Z,V+xe,Gt+Math.PI)}const ht=(V-Z/b+(O+H/b))/2;if(n.arc(l,u,b,V-Z/b,ht,!0),n.arc(l,u,b,ht,O+H/b,!0),H>0){const wt=qo(L,N,l,u);n.arc(wt.x,wt.y,H,N+Math.PI,O-xe)}const dt=qo(M,O,l,u);if(n.lineTo(dt.x,dt.y),B>0){const wt=qo(M,C,l,u);n.arc(wt.x,wt.y,B,O-xe,C)}}else{n.moveTo(l,u);const Et=Math.cos(C)*_+l,st=Math.sin(C)*_+u;n.lineTo(Et,st);const ht=Math.cos(k)*_+l,dt=Math.sin(k)*_+u;n.lineTo(ht,dt)}n.closePath()}function e3(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u}=t;let h=t.endAngle;if(o){Sd(n,t,e,i,h,s);for(let d=0;d<o;++d)n.fill();isNaN(u)||(h=l+(u%ae||ae))}return Sd(n,t,e,i,h,s),n.fill(),h}function n3(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u,options:h}=t,{borderWidth:d,borderJoinStyle:m,borderDash:_,borderDashOffset:b}=h,E=h.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,E?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let w=t.endAngle;if(o){Sd(n,t,e,i,w,s);for(let x=0;x<o;++x)n.stroke();isNaN(u)||(w=l+(u%ae||ae))}E&&Z6(n,t,w),o||(Sd(n,t,e,i,w,s),n.stroke())}class Fc extends gi{constructor(e){super();lt(this,"circumference");lt(this,"endAngle");lt(this,"fullCircles");lt(this,"innerRadius");lt(this,"outerRadius");lt(this,"pixelMargin");lt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.getProps(["x","y"],s),{angle:l,distance:u}=Gx(o,{x:e,y:i}),{startAngle:h,endAngle:d,innerRadius:m,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),E=(this.options.spacing+this.options.borderWidth)/2,w=Dt(b,d-h),x=_u(l,h,d)&&h!==d,A=w>=ae||x,O=ws(u,m+E,_+E);return A&&O}getCenterPoint(e){const{x:i,y:s,startAngle:o,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:m}=this.options,_=(o+l)/2,b=(u+h+m+d)/2;return{x:i+Math.cos(_)*b,y:s+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ae?Math.floor(s/ae):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*o,Math.sin(h)*o);const d=1-Math.sin(Math.min(oe,s||0)),m=o*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e3(e,this,m,l,u),n3(e,this,m,l,u),e.restore()}}lt(Fc,"id","arc"),lt(Fc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lt(Fc,"defaultRoutes",{backgroundColor:"backgroundColor"}),lt(Fc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function wA(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function i3(n,t,e){n.lineTo(e.x,e.y)}function s3(n){return n.stepped?RL:n.tension||n.cubicInterpolationMode==="monotone"?CL:i3}function xA(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:l,end:u}=t,h=Math.max(s,l),d=Math.min(o,u),m=s<l&&o<l||s>u&&o>u;return{count:i,start:h,loop:t.loop,ilen:d<h&&!m?i+d-h:d-h}}function r3(n,t,e,i){const{points:s,options:o}=t,{count:l,start:u,loop:h,ilen:d}=xA(s,e,i),m=s3(o);let{move:_=!0,reverse:b}=i||{},E,w,x;for(E=0;E<=d;++E)w=s[(u+(b?d-E:E))%l],!w.skip&&(_?(n.moveTo(w.x,w.y),_=!1):m(n,x,w,b,o.stepped),x=w);return h&&(w=s[(u+(b?d:0))%l],m(n,x,w,b,o.stepped)),!!h}function a3(n,t,e,i){const s=t.points,{count:o,start:l,ilen:u}=xA(s,e,i),{move:h=!0,reverse:d}=i||{};let m=0,_=0,b,E,w,x,A,O;const V=Y=>(l+(d?u-Y:Y))%o,B=()=>{x!==A&&(n.lineTo(m,A),n.lineTo(m,x),n.lineTo(m,O))};for(h&&(E=s[V(0)],n.moveTo(E.x,E.y)),b=0;b<=u;++b){if(E=s[V(b)],E.skip)continue;const Y=E.x,H=E.y,Z=Y|0;Z===w?(H<x?x=H:H>A&&(A=H),m=(_*m+Y)/++_):(B(),n.lineTo(Y,H),w=Z,_=0,x=A=H),O=H}B()}function cy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?a3:r3}function o3(n){return n.stepped?aV:n.tension||n.cubicInterpolationMode==="monotone"?oV:ka}function l3(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),wA(n,t.options),n.stroke(s)}function c3(n,t,e,i){const{segments:s,options:o}=t,l=cy(t);for(const u of s)wA(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const u3=typeof Path2D=="function";function h3(n,t,e,i){u3&&!t.options.segment?l3(n,t,e,i):c3(n,t,e,i)}class Ir extends gi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ZL(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dV(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],o=this.points,l=hA(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],h=o3(i);let d,m;for(d=0,m=l.length;d<m;++d){const{start:_,end:b}=l[d],E=o[_],w=o[b];if(E===w){u.push(E);continue}const x=Math.abs((s-E[e])/(w[e]-E[e])),A=h(E,w,x,i.stepped);A[e]=t[e],u.push(A)}return u.length===1?u[0]:u}pathSegment(t,e,i){return cy(this)(t,this,e,i)}path(t,e,i){const s=this.segments,o=cy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),h3(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}lt(Ir,"id","line"),lt(Ir,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),lt(Ir,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),lt(Ir,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function S1(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class Wf extends gi{constructor(e){super();lt(this,"parsed");lt(this,"skip");lt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return S1(this,e,"x",i)}inYRange(e,i){return S1(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!As(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ry(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}lt(Wf,"id","point"),lt(Wf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),lt(Wf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AA(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,d,m,_;return n.horizontal?(_=l/2,u=Math.min(e,s),h=Math.max(e,s),d=i-_,m=i+_):(_=o/2,u=e-_,h=e+_,d=Math.min(i,s),m=Math.max(i,s)),{left:u,top:d,right:h,bottom:m}}function Dr(n,t,e,i){return n?0:$e(t,e,i)}function f3(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=tA(i);return{t:Dr(s.top,o.top,0,e),r:Dr(s.right,o.right,0,t),b:Dr(s.bottom,o.bottom,0,e),l:Dr(s.left,o.left,0,t)}}function d3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=La(s),l=Math.min(t,e),u=n.borderSkipped,h=i||zt(s);return{topLeft:Dr(!h||u.top||u.left,o.topLeft,0,l),topRight:Dr(!h||u.top||u.right,o.topRight,0,l),bottomLeft:Dr(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Dr(!h||u.bottom||u.right,o.bottomRight,0,l)}}function g3(n){const t=AA(n),e=t.right-t.left,i=t.bottom-t.top,s=f3(n,e/2,i/2),o=d3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Am(n,t,e,i){const s=t===null,o=e===null,u=n&&!(s&&o)&&AA(n,i);return u&&(s||ws(t,u.left,u.right))&&(o||ws(e,u.top,u.bottom))}function p3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function m3(n,t){n.rect(t.x,t.y,t.w,t.h)}function Rm(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class Kf extends gi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=g3(this),u=p3(l.radius)?vu:m3;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Rm(l,e,o)),t.clip(),u(t,Rm(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Rm(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Am(this,t,e,i)}inXRange(t,e){return Am(this,t,null,e)}inYRange(t,e){return Am(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}lt(Kf,"id","bar"),lt(Kf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lt(Kf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var y3=Object.freeze({__proto__:null,ArcElement:Fc,BarElement:Kf,LineElement:Ir,PointElement:Wf});const uy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],w1=uy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function RA(n){return uy[n%uy.length]}function CA(n){return w1[n%w1.length]}function _3(n,t){return n.borderColor=RA(t),n.backgroundColor=CA(t),++t}function v3(n,t){return n.backgroundColor=n.data.map(()=>RA(t++)),t}function b3(n,t){return n.backgroundColor=n.data.map(()=>CA(t++)),t}function E3(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Na?t=v3(e,t):s instanceof eu?t=b3(e,t):s&&(t=_3(e,t))}}function x1(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function T3(n){return n&&(n.borderColor||n.backgroundColor)}function S3(){return ce.borderColor!=="rgba(0,0,0,0.1)"||ce.backgroundColor!=="rgba(0,0,0,0.1)"}var w3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,l=x1(i)||T3(s)||o&&x1(o)||S3();if(!e.forceOverride&&l)return;const u=E3(n);i.forEach(u)}};function x3(n,t,e,i,s){const o=s.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let h=0;const d=t+e-1;let m=t,_,b,E,w,x;for(l[h++]=n[m],_=0;_<o-2;_++){let A=0,O=0,V;const B=Math.floor((_+1)*u)+1+t,Y=Math.min(Math.floor((_+2)*u)+1,e)+t,H=Y-B;for(V=B;V<Y;V++)A+=n[V].x,O+=n[V].y;A/=H,O/=H;const Z=Math.floor(_*u)+1+t,M=Math.min(Math.floor((_+1)*u)+1,e)+t,{x:I,y:C}=n[m];for(E=w=-1,V=Z;V<M;V++)w=.5*Math.abs((I-A)*(n[V].y-C)-(I-n[V].x)*(O-C)),w>E&&(E=w,b=n[V],x=V);l[h++]=b,m=x}return l[h++]=n[d],l}function A3(n,t,e,i){let s=0,o=0,l,u,h,d,m,_,b,E,w,x;const A=[],O=t+e-1,V=n[t].x,Y=n[O].x-V;for(l=t;l<t+e;++l){u=n[l],h=(u.x-V)/Y*i,d=u.y;const H=h|0;if(H===m)d<w?(w=d,_=l):d>x&&(x=d,b=l),s=(o*s+u.x)/++o;else{const Z=l-1;if(!Nt(_)&&!Nt(b)){const M=Math.min(_,b),I=Math.max(_,b);M!==E&&M!==Z&&A.push({...n[M],x:s}),I!==E&&I!==Z&&A.push({...n[I],x:s})}l>0&&Z!==E&&A.push(n[Z]),A.push(u),m=H,o=0,w=x=d,_=b=E=l}}return A}function IA(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function A1(n){n.data.datasets.forEach(t=>{IA(t)})}function R3(n,t){const e=t.length;let i=0,s;const{iScale:o}=n,{min:l,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();return h&&(i=$e(xs(t,o.axis,l).lo,0,e-1)),d?s=$e(xs(t,o.axis,u).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var C3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){A1(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:l,indexAxis:u}=s,h=n.getDatasetMeta(o),d=l||s.data;if(Bc([u,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const m=n.scales[h.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:_,count:b}=R3(h,d);const E=e.threshold||4*i;if(b<=E){IA(s);return}Nt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let w;switch(e.algorithm){case"lttb":w=x3(d,_,b,i,e);break;case"min-max":w=A3(d,_,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=w})},destroy(n){A1(n)}};function I3(n,t,e){const i=n.segments,s=n.points,o=t.points,l=[];for(const u of i){let{start:h,end:d}=u;d=M_(h,d,s);const m=hy(e,s[h],s[d],u.loop);if(!t.segments){l.push({source:u,target:m,start:s[h],end:s[d]});continue}const _=hA(t,m);for(const b of _){const E=hy(e,o[b.start],o[b.end],b.loop),w=uA(u,s,E);for(const x of w)l.push({source:x,target:b,start:{[e]:R1(m,E,"start",Math.max)},end:{[e]:R1(m,E,"end",Math.min)}})}}return l}function hy(n,t,e,i){if(i)return;let s=t[n],o=e[n];return n==="angle"&&(s=Pn(s),o=Pn(o)),{property:n,start:s,end:o}}function D3(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=M_(l,u,s);const h=s[l],d=s[u];i!==null?(o.push({x:h.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:h.y}),o.push({x:e,y:d.y}))}),o}function M_(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function R1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function DA(n,t){let e=[],i=!1;return le(n)?(i=!0,e=n):e=D3(n,t),e.length?new Ir({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function C1(n){return n&&n.fill!==!1}function M3(n,t,e){let s=n[t].fill;const o=[t];let l;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!Ee(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function O3(n,t,e){const i=L3(n);if(zt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ee(s)&&Math.floor(s)===s?k3(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function k3(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function P3(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:zt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function N3(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:zt(n)?i=n.value:i=t.getBaseValue(),i}function L3(n){const t=n.options,e=t.fill;let i=Dt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function V3(n){const{scale:t,index:e,line:i}=n,s=[],o=i.segments,l=i.points,u=z3(t,e);u.push(DA({x:null,y:t.bottom},i));for(let h=0;h<o.length;h++){const d=o[h];for(let m=d.start;m<=d.end;m++)U3(s,l[m],u)}return new Ir({points:s,options:{}})}function z3(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function U3(n,t,e){const i=[];for(let s=0;s<e.length;s++){const o=e[s],{first:l,last:u,point:h}=B3(o,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function B3(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],o=n.segments,l=n.points;let u=!1,h=!1;for(let d=0;d<o.length;d++){const m=o[d],_=l[m.start][e],b=l[m.end][e];if(ws(s,_,b)){u=s===_,h=s===b;break}}return{first:u,last:h,point:i}}class MA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:o,radius:l}=this;return e=e||{start:0,end:ae},t.arc(s,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function j3(n){const{chart:t,fill:e,line:i}=n;if(Ee(e))return F3(t,e);if(e==="stack")return V3(n);if(e==="shape")return!0;const s=H3(n);return s instanceof MA?s:DA(s,i)}function F3(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function H3(n){return(n.scale||{}).getPointPositionForValue?G3(n):q3(n)}function q3(n){const{scale:t={},fill:e}=n,i=P3(e,t);if(Ee(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function G3(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,l=N3(e,t,o),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,o);return new MA({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)u.push(t.getPointPositionForValue(h,l));return u}function Cm(n,t,e){const i=j3(t),{line:s,scale:o,axis:l}=t,u=s.options,h=u.fill,d=u.backgroundColor,{above:m=d,below:_=d}=h||{};i&&s.points.length&&(qd(n,e),W3(n,{line:s,target:i,above:m,below:_,area:e,scale:o,axis:l}),Gd(n))}function W3(n,t){const{line:e,target:i,above:s,below:o,area:l,scale:u}=t,h=e._loop?"angle":t.axis;n.save(),h==="x"&&o!==s&&(I1(n,i,l.top),D1(n,{line:e,target:i,color:s,scale:u,property:h}),n.restore(),n.save(),I1(n,i,l.bottom)),D1(n,{line:e,target:i,color:o,scale:u,property:h}),n.restore()}function I1(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:d}=u,m=s[h],_=s[M_(h,d,s)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function D1(n,t){const{line:e,target:i,property:s,color:o,scale:l}=t,u=I3(e,i,s);for(const{source:h,target:d,start:m,end:_}of u){const{style:{backgroundColor:b=o}={}}=h,E=i!==!0;n.save(),n.fillStyle=b,K3(n,l,E&&hy(s,m,_)),n.beginPath();const w=!!e.pathSegment(n,h);let x;if(E){w?n.closePath():M1(n,i,_,s);const A=!!i.pathSegment(n,d,{move:w,reverse:!0});x=w&&A,x||M1(n,i,m,s)}n.closePath(),n.fill(x?"evenodd":"nonzero"),n.restore()}}function K3(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:o,start:l,end:u}=e||{};o==="x"&&(n.beginPath(),n.rect(l,i,u-l,s-i),n.clip())}function M1(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var Y3={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let o,l,u,h;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof Ir&&(h={visible:n.isDatasetVisible(l),index:l,fill:O3(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=M3(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Cm(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;C1(o)&&Cm(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!C1(i)||e.drawTime!=="beforeDatasetDraw"||Cm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const O1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},$3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class k1 extends gi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=re(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ze(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=O1(i,o);let d,m;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(l,o,u,h)+10):(m=this.maxHeight,d=this._fitCols(l,s,u,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],m=s+u;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,E=-m;return this.legendItems.forEach((w,x)=>{const A=i+e/2+o.measureText(w.text).width;(x===0||d[d.length-1]+A+2*u>l)&&(_+=m,d[d.length-(x>0?0:1)]=0,E+=m,b++),h[x]={left:0,top:E,row:b,width:A,height:s},d[d.length-1]+=A+u}),_}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],m=l-t;let _=u,b=0,E=0,w=0,x=0;return this.legendItems.forEach((A,O)=>{const{itemWidth:V,itemHeight:B}=X3(i,e,o,A,s);O>0&&E+B+2*u>m&&(_+=b+u,d.push({width:b,height:E}),w+=b+u,x++,b=E=0),h[O]={left:w,top:E,col:x,width:V,height:B},b=Math.max(b,V),E+=B+u}),_+=b,d.push({width:b,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=tl(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=ln(i,this.left+s,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,h=ln(i,this.left+s,this.right-this.lineWidths[u])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let u=0,h=ln(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,h=ln(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qd(t,this),this._draw(),Gd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=ce.color,h=tl(t.rtl,this.left,this.width),d=ze(l.font),{padding:m}=l,_=d.size,b=_/2;let E;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:w,boxHeight:x,itemHeight:A}=O1(l,_),O=function(Z,M,I){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;s.save();const C=Dt(I.lineWidth,1);if(s.fillStyle=Dt(I.fillStyle,u),s.lineCap=Dt(I.lineCap,"butt"),s.lineDashOffset=Dt(I.lineDashOffset,0),s.lineJoin=Dt(I.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=Dt(I.strokeStyle,u),s.setLineDash(Dt(I.lineDash,[])),l.usePointStyle){const k={radius:x*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:C},L=h.xPlus(Z,w/2),U=M+b;Jx(s,k,L,U,l.pointStyleWidth&&w)}else{const k=M+Math.max((_-x)/2,0),L=h.leftForLtr(Z,w),U=La(I.borderRadius);s.beginPath(),Object.values(U).some(N=>N!==0)?vu(s,{x:L,y:k,w,h:x,radius:U}):s.rect(L,k,w,x),s.fill(),C!==0&&s.stroke()}s.restore()},V=function(Z,M,I){qa(s,I.text,Z,M+A/2,d,{strikethrough:I.hidden,textAlign:h.textAlign(I.textAlign)})},B=this.isHorizontal(),Y=this._computeTitleHeight();B?E={x:ln(o,this.left+m,this.right-i[0]),y:this.top+m+Y,line:0}:E={x:this.left+m,y:ln(o,this.top+Y+m,this.bottom-e[0].height),line:0},oA(this.ctx,t.textDirection);const H=A+m;this.legendItems.forEach((Z,M)=>{s.strokeStyle=Z.fontColor,s.fillStyle=Z.fontColor;const I=s.measureText(Z.text).width,C=h.textAlign(Z.textAlign||(Z.textAlign=l.textAlign)),k=w+b+I;let L=E.x,U=E.y;h.setWidth(this.width),B?M>0&&L+k+m>this.right&&(U=E.y+=H,E.line++,L=E.x=ln(o,this.left+m,this.right-i[E.line])):M>0&&U+H>this.bottom&&(L=E.x=L+e[E.line].width+m,E.line++,U=E.y=ln(o,this.top+Y+m,this.bottom-e[E.line].height));const N=h.x(L);if(O(N,U,Z),L=mL(C,L+w+b,B?L+k:this.right,t.rtl),V(h.x(L),U,Z),B)E.x+=k+m;else if(typeof Z.text!="string"){const Gt=d.lineHeight;E.y+=OA(Z,Gt)+m}else E.y+=H}),lA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ze(e.font),s=dn(e.padding);if(!e.display)return;const o=tl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,d=s.top+h;let m,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+d,_=ln(t.align,_,this.right-b);else{const w=this.columnSizes.reduce((x,A)=>Math.max(x,A.height),0);m=d+ln(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const E=ln(u,_,_+b);l.textAlign=o.textAlign(T_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,qa(l,e.text,E,m,i)}_computeTitleHeight(){const t=this.options.title,e=ze(t.font),i=dn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(ws(t,this.left,this.right)&&ws(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],ws(t,s.left,s.left+s.width)&&ws(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!J3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=$3(s,i);s&&!o&&re(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&re(e.onHover,[t,i,this],this)}else i&&re(e.onClick,[t,i,this],this)}}function X3(n,t,e,i,s){const o=Q3(i,n,t,e),l=Z3(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function Q3(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function Z3(n,t,e){let i=n;return typeof t.text!="string"&&(i=OA(t,e)),i}function OA(n,t){const e=n.text?n.text.length:0;return t*e}function J3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var t5={id:"legend",_element:k1,start(n,t,e){const i=n.legend=new k1({ctx:n.ctx,options:e,chart:n});hn.configure(n,i,e),hn.addBox(n,i)},stop(n){hn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;hn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(e?0:void 0),m=dn(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class O_ extends gi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=le(i.text)?i.text.length:1;this._padding=dn(i.padding);const o=s*ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:l}=this,u=l.align;let h=0,d,m,_;return this.isHorizontal()?(m=ln(u,i,o),_=e+t,d=o-i):(l.position==="left"?(m=i+t,_=ln(u,s,e),h=oe*-.5):(m=o-t,_=ln(u,e,s),h=oe*.5),d=s-e),{titleX:m,titleY:_,maxWidth:d,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ze(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:d}=this._drawArgs(o);qa(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:d,textAlign:T_(e.align),textBaseline:"middle",translation:[l,u]})}}function e5(n,t){const e=new O_({ctx:n.ctx,options:t,chart:n});hn.configure(n,e,t),hn.addBox(n,e),n.titleBlock=e}var n5={id:"title",_element:O_,start(n,t,e){e5(n,e)},stop(n){const t=n.titleBlock;hn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;hn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xf=new WeakMap;var i5={id:"subtitle",start(n,t,e){const i=new O_({ctx:n.ctx,options:e,chart:n});hn.configure(n,i,e),hn.addBox(n,i),xf.set(n,i)},stop(n){hn.removeBox(n,xf.get(n)),xf.delete(n)},beforeUpdate(n,t,e){const i=xf.get(n);hn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hc={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),m=iy(t,d);m<s&&(s=m,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Mi(n,t){return t&&(le(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function _s(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function s5(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function P1(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=t,h=ze(t.bodyFont),d=ze(t.titleFont),m=ze(t.footerFont),_=o.length,b=s.length,E=i.length,w=dn(t.padding);let x=w.height,A=0,O=i.reduce((Y,H)=>Y+H.before.length+H.lines.length+H.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(x+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),O){const Y=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;x+=E*Y+(O-E)*h.lineHeight+(O-1)*t.bodySpacing}b&&(x+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let V=0;const B=function(Y){A=Math.max(A,e.measureText(Y).width+V)};return e.save(),e.font=d.string,Jt(n.title,B),e.font=h.string,Jt(n.beforeBody.concat(n.afterBody),B),V=t.displayColors?l+2+t.boxPadding:0,Jt(i,Y=>{Jt(Y.before,B),Jt(Y.lines,B),Jt(Y.after,B)}),V=0,e.font=m.string,Jt(n.footer,B),e.restore(),A+=w.width,{width:A,height:x}}function r5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function a5(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function o5(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:u,right:h}}=n;let d="center";return i==="center"?d=s<=(u+h)/2?"left":"right":s<=o/2?d="left":s>=l-o/2&&(d="right"),a5(d,n,t,e)&&(d="center"),d}function N1(n,t,e){const i=e.yAlign||t.yAlign||r5(n,e);return{xAlign:e.xAlign||t.xAlign||o5(n,t,e,i),yAlign:i}}function l5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function c5(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function L1(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,d=s+o,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:E}=La(l);let w=l5(t,u);const x=c5(t,h,d);return h==="center"?u==="left"?w+=d:u==="right"&&(w-=d):u==="left"?w-=Math.max(m,b)+s:u==="right"&&(w+=Math.max(_,E)+s),{x:$e(w,0,i.width-t.width),y:$e(x,0,i.height-t.height)}}function Af(n,t,e){const i=dn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function V1(n){return Mi([],_s(n))}function u5(n,t,e){return Yr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function z1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const kA={beforeTitle:ms,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Nt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function Sn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?kA[t].call(e,i):s}class fy extends gi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new fA(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=u5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),l=Sn(i,"afterTitle",this,t);let u=[];return u=Mi(u,_s(s)),u=Mi(u,_s(o)),u=Mi(u,_s(l)),u}getBeforeBody(t,e){return V1(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Jt(t,o=>{const l={before:[],lines:[],after:[]},u=z1(i,o);Mi(l.before,_s(Sn(u,"beforeLabel",this,o))),Mi(l.lines,Sn(u,"label",this,o)),Mi(l.after,_s(Sn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return V1(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),l=Sn(i,"afterFooter",this,t);let u=[];return u=Mi(u,_s(s)),u=Mi(u,_s(o)),u=Mi(u,_s(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],h,d;for(h=0,d=e.length;h<d;++h)u.push(s5(this.chart,e[h]));return t.filter&&(u=u.filter((m,_,b)=>t.filter(m,_,b,i))),t.itemSort&&(u=u.sort((m,_)=>t.itemSort(m,_,i))),Jt(u,m=>{const _=z1(t.callbacks,m);s.push(Sn(_,"labelColor",this,m)),o.push(Sn(_,"labelPointStyle",this,m)),l.push(Sn(_,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Hc[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=P1(this,i),d=Object.assign({},u,h),m=N1(this.chart,i,d),_=L1(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:d,bottomLeft:m,bottomRight:_}=La(u),{x:b,y:E}=t,{width:w,height:x}=e;let A,O,V,B,Y,H;return o==="center"?(Y=E+x/2,s==="left"?(A=b,O=A-l,B=Y+l,H=Y-l):(A=b+w,O=A+l,B=Y-l,H=Y+l),V=A):(s==="left"?O=b+Math.max(h,m)+l:s==="right"?O=b+w-Math.max(d,_)-l:O=this.caretX,o==="top"?(B=E,Y=B-l,A=O-l,V=O+l):(B=E+x,Y=B+l,A=O+l,V=O-l),H=B),{x1:A,x2:O,x3:V,y1:B,y2:Y,y3:H}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,u,h;if(o){const d=tl(i.rtl,this.x,this.width);for(t.x=Af(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=ze(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<o;++h)e.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=o,m=ze(o.bodyFont),_=Af(this,"left",o),b=s.x(_),E=h<m.lineHeight?(m.lineHeight-h)/2:0,w=e.y+E;if(o.usePointStyle){const x={radius:Math.min(d,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=s.leftForLtr(b,d)+d/2,O=w+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ry(t,x,A,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,ry(t,x,A,O)}else{t.lineWidth=zt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const x=s.leftForLtr(b,d),A=s.leftForLtr(s.xPlus(b,1),d-2),O=La(l.borderRadius);Object.values(O).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,vu(t,{x,y:w,w:d,h,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),vu(t,{x:A,y:w+1,w:d-2,h:h-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(x,w,d,h),t.strokeRect(x,w,d,h),t.fillStyle=l.backgroundColor,t.fillRect(A,w+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:d,boxPadding:m}=i,_=ze(i.bodyFont);let b=_.lineHeight,E=0;const w=tl(i.rtl,this.x,this.width),x=function(I){e.fillText(I,w.x(t.x+E),t.y+b/2),t.y+=b+o},A=w.textAlign(l);let O,V,B,Y,H,Z,M;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=Af(this,A,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,x),E=u&&A!=="right"?l==="center"?d/2+m:d+2+m:0,Y=0,Z=s.length;Y<Z;++Y){for(O=s[Y],V=this.labelTextColors[Y],e.fillStyle=V,Jt(O.before,x),B=O.lines,u&&B.length&&(this._drawColorBox(e,t,Y,w,i),b=Math.max(_.lineHeight,h)),H=0,M=B.length;H<M;++H)x(B[H]),b=_.lineHeight;Jt(O.after,x)}E=0,b=_.lineHeight,Jt(this.afterBody,x),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,u;if(o){const h=tl(i.rtl,this.x,this.width);for(t.x=Af(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=ze(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=t,{width:d,height:m}=i,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:w}=La(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+_,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+d-b,h),e.quadraticCurveTo(u+d,h,u+d,h+b),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+d,h+m-w),e.quadraticCurveTo(u+d,h+m,u+d-w,h+m),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+E,h+m),e.quadraticCurveTo(u,h+m,u,h+m-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,h+_),e.quadraticCurveTo(u,h,u+_,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Hc[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=P1(this,t),h=Object.assign({},l,this._size),d=N1(e,t,h),m=L1(t,h,d,e);(s._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=dn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),oA(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),lA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[h],index:h}}),o=!yd(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),h=e||!yd(l,o)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=Hc[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}lt(fy,"positioners",Hc);var h5={id:"tooltip",_element:fy,positioners:Hc,afterInit(n,t,e){e&&(n.tooltip=new fy({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},f5=Object.freeze({__proto__:null,Colors:w3,Decimation:C3,Filler:Y3,Legend:t5,SubTitle:i5,Title:n5,Tooltip:h5});const d5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function g5(n,t,e,i){const s=n.indexOf(t);if(s===-1)return d5(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const p5=(n,t)=>n===null?null:$e(Math.round(n),0,t);function U1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class dy extends Qa{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Nt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:g5(i,t,Dt(e,t),this._addedLabels),p5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return U1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}lt(dy,"id","category"),lt(dy,"defaults",{ticks:{callback:U1}});function m5(n,t){const e=[],{bounds:s,step:o,min:l,max:u,precision:h,count:d,maxTicks:m,maxDigits:_,includeBounds:b}=n,E=o||1,w=m-1,{min:x,max:A}=t,O=!Nt(l),V=!Nt(u),B=!Nt(d),Y=(A-x)/(_+1);let H=PT((A-x)/w/E)*E,Z,M,I,C;if(H<1e-14&&!O&&!V)return[{value:x},{value:A}];C=Math.ceil(A/H)-Math.floor(x/H),C>w&&(H=PT(C*H/w/E)*E),Nt(h)||(Z=Math.pow(10,h),H=Math.ceil(H*Z)/Z),s==="ticks"?(M=Math.floor(x/H)*H,I=Math.ceil(A/H)*H):(M=x,I=A),O&&V&&o&&cL((u-l)/o,H/1e3)?(C=Math.round(Math.min((u-l)/H,m)),H=(u-l)/C,M=l,I=u):B?(M=O?l:M,I=V?u:I,C=d-1,H=(I-M)/C):(C=(I-M)/H,Qc(C,Math.round(C),H/1e3)?C=Math.round(C):C=Math.ceil(C));const k=Math.max(NT(H),NT(M));Z=Math.pow(10,Nt(h)?k:h),M=Math.round(M*Z)/Z,I=Math.round(I*Z)/Z;let L=0;for(O&&(b&&M!==l?(e.push({value:l}),M<l&&L++,Qc(Math.round((M+L*H)*Z)/Z,l,B1(l,Y,n))&&L++):M<l&&L++);L<C;++L){const U=Math.round((M+L*H)*Z)/Z;if(V&&U>u)break;e.push({value:U})}return V&&b&&I!==u?e.length&&Qc(e[e.length-1].value,u,B1(u,Y,n))?e[e.length-1].value=u:e.push({value:u}):(!V||I===u)&&e.push({value:I}),e}function B1(n,t,{horizontal:e,minRotation:i}){const s=ui(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class wd extends Qa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=h=>s=e?s:h,u=h=>o=i?o:h;if(t){const h=zi(s),d=zi(o);h<0&&d<0?u(0):h>0&&d>0&&l(0)}if(s===o){let h=o===0?1:Math.abs(o*.05);u(o+h),t||l(s-h)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=m5(s,o);return t.bounds==="ticks"&&qx(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return zu(t,this.chart.options.locale,this.options.ticks.format)}}class gy extends wd{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?t:0,this.max=Ee(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ui(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}lt(gy,"id","linear"),lt(gy,"defaults",{ticks:{callback:Hd.formatters.numeric}});const Eu=n=>Math.floor(Cr(n)),Da=(n,t)=>Math.pow(10,Eu(n)+t);function j1(n){return n/Math.pow(10,Eu(n))===1}function F1(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function y5(n,t){const e=t-n;let i=Eu(e);for(;F1(n,t,i)>10;)i++;for(;F1(n,t,i)<10;)i--;return Math.min(i,Eu(n))}function _5(n,{min:t,max:e}){t=kn(n.min,t);const i=[],s=Eu(t);let o=y5(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),h=s>o?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,m=Math.floor((t-h)/u/10)*u*10;let _=Math.floor((d-m)/Math.pow(10,o)),b=kn(n.min,Math.round((h+m+_*Math.pow(10,o))*l)/l);for(;b<e;)i.push({value:b,major:j1(b),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),b=Math.round((h+m+_*Math.pow(10,o))*l)/l;const E=kn(n.max,b);return i.push({value:E,major:j1(E),significand:_}),i}class py extends Qa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=wd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ee(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?Math.max(0,t):null,this.max=Ee(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ee(this._userMin)&&(this.min=t===Da(this.min,0)?Da(this.min,-1):Da(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const o=u=>i=t?i:u,l=u=>s=e?s:u;i===s&&(i<=0?(o(1),l(10)):(o(Da(i,-1)),l(Da(s,1)))),i<=0&&o(Da(s,-1)),s<=0&&l(Da(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=_5(e,this);return t.bounds==="ticks"&&qx(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":zu(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Cr(t),this._valueRange=Cr(this.max)-Cr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Cr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}lt(py,"id","logarithmic"),lt(py,"defaults",{ticks:{callback:Hd.formatters.logarithmic,major:{enabled:!0}}});function my(n){const t=n.ticks;if(t.display&&n.display){const e=dn(t.backdropPadding);return Dt(t.font&&t.font.size,ce.font.size)+e.height}return 0}function v5(n,t,e){return e=le(e)?e:[e],{w:AL(n,t.string,e),h:e.length*t.lineHeight}}function H1(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function b5(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?oe/o:0;for(let h=0;h<o;h++){const d=l.setContext(n.getPointLabelContext(h));s[h]=d.padding;const m=n.getPointPosition(h,n.drawingArea+s[h],u),_=ze(d.font),b=v5(n.ctx,_,n._pointLabels[h]);i[h]=b;const E=Pn(n.getIndexAngle(h)+u),w=Math.round(b_(E)),x=H1(w,m.x,b.w,0,180),A=H1(w,m.y,b.h,90,270);E5(e,t,E,x,A)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=w5(n,i,s)}function E5(n,t,e,i,s){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,h=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),s.start<t.t?(h=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+h))}function T5(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:l,size:u}=e,h=n.getPointPosition(t,i+s+l,o),d=Math.round(b_(Pn(h.angle+xe))),m=R5(h.y,u.h,d),_=x5(d),b=A5(h.x,u.w,_);return{visible:!0,x:h.x,y:m,textAlign:_,left:b,top:m,right:b+u.w,bottom:m+u.h}}function S5(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:o}=n;return!(As({x:e,y:i},t)||As({x:e,y:o},t)||As({x:s,y:i},t)||As({x:s,y:o},t))}function w5(n,t,e){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,h={extra:my(o)/2,additionalAngle:l?oe/s:0};let d;for(let m=0;m<s;m++){h.padding=e[m],h.size=t[m];const _=T5(n,m,h);i.push(_),u==="auto"&&(_.visible=S5(_,d),_.visible&&(d=_))}return i}function x5(n){return n===0||n===180?"center":n<180?"left":"right"}function A5(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function R5(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function C5(n,t,e){const{left:i,top:s,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Nt(u)){const h=La(t.borderRadius),d=dn(t.backdropPadding);n.fillStyle=u;const m=i-d.left,_=s-d.top,b=o-i+d.width,E=l-s+d.height;Object.values(h).some(w=>w!==0)?(n.beginPath(),vu(n,{x:m,y:_,w:b,h:E,radius:h}),n.fill()):n.fillRect(m,_,b,E)}}function I5(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(s));C5(e,l,o);const u=ze(l.font),{x:h,y:d,textAlign:m}=o;qa(e,n._pointLabels[s],h,d+u.lineHeight/2,u,{color:l.color,textAlign:m,textBaseline:"middle"})}}function PA(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,ae);else{let o=n.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),s.lineTo(o.x,o.y)}}function D5(n,t,e,i,s){const o=n.ctx,l=t.circular,{color:u,lineWidth:h}=t;!l&&!i||!u||!h||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=h,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),PA(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function M5(n,t,e){return Yr(n,{label:e,index:t,type:"pointLabel"})}class qc extends wd{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=dn(my(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ee(t)&&!isNaN(t)?t:0,this.max=Ee(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/my(this.options))}generateTickLabels(t){wd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=re(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?b5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=ae/(this._pointLabels.length||1),i=this.options.startAngle||0;return Pn(t*e+ui(i))}getDistanceFromCenterForValue(t){if(Nt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Nt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return M5(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-xe+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),PA(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:o}=e,l=this._pointLabels.length;let u,h,d;if(e.pointLabels.display&&I5(this,l),s.display&&this.ticks.forEach((m,_)=>{if(_!==0||_===0&&this.min<0){h=this.getDistanceFromCenterForValue(m.value);const b=this.getContext(_),E=s.setContext(b),w=o.setContext(b);D5(this,E,h,l,w)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const m=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:b}=m;!b||!_||(t.lineWidth=b,t.strokeStyle=_,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(h)),m=ze(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=m.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const _=dn(d.backdropPadding);t.fillRect(-l/2-_.left,-o-m.size/2-_.top,l+_.width,m.size+_.height)}qa(t,u.label,0,-o,m,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}lt(qc,"id","radialLinear"),lt(qc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Hd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),lt(qc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),lt(qc,"descriptors",{angleLines:{_fallback:"grid"}});const $d={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys($d);function q1(n,t){return n-t}function G1(n,t){if(Nt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ee(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(cl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function W1(n,t,e,i){const s=xn.length;for(let o=xn.indexOf(n);o<s-1;++o){const l=$d[xn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return xn[o]}return xn[s-1]}function O5(n,t,e,i,s){for(let o=xn.length-1;o>=xn.indexOf(e);o--){const l=xn[o];if($d[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return xn[e?xn.indexOf(e):0]}function k5(n){for(let t=xn.indexOf(n)+1,e=xn.length;t<e;++t)if($d[xn[t]].common)return xn[t]}function K1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=E_(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function P5(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=o;u<=l;u=+s.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function Y1(n,t,e){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!e?i:P5(n,i,s,e)}class Tu extends Qa{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new FV._date(t.adapters.date);s.init(e),Xc(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:G1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ee(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=Ee(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=dL(s,o,l);return this._unit=e.unit||(i.autoSkip?W1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):O5(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:k5(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),Y1(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=$e(e,0,l),i=$e(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||W1(o.minUnit,e,i,this._getLabelCapacity(e)),u=Dt(s.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,d=cl(h)||h===!0,m={};let _=e,b,E;if(d&&(_=+t.startOf(_,"isoWeek",h)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(b=_,E=0;b<i;b=+t.add(b,u,l),E++)K1(m,b,w);return(b===i||s.bounds==="ticks"||E===1)&&K1(m,b,w),Object.keys(m).sort(q1).map(x=>+x)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return re(l,[t,e,i],this);const u=o.time.displayFormats,h=this._unit,d=this._majorUnit,m=h&&u[h],_=d&&u[d],b=i[e],E=d&&_&&b&&b.major;return this._adapter.format(t,s||(E?_:m))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=ui(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Y1(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(G1(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Kx(t.sort(q1))}}lt(Tu,"id","time"),lt(Tu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Rf(n,t,e){let i=0,s=n.length-1,o,l,u,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=xs(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=xs(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:h}=n[s]);const d=l-o;return d?u+(h-u)*(t-o)/d:u}class yy extends Tu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Rf(e,this.min),this._tableRange=Rf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,u,h,d,m;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)m=s[l+1],h=s[l-1],d=s[l],Math.round((m+h)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Rf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Rf(this._table,i*this._tableRange+this._minPos,!0)}}lt(yy,"id","timeseries"),lt(yy,"defaults",Tu.defaults);var N5=Object.freeze({__proto__:null,CategoryScale:dy,LinearScale:gy,LogarithmicScale:py,RadialLinearScale:qc,TimeScale:Tu,TimeSeriesScale:yy});const L5=[jV,y3,f5,N5],NA="label";function $1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function V5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function LA(n,t){n.labels=t}function VA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NA;const i=[];n.datasets=t.map(s=>{const o=n.datasets.find(l=>l[e]===s[e]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function z5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NA;const e={labels:[],datasets:[]};return LA(e,n.labels),VA(e,n.datasets,t),e}function U5(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:d=[],fallbackContent:m,updateMode:_,...b}=n,E=X.useRef(null),w=X.useRef(null),x=()=>{E.current&&(w.current=new Yd(E.current,{type:l,data:z5(u,o),options:h&&{...h},plugins:d}),$1(t,w.current))},A=()=>{$1(t,null),w.current&&(w.current.destroy(),w.current=null)};return X.useEffect(()=>{!s&&w.current&&h&&V5(w.current,h)},[s,h]),X.useEffect(()=>{!s&&w.current&&LA(w.current.config.data,u.labels)},[s,u.labels]),X.useEffect(()=>{!s&&w.current&&u.datasets&&VA(w.current.config.data,u.datasets,o)},[s,u.datasets]),X.useEffect(()=>{w.current&&(s?(A(),setTimeout(x)):w.current.update(_))},[s,h,u.labels,u.datasets,_]),X.useEffect(()=>{w.current&&(A(),setTimeout(x))},[l]),X.useEffect(()=>(x(),()=>A()),[]),Rs.createElement("canvas",{ref:E,role:"img",height:e,width:i,...b},m)}const B5=X.forwardRef(U5);function j5(n,t){return Yd.register(t),X.forwardRef((e,i)=>Rs.createElement(B5,{...e,ref:i,type:n}))}const F5=j5("line",tu),H5={labels:["Ene","Feb","Mar","Abr","May","Jun"],datasets:[{label:"Leads Generados",data:[0,0,0,0,0,0],borderColor:"#5468FF",backgroundColor:"rgba(84, 104, 255, 0.2)",borderWidth:2},{label:"Mensajes Enviados",data:[0,0,0,0,0,0],borderColor:"#4A90E2",backgroundColor:"rgba(74, 144, 226, 0.2)",borderWidth:2}]},q5={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}};Yd.register(...L5);const G5=()=>G.jsx(F5,{data:H5,options:q5}),zA=({user:n,onConnect:t,errorMessage:e,showModal:i,setShowModal:s,instagramToken:o})=>{const[l,u]=X.useState(""),[h,d]=X.useState(""),m=async()=>{await t(l,h),s(!1)};return G.jsxs("div",{className:"p-6 bg-[#F3F2FC] min-h-screen",children:[G.jsxs("h1",{className:"text-2xl font-bold mb-4 text-[#393346]",children:["Bienvenido, ",(n==null?void 0:n.displayName)||"Usuario"]}),G.jsx("button",{onClick:()=>s(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-full shadow-sm font-semibold hover:bg-blue-700 transition",children:"Conectar Instagram"}),i&&G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center",children:G.jsxs("div",{className:"bg-white rounded-lg p-6 w-[400px] shadow-md",children:[G.jsx("h2",{className:"text-lg font-semibold text-black mb-4",children:"Conectar cuenta de Instagram"}),e&&G.jsx("div",{className:"text-red-500 text-sm mb-4",children:e}),G.jsx("input",{type:"email",placeholder:"Correo de Instagram",value:l,onChange:_=>u(_.target.value),className:"w-full p-3 border border-gray-300 rounded-md mb-3 text-black placeholder-gray-400 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),G.jsx("input",{type:"password",placeholder:"Contraseña",value:h,onChange:_=>d(_.target.value),className:"w-full p-3 border border-gray-300 rounded-md mb-3 text-black placeholder-gray-400 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),G.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[G.jsx("input",{type:"checkbox",id:"prospectar",className:"cursor-pointer"}),G.jsx("label",{htmlFor:"prospectar",className:"text-sm text-black cursor-pointer",children:"Prospectar lista de seguimiento"})]}),G.jsx("button",{onClick:m,className:"w-full py-2 bg-[#8998F1] text-white rounded-md font-medium hover:bg-[#7988E0] transition",children:"Siguiente →"}),o&&G.jsxs("div",{className:"mt-4 p-3 bg-gray-100 border rounded",children:[G.jsx("p",{className:"text-sm text-gray-600",children:"Token de Instagram:"}),G.jsx("p",{className:"text-xs font-mono break-all",children:o})]}),G.jsx("div",{className:"text-right mt-2",children:G.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 text-sm bg-[#CCCCCC] hover:bg-[#7988E0] transition px-4 py-2 rounded",children:"Cancelar"})})]})})]})};zA.propTypes={user:vs.object,onConnect:vs.func.isRequired,errorMessage:vs.string,showModal:vs.bool.isRequired,setShowModal:vs.func.isRequired,instagramToken:vs.string};const Im="http://145.223.73.39:8006",UA=({instagramToken:n})=>{const[t,e]=X.useState(""),[i,s]=X.useState([]),[o,l]=X.useState(""),[u,h]=X.useState(!1),d=async()=>{h(!0),s([]);const b=n;try{const E=new FormData;E.append("link",t);const x=await(await fetch(`${Im}/obtener_likes`,{method:"POST",headers:{token:b},body:E})).json();x.status==="success"?s(x.likes):alert("Error al obtener likes: "+x.message)}catch(E){alert("Error de conexión"),console.error("Ocurrió un error:",E)}finally{h(!1)}};UA.propTypes={instagramToken:vs.string.isRequired};const m=async()=>{const b=n;try{const w=await(await fetch(`${Im}/seguir_usuarios`,{method:"POST",headers:{token:b,"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({usuarios:i.join(",")})})).json();alert("Seguimiento completado, revisa la consola para ver detalles"),console.log(w)}catch(E){alert("Error al seguir usuarios"),console.error("Ocurrió un error:",E)}},_=async()=>{const b=n;try{const w=await(await fetch(`${Im}/enviar_mensajes_multiple`,{method:"POST",headers:{token:b,"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({usuarios:i.join(","),mensaje:o})})).json();alert("Mensajes enviados, revisa la consola para ver detalles"),console.log(w)}catch(E){alert("Error al enviar mensajes"),console.error("Ocurrió un error:",E)}};return G.jsxs("div",{className:"p-6 min-h-screen",style:{backgroundColor:"#FFFFFF",color:"#080018"},children:[G.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"#080018"},children:"Nueva Solicitud"}),G.jsxs("div",{className:"mb-4",children:[G.jsx("input",{type:"text",placeholder:"Pega el link de la publicación",value:t,onChange:b=>e(b.target.value),className:"w-full p-3 rounded-md border",style:{backgroundColor:"#FAFAFA",borderColor:"#A6A6A6",color:"#393346",placeholder:{color:"#9E9E9E"}}}),G.jsx("button",{onClick:d,disabled:u,className:"mt-2 px-6 py-3 rounded-full font-semibold",style:{backgroundColor:u?"#A6A6A6":"#393346",color:"#FFFFFF",cursor:u?"not-allowed":"pointer"},children:u?"Cargando...":"Obtener Likes"})]}),i.length>0&&G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"mt-4",children:[G.jsxs("h3",{className:"text-xl font-semibold",style:{color:"#080018"},children:["Usuarios obtenidos (",i.length,")"]}),G.jsx("div",{className:"max-h-40 overflow-y-auto p-2 border rounded-md",style:{backgroundColor:"#F5F5F5",borderColor:"#A6A6A6",color:"#393346"},children:i.map(b=>G.jsx("p",{className:"text-sm",children:b},b))})]}),G.jsx("button",{onClick:m,className:"mt-4 px-6 py-3 rounded-full font-semibold",style:{backgroundColor:"#524D5D",color:"#FFFFFF"},children:"Seguir Usuarios"}),G.jsxs("div",{className:"mt-4",children:[G.jsx("textarea",{placeholder:"Escribe un mensaje para enviar",value:o,onChange:b=>l(b.target.value),className:"w-full p-3 rounded-md border",style:{backgroundColor:"#FAFAFA",borderColor:"#A6A6A6",color:"#393346",placeholder:{color:"#9E9E9E"}}}),G.jsx("button",{onClick:_,className:"mt-2 px-6 py-3 rounded-full font-semibold",style:{backgroundColor:"#6B6674",color:"#FFFFFF"},children:"Enviar Mensajes"})]})]})]})},X1="http://145.223.73.39:8006",W5=()=>{const n=xu(),[t,e]=X.useState(null),[i,s]=X.useState("Plantilla de mensajes"),[o,l]=X.useState(!0),[u,h]=X.useState(!1),[d,m]=X.useState(!0),[_,b]=X.useState(""),[E,w]=X.useState("");X.useEffect(()=>{const V=gu.onAuthStateChanged(async B=>{if(!B)n("/");else{e(B),l(!1);const Y=yT(bT,"users",B.uid),H=await eN(Y);if(H.exists()&&H.data().instagramToken){const Z=H.data().instagramToken,M=await x(Z);h(M),M?(localStorage.setItem("instagram_bot_token",Z),s("Plantilla de mensajes")):s("Conectar Instagram")}else s("Conectar Instagram")}});return()=>V()},[n,u]);const x=async V=>{try{const Y=await(await fetch(`${X1}/session`,{method:"GET",headers:{token:V}})).json();return Y.status==="success"&&Y.authenticated}catch(B){return console.error("Error al verificar sesión de Instagram:",B),!1}},A=async(V,B)=>{b("");const Y=new FormData;Y.append("username",V),Y.append("password",B);try{const Z=await(await fetch(`${X1}/login`,{method:"POST",body:Y})).json();if(Z.status==="success"&&Z.token){if(localStorage.setItem("instagram_bot_token",Z.token),w(Z.token),h(!0),m(!1),s("Plantilla de mensajes"),t){const M=yT(bT,"users",t.uid);await iN(M,{instagramToken:Z.token,instagramUsername:Z.username,instagramEmail:V,linkedAt:new Date().toISOString()},{merge:!0})}}else b(Z.message||"Error al conectar con Instagram")}catch(H){b("Error de red o conexión con la API."),console.error("Error al conectar con Instagram:",H)}},O=()=>o?G.jsx("div",{className:"flex justify-center items-center h-full",children:"Cargando..."}):i==="Nueva solicitud"?u?G.jsx(UA,{instagramToken:E}):G.jsx("div",{className:"p-6 bg-[#F3F2FC] min-h-screen flex justify-center items-center",children:G.jsx("p",{className:"text-red-600 font-semibold",children:"Debes conectar tu cuenta de Instagram para acceder a esta sección."})}):i==="Conectar Instagram"?G.jsx(zA,{user:t,onConnect:A,errorMessage:_,showModal:d,setShowModal:m,instagramToken:E}):i==="Plantilla de mensajes"?G.jsxs("div",{className:"p-6 bg-[#F3F2FC] min-h-screen",children:[G.jsxs("div",{className:"flex justify-between items-center mb-6",children:[G.jsxs("div",{className:"relative w-1/3",children:[G.jsx(bN,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),G.jsx("input",{type:"text",placeholder:"Buscar Plantilla",className:"p-4 pl-14 border border-gray-300 rounded-full w-full bg-white shadow-sm text-gray-600 focus:outline-none"})]}),G.jsxs("div",{className:"flex gap-4",children:[G.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-gray-700 hover:bg-gray-100 transition font-medium",children:"Plataformas ▼"}),G.jsxs("button",{className:"px-6 py-3 bg-[#5468FF] text-white rounded-full shadow-sm font-semibold flex items-center gap-2 hover:bg-[#4356cc] transition",children:[G.jsx(vN,{})," Crear Plantilla"]}),G.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-gray-700 hover:bg-gray-100 transition font-medium",children:"Tipo ▼"})]})]}),G.jsx("div",{className:"space-y-4",children:[{name:"Bienvenida",platform:"Instagram"},{name:"CTA",platform:"Whatsapp"},{name:"Videollamada",platform:"Instagram"},{name:"Nota de voz",platform:"Instagram"}].map((V,B)=>G.jsxs("div",{className:"p-4 bg-white rounded-2xl flex justify-between items-center shadow-sm border border-gray-200 hover:shadow-md transition",children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("span",{className:"p-3 bg-[#C6CEFF] rounded-full text-gray-700",children:"💬"}),G.jsxs("div",{children:[G.jsx("p",{className:"font-semibold text-gray-800",children:V.name}),G.jsx("p",{className:"text-sm text-gray-500",children:V.platform})]})]}),G.jsx("span",{className:"cursor-pointer text-gray-500 hover:text-gray-700 transition",children:"⋮"})]},B))}),E&&G.jsxs("div",{className:"mt-6 p-4 bg-white border border-gray-300 rounded-lg shadow-sm",children:[G.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Token de Instagram"}),G.jsx("p",{className:"text-xs font-mono break-all text-gray-800",children:E})]})]}):i==="Estadísticas"?G.jsxs("div",{className:"p-6 bg-[#F3F2FC] min-h-screen",children:[G.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[G.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsx("h2",{className:"text-4xl font-bold",children:"0"}),G.jsx(EN,{className:"text-gray-500"})]}),G.jsx("p",{className:"text-gray-500",children:"Mensajes enviados"}),G.jsx("div",{className:"h-64",children:G.jsx(G5,{})})]}),G.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Lead Generados"}),G.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-6",children:[G.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Tasa de Cierre"}),G.jsxs("p",{className:"text-gray-500",children:["Promedio ",G.jsx("span",{className:"font-bold",children:"0 Días"})]})]}),G.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[G.jsx("h3",{className:"text-lg font-semibold",children:"Tasa de Conversión"}),G.jsx("p",{className:"text-2xl font-bold",children:"0%"})]})]})]}):G.jsx("div",{className:"text-center p-10",children:"Seleccione una opción del menú"});return G.jsxs("div",{className:"h-screen flex bg-gray-100",children:[G.jsx(p_,{selectedOption:i,setSelectedOption:s}),G.jsx("div",{className:"flex-1 p-6 overflow-auto",children:O()})]})};TR.createRoot(document.getElementById("root")).render(G.jsx(LC,{children:G.jsxs(fC,{children:[G.jsx(Cf,{path:"/",element:G.jsx(SN,{})}),G.jsx(Cf,{path:"/register",element:G.jsx(wN,{})}),G.jsx(Cf,{path:"/dashboard",element:G.jsx(W5,{})})]})}));
